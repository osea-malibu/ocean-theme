<div class="product-ingredients hidden container mb-12 xl:max-w-screen-lg">
  {%- if section.settings.image_mobile != blank and section.settings.paragraph and section.settings.paragraph != blank -%}
    <picture>
      {%- if section.settings.image_desktop != blank -%}
        <source
          srcset="{{ section.settings.image_desktop | image_url: width: 720 }} 1x, {{ section.settings.image_desktop | image_url: width: 1440 }} 2x"
          media="(min-width: 768px)"
        >
      {%- else -%}
        <source
          srcset="{{ section.settings.image_mobile | image_url: width: 720 }} 1x, {{ section.settings.image_mobile | image_url: width: 1440 }} 2x,"
          media="(min-width: 768px)"
        >
      {%- endif -%}
      <source
        srcset="{{ section.settings.image_mobile | image_url: width: 400 }} 1x, {{ section.settings.image_mobile | image_url: width: 800 }} 2x"
        media="(min-width: 0px)"
      >
      <img 
        srcset="{{ section.settings.image_mobile | image_url: width: 400 }} 1x, {{ section.settings.image_mobile | image_url: width: 800 }} 2x"
        src="{{ section.settings.image_mobile | image_url: width: 800 }}"
        alt=""
        aria-hidden="true"
        height="{{ section.settings.image_mobile.height }}"
        width="{{ section.settings.image_mobile.width }}"
        class="block object-cover"
        loading="lazy"
      >
    </picture>
  {%- endif -%}
  <div>
    <h3 class="text-xl md:text-2xl tracking-wide font-medium mb-3 md:mb-4">{{ section.settings.header }}</h3>
    {%- if section.settings.key_ingredients and section.settings.key_ingredients != blank -%}
      <div class="text-sm md:text-base md:max-w-prose lg:max-w-2xl font-book">{{ section.settings.key_ingredients }}</div>
    {%- endif -%}
  </div>
</div>

{% schema %}
{
  "name": "Ingredients",
  "tag": "section",
  "settings": [
    {
      "type": "paragraph",
      "content": "This section is powered by the product metafields labeled 'Key ingredients'."
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "Image (mobile)",
      "info": "Size: 800w x 800h. Connect data source 'Key ingredients: Image (mobile)'"
    },
    {
      "type": "image_picker",
      "id": "image_desktop",
      "label": "Image (desktop)",
      "info": "Size: 1440w x 500h. Connect data source 'Key ingredients: Image (desktop)'."
    },
    {
      "type": "text",
      "id": "header",
      "label": "Header",
      "default": "Key ingredients"
    },
    {
      "type": "textarea",
      "id": "key_ingredients",
      "label": "Key ingredients",
      "info": "Connect data source 'Key ingredients: List'"
    },
    {
      "type": "text",
      "id": "full_ingredients",
      "label": "Ingredients",
      "info": "Connect data source 'Ingredients'"
    }
  ]
}
{% endschema %}
