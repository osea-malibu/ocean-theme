function getFocusableElements(e){return Array.from(e.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe"))}document.querySelectorAll('[id^="Details-"] summary').forEach((e=>{e.setAttribute("aria-expanded","false"),e.nextElementSibling.getAttribute("id")&&e.setAttribute("aria-controls",e.nextElementSibling.id),e.addEventListener("click",(e=>{e.currentTarget.setAttribute("aria-expanded",!e.currentTarget.closest("details").hasAttribute("open"))})),e.closest("header-drawer")||e.parentElement.addEventListener("keyup",onKeyUpEscape)}));const trapFocusHandlers={};function trapFocus(e,t=e){var s=getFocusableElements(e),i=s[0],n=s[s.length-1];removeTrapFocus(),trapFocusHandlers.focusin=t=>{t.target!==e&&t.target!==n&&t.target!==i||document.addEventListener("keydown",trapFocusHandlers.keydown)},trapFocusHandlers.focusout=function(){document.removeEventListener("keydown",trapFocusHandlers.keydown)},trapFocusHandlers.keydown=function(t){"TAB"===t.code.toUpperCase()&&(t.target!==n||t.shiftKey||(t.preventDefault(),i.focus()),t.target!==e&&t.target!==i||!t.shiftKey||(t.preventDefault(),n.focus()))},document.addEventListener("focusout",trapFocusHandlers.focusout),document.addEventListener("focusin",trapFocusHandlers.focusin),t.focus()}try{document.querySelector(":focus-visible")}catch{focusVisiblePolyfill()}function focusVisiblePolyfill(){const e=["ARROWUP","ARROWDOWN","ARROWLEFT","ARROWRIGHT","TAB","ENTER","SPACE","ESCAPE","HOME","END","PAGEUP","PAGEDOWN"];let t=null,s=null;window.addEventListener("keydown",(t=>{e.includes(t.code.toUpperCase())&&(s=!1)})),window.addEventListener("mousedown",(e=>{s=!0})),window.addEventListener("focus",(()=>{t&&t.classList.remove("focused"),s||(t=document.activeElement,t.classList.add("focused"))}),!0)}function pauseAllMedia(){document.querySelectorAll(".js-youtube").forEach((e=>{e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})),document.querySelectorAll(".js-vimeo").forEach((e=>{e.contentWindow.postMessage('{"method":"pause"}',"*")})),document.querySelectorAll("video").forEach((e=>e.pause())),document.querySelectorAll("product-model").forEach((e=>{e.modelViewerUI&&e.modelViewerUI.pause()}))}function removeTrapFocus(e=null){document.removeEventListener("focusin",trapFocusHandlers.focusin),document.removeEventListener("focusout",trapFocusHandlers.focusout),document.removeEventListener("keydown",trapFocusHandlers.keydown),e&&e.focus()}function onKeyUpEscape(e){if("ESCAPE"!==e.code.toUpperCase())return;const t=e.target.closest("details[open]");if(!t)return;const s=t.querySelector("summary");t.removeAttribute("open"),s.setAttribute("aria-expanded",!1),s.focus()}let headerBorderObserver=new IntersectionObserver((e=>{const t=document.querySelector("#HeaderContent");e[0].boundingClientRect.y<0?(t.classList.add("border-seaweed-300"),t.classList.remove("border-transparent")):(t.classList.remove("border-seaweed-300"),t.classList.add("border-transparent"))}));headerBorderObserver.observe(document.querySelector("#HeaderScrollPixel"));const lazyVideos=[].slice.call(document.querySelectorAll("video.lazy"));let lazyVideoObserver=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){for(var t in e.target.children){var s=e.target.children[t];"string"==typeof s.tagName&&"SOURCE"===s.tagName&&(s.src=s.dataset.src)}e.target.load(),e.target.classList.remove("lazy"),lazyVideoObserver.unobserve(e.target)}}))}));lazyVideos.forEach((e=>{lazyVideoObserver.observe(e)}));class QuantityInput extends HTMLElement{constructor(){super(),this.input=this.querySelector("input"),this.changeEvent=new Event("change",{bubbles:!0}),this.input.addEventListener("change",this.onInputChange.bind(this)),this.querySelectorAll("button").forEach((e=>e.addEventListener("click",this.onButtonClick.bind(this))))}onInputChange(e){const t=document.querySelector('input[value="autodeliver"]'),s=parseInt(e.currentTarget.value),i=this.querySelector('button[name="plus"]');t&&t.checked&&(this.productForm=document.querySelector("product-form.pdp-product-form"),s>4?(this.input.value=4,this.productForm.handleErrorMessage("You may not subscribe to more than 4 of this product."),setTimeout((()=>this.productForm.handleErrorMessage()),5e3),i.setAttribute("disabled","")):4==s?i.setAttribute("disabled",""):(i.disabled&&i.removeAttribute("disabled"),this.productForm.handleErrorMessage()))}onButtonClick(e){e.preventDefault();const t=this.input.value;"plus"===e.target.name?this.input.stepUp():this.input.stepDown(),t!==this.input.value&&this.input.dispatchEvent(this.changeEvent)}}function debounce(e,t){let s;return(...i)=>{clearTimeout(s),s=setTimeout((()=>e.apply(this,i)),t)}}function fetchConfig(e="json"){return{method:"POST",headers:{"Content-Type":"application/json",Accept:`application/${e}`}}}customElements.define("quantity-input",QuantityInput),"/a/loop_subscriptions/bundle/eee9c289024140ab984c3fb75988e223"===window.location.pathname&&window.location.replace("https://oseamalibu.com/collections/skincare-sets-1"),void 0===window.Shopify&&(window.Shopify={}),Shopify.bind=function(e,t){return function(){return e.apply(t,arguments)}},Shopify.setSelectorByValue=function(e,t){for(var s=0,i=e.options.length;s<i;s++){var n=e.options[s];if(t==n.value||t==n.innerHTML)return e.selectedIndex=s,s}},Shopify.addListener=function(e,t,s){e.addEventListener?e.addEventListener(t,s,!1):e.attachEvent("on"+t,s)},Shopify.postLink=function(e,t){var s=(t=t||{}).method||"post",i=t.parameters||{},n=document.createElement("form");for(var o in n.setAttribute("method",s),n.setAttribute("action",e),i){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",o),r.setAttribute("value",i[o]),n.appendChild(r)}document.body.appendChild(n),n.submit(),document.body.removeChild(n)},Shopify.CountryProvinceSelector=function(e,t,s){this.countryEl=document.getElementById(e),this.provinceEl=document.getElementById(t),this.provinceContainer=document.getElementById(s.hideElement||t),Shopify.addListener(this.countryEl,"change",Shopify.bind(this.countryHandler,this)),this.initCountry(),this.initProvince()},Shopify.CountryProvinceSelector.prototype={initCountry:function(){var e=this.countryEl.getAttribute("data-default");Shopify.setSelectorByValue(this.countryEl,e),this.countryHandler()},initProvince:function(){var e=this.provinceEl.getAttribute("data-default");e&&this.provinceEl.options.length>0&&Shopify.setSelectorByValue(this.provinceEl,e)},countryHandler:function(e){var t=(n=this.countryEl.options[this.countryEl.selectedIndex]).getAttribute("data-provinces"),s=JSON.parse(t);if(this.clearOptions(this.provinceEl),s&&0==s.length)this.provinceContainer.style.display="none";else{for(var i=0;i<s.length;i++){var n;(n=document.createElement("option")).value=s[i][0],n.innerHTML=s[i][1],this.provinceEl.appendChild(n)}this.provinceContainer.style.display=""}},clearOptions:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},setOptions:function(e,t){var s=0;for(t.length;s<t.length;s++){var i=document.createElement("option");i.value=t[s],i.innerHTML=t[s],e.appendChild(i)}}};class ShippingCalculator extends HTMLElement{constructor(){super(),this.zipForm=this.querySelector("form"),this.zipInput=this.querySelector("#shippingzip"),this.output=this.querySelector("#transitTimeOutput"),this.zipForm.addEventListener("submit",(e=>this.onZipSubmit(e)))}onZipSubmit(e){e.preventDefault();const{state:t,transitTime:s}=this.getStateData(this.zipInput.value),{transitionStart:i,transitionEnd:n}=this.output.dataset;this.output.innerHTML=`${t}: ${s}`,this.output.classList.remove(...i.split(" ")),this.output.classList.add(...n.split(" "))}getStateData(e){if("string"!=typeof e)return void console.error("Must pass the zipcode as a string.");if(5!==e.length)return void console.error("Must pass a 5-digit zipcode.");const t=parseInt(e,10);let s,i,n;return t>=35e3&&t<=36999?(s="AL",i="Alabama",n="5-6 days"):t>=99500&&t<=99999?(s="AK",i="Alaska",n="5-6 days"):t>=85e3&&t<=86999?(s="AZ",i="Arizona",n="2-3 days"):t>=71600&&t<=72999?(s="AR",i="Arkansas",n="4-5 days"):t>=9e4&&t<=96699?(s="CA",i="California",n="2-3 days"):t>=8e4&&t<=81999?(s="CO",i="Colorado",n="3-4 days"):t>=6e3&&t<=6389||t>=6391&&t<=6999?(s="CT",i="Connecticut",n="5-6 days"):t>=19700&&t<=19999?(s="DE",i="Delaware",n="5-6 days"):t>=32e3&&t<=34999?(s="FL",i="Florida",n="5-6 days"):t>=3e4&&t<=31999||t>=39800&&t<=39999?(s="GA",i="Georgia",n="4-5 days"):t>=96700&&t<=96999?(s="HI",i="Hawaii",n="5-6 days"):t>=83200&&t<=83999&&83414!=t?(s="ID",i="Idaho",n="3-4 days"):t>=6e4&&t<=62999?(s="IL",i="Illinois",n="5-6 days"):t>=46e3&&t<=47999?(s="IN",i="Indiana",n="5-6 days"):t>=5e4&&t<=52999?(s="IA",i="Iowa",n="4-5 days"):t>=66e3&&t<=67999?(s="KS",i="Kansas",n="4-5 days"):t>=4e4&&t<=42999?(s="KY",i="Kentucky",n="4-5 days"):t>=7e4&&t<=71599?(s="LA",i="Louisiana",n="4-5 days"):t>=3900&&t<=4999?(s="ME",i="Maine",n="5-6 days"):t>=20600&&t<=21999?(s="MD",i="Maryland",n="5-6 days"):t>=1e3&&t<=2799||5501==t||5544==t?(s="MA",i="Massachusetts",n="5-6 days"):t>=48e3&&t<=49999?(s="MI",i="Michigan",n="4-5 days"):t>=55e3&&t<=56899?(s="MN",i="Minnesota",n="4-5 days"):t>=38600&&t<=39999?(s="MS",i="Mississippi",n="4-5 days"):t>=63e3&&t<=65999?(s="MO",i="Missouri",n="4-5 days"):t>=59e3&&t<=59999?(s="MT",i="Montana",n="4-5 days"):t>=68e3&&t<=69999?(s="NE",i="Nebraska",n="4-5 days"):t>=88900&&t<=89999?(s="NV",i="Nevada",n="2-3 days"):t>=3e3&&t<=3899?(s="NH",i="New Hampshire",n="5-6 days"):t>=7e3&&t<=8999?(s="NJ",i="New Jersey",n="5-6 days"):t>=87e3&&t<=88499?(s="NM",i="New Mexico",n="3-4 days"):t>=1e4&&t<=14999||6390==t||501==t||544==t?(s="NY",i="New York",n="5-6 days"):t>=27e3&&t<=28999?(s="NC",i="North Carolina",n="4-5 days"):t>=58e3&&t<=58999?(s="ND",i="North Dakota",n="3-4 days"):t>=43e3&&t<=45999?(s="OH",i="Ohio",n="4-5 days"):t>=73e3&&t<=73199||t>=73400&&t<=74999?(s="OK",i="Oklahoma",n="3-4 days"):t>=97e3&&t<=97999?(s="OR",i="Oregon",n="3-4 days"):t>=15e3&&t<=19699?(s="PA",i="Pennsylvania",n="5-6 days"):t>=300&&t<=999?(s="PR",i="Puerto Rico",n="5-6 days"):t>=2800&&t<=2999?(s="RI",i="Rhode Island",n="5-6 days"):t>=29e3&&t<=29999?(s="SC",i="South Carolina",n="4-5 days"):t>=57e3&&t<=57999?(s="SD",i="South Dakota",n="3-4 days"):t>=37e3&&t<=38599?(s="TN",i="Tennessee",n="4-5 days"):t>=75e3&&t<=79999||t>=73301&&t<=73399||t>=88500&&t<=88599?(s="TX",i="Texas",n="3-4 days"):t>=84e3&&t<=84999?(s="UT",i="Utah",n="3-4 days"):t>=5e3&&t<=5999?(s="VT",i="Vermont",n="5-6 days"):t>=20100&&t<=20199||t>=22e3&&t<=24699||20598==t?(s="VA",i="Virginia",n="4-5 days"):t>=2e4&&t<=20099||t>=20200&&t<=20599||t>=56900&&t<=56999?(s="DC",i="Washington DC",n="4-5 days"):t>=98e3&&t<=99499?(s="WA",i="Washington",n="3-4 days"):t>=24700&&t<=26999?(s="WV",i="West Virginia",n="5-6 days"):t>=53e3&&t<=54999?(s="WI",i="Wisconsin",n="4-5 days"):t>=82e3&&t<=83199||83414==t?(s="WY",i="Wyoming",n="4-5 days"):(s="none",i="none",n="Sorry, we could not find that zipcode in our database. Please contact Customer Care for shipping times."),{st:s,state:i,transitTime:n}}}customElements.define("shipping-calculator",ShippingCalculator);class MenuDrawer extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),"iPhone"===navigator.platform&&document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`),this.addEventListener("keyup",this.onKeyUp.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.bindEvents()}bindEvents(){this.querySelectorAll("summary").forEach((e=>e.addEventListener("click",this.onSummaryClick.bind(this)))),this.querySelector(".menu-scrim").addEventListener("click",this.onSummaryClick.bind(this)),this.querySelectorAll(".submenu-close").forEach((e=>e.addEventListener("click",this.onCloseSubmenu.bind(this))));const e=this.querySelector(".menu-close");e&&e.addEventListener("click",this.closeMenuDrawer.bind(this))}onKeyUp(e){if("ESCAPE"!==e.code.toUpperCase())return;const t=e.target.closest("details[open]");t&&(t===this.mainDetailsToggle?this.closeMenuDrawer(e,this.mainDetailsToggle.querySelector("summary")):this.closeSubmenu(t))}onSummaryClick(e){const t=e.currentTarget,s=t.parentNode,i=s.hasAttribute("open"),n=window.matchMedia("(prefers-reduced-motion: reduce)");function o(){trapFocus(t.nextElementSibling,s.querySelector("button")),t.nextElementSibling.removeEventListener("transitionend",o)}s===this.mainDetailsToggle?(i&&e.preventDefault(),i?this.closeMenuDrawer(e,t):this.openMenuDrawer(t)):setTimeout((()=>{s.classList.add("menu-opening"),t.setAttribute("aria-expanded",!0),!n||n.matches?o():t.nextElementSibling.addEventListener("transitionend",o)}),100)}openMenuDrawer(e){setTimeout((()=>{this.mainDetailsToggle.classList.add("menu-opening")})),e.setAttribute("aria-expanded",!0),trapFocus(this.mainDetailsToggle,e),document.body.classList.add("overflow-hidden")}closeMenuDrawer(e,t=!1){void 0!==e&&(this.mainDetailsToggle.classList.remove("menu-opening"),this.mainDetailsToggle.querySelectorAll("details").forEach((e=>{e.removeAttribute("open"),e.classList.remove("menu-opening")})),document.body.classList.remove("overflow-hidden"),removeTrapFocus(t),this.closeAnimation(this.mainDetailsToggle))}onFocusOut(e){setTimeout((()=>{this.mainDetailsToggle.hasAttribute("open")&&!this.mainDetailsToggle.contains(document.activeElement)&&this.closeMenuDrawer()}))}onCloseSubmenu(e){const t=e.currentTarget.closest("details");this.closeSubmenu(t)}closeSubmenu(e){e.classList.remove("menu-opening"),e.querySelector("summary").setAttribute("aria-expanded",!1),removeTrapFocus(),this.closeAnimation(e)}closeAnimation(e){let t;const s=i=>{void 0===t&&(t=i);i-t<400?window.requestAnimationFrame(s):(e.removeAttribute("open"),e.closest("details[open]")&&trapFocus(e.closest("details[open]"),e.querySelector("summary")))};window.requestAnimationFrame(s)}setMenuTopValue(){const e=this.querySelector(".menu-drawer"),t=this.querySelector(".menu-scrim"),s=document.querySelector("#AnnouncementBar"),i=document.querySelector("header.header"),n=s.offsetHeight+i.offsetHeight;e.style.top=`${n}px`,t.style.top=`${n}px`}}customElements.define("menu-drawer",MenuDrawer);class DismissableAnnoucement extends HTMLElement{constructor(){super(),this.dismissableMessage=this.querySelector("#DismissableMessage"),this.defaultMessage=this.querySelector("#DismissableDefault"),this.closeButton=this.querySelector("#DismissableClose"),this.closeButton.addEventListener("click",this.onClose.bind(this))}connectedCallback(){if(JSON.parse(sessionStorage.getItem("osea.announcementDismissed")))this.useDefaultMessage();else{document.querySelector("menu-drawer").setMenuTopValue()}}onClose(){const e=document.querySelector("#HamburgerMenu .menu-drawer"),t=document.querySelector("#HamburgerMenu .menu-scrim");e.style.removeProperty("top"),t.style.removeProperty("top"),this.useDefaultMessage(),sessionStorage.setItem("osea.announcementDismissed",!0)}useDefaultMessage(){this.dismissableMessage.classList.add("hidden"),this.closeButton.classList.add("hidden"),this.defaultMessage.classList.remove("hidden")}}customElements.define("dismissable-announcement",DismissableAnnoucement);class ModalDialog extends HTMLElement{constructor(){super(),this.querySelector('[id^="ModalClose-"]').addEventListener("click",this.hide.bind(this)),this.querySelectorAll(".close-modal").forEach((e=>e.addEventListener("click",this.hide.bind(this)))),this.addEventListener("keyup",(e=>{"ESCAPE"===e.code.toUpperCase()&&this.hide()})),this.classList.contains("media-modal")?this.addEventListener("pointerup",(e=>{"mouse"!==e.pointerType||e.target.closest("deferred-media, product-model")||this.hide()})):this.addEventListener("click",(e=>{"MODAL-DIALOG"===e.target.nodeName&&this.hide()}))}show(e){this.openedBy=e;const t=this.querySelector(".template-popup");document.body.classList.add("overflow-hidden"),this.setAttribute("open",""),t&&t.loadContent(),trapFocus(this,this.querySelector('[role="dialog"]')),window.pauseAllMedia()}hide(){document.body.classList.remove("overflow-hidden"),this.removeAttribute("open"),removeTrapFocus(this.openedBy),window.pauseAllMedia()}}customElements.define("modal-dialog",ModalDialog);class ModalOpener extends HTMLElement{constructor(){super();const e=this.querySelector("button")||this.querySelector('[type="button"]');e&&e.addEventListener("click",(()=>{const t=document.querySelector(this.getAttribute("data-modal"));t&&t.show(e)}))}}customElements.define("modal-opener",ModalOpener);class DeferredMedia extends HTMLElement{constructor(){super();const e=this.querySelector('[id^="Deferred-Poster-"]');e&&e.addEventListener("click",this.loadContent.bind(this))}loadContent(){if(window.pauseAllMedia(),!this.getAttribute("loaded")){const e=document.createElement("div");e.appendChild(this.querySelector("template").content.firstElementChild.cloneNode(!0)),this.setAttribute("loaded",!0),this.appendChild(e).focus()}}}customElements.define("deferred-media",DeferredMedia);class VariantSelects extends HTMLElement{constructor(){super(),this.addEventListener("change",(()=>{this.onVariantChange()})),this.addEventListener("click",(()=>{}))}connectedCallback(){document.addEventListener("DOMContentLoaded",(()=>{this.updateOptions(),this.updateMasterId(),this.updateMedia()}))}onVariantChange(){this.updateOptions(),this.updateMasterId(),this.updateIsSubscription(),this.toggleAddButton(!0,"",!1),this.removeErrorMessage(),this.resetPurchaseOption(),this.currentVariant?(this.updateMedia(),this.updateURL(),this.updateVariantInput(),this.renderProductInfo(),this.updateOptionVisibility()):(this.toggleAddButton(!0,"",!0),this.setUnavailable())}updateOptions(){this.options=Array.from(this.querySelectorAll("select"),(e=>e.value))}updateMasterId(){this.currentVariant=this.getVariantData().find((e=>!e.options.map(((e,t)=>this.options[t]===e)).includes(!1)))}updateIsSubscription(){const e=document.querySelector('input[name="properties[_is_subscription]"]');this.currentVariant&&(this.currentVariant.selling_plan_allocations.length>0?e.value=!0:e.value=!1)}resetPurchaseOption(){window.location.pathname.includes("/products/")&&document.querySelector("subscription-radios")&&(document.querySelector(".purchase-option.onetime").classList.add("bg-wave-200"),document.querySelector('input[value="onetime"]').checked=!0,document.querySelector(".purchase-option.autodeliver").classList.remove("bg-wave-200"),document.querySelector('input[value="autodeliver"]').checked=!1)}updateMedia(){if(this.currentVariant&&this.currentVariant.featured_media)if(window.location.pathname.includes("/products/")){const e=document.querySelector("#Product-VariantImage"),t=this.currentVariant.featured_image.src;e&&(e.srcset=`${t}&width=294 1x, ${t}&width=588 2x`,e.src=t)}else{const e=document.getElementById(`ProductCard-DefaultImage-${this.dataset.section}`),t=this.currentVariant.featured_media.preview_image.src;e&&(e.srcset=`${t}&width=328 1x, ${t}&width=656 2x`,e.src=t)}}updateURL(){this.currentVariant&&"false"!==this.dataset.updateUrl&&window.history.replaceState({},"",`${this.dataset.url}?variant=${this.currentVariant.id}`)}updateVariantInput(){document.querySelectorAll(`#product-form-${this.dataset.section}, #product-form-installment`).forEach((e=>{const t=e.querySelector('input[name="id"]');t.value=this.currentVariant.id,t.dispatchEvent(new Event("change",{bubbles:!0}))}))}removeErrorMessage(){const e=this.closest("section");if(!e)return;const t=e.querySelector("product-form");t&&t.handleErrorMessage()}renderProductInfo(){const{id:e}=this.currentVariant;fetch(`${this.dataset.url}?variant=${e}`).then((e=>e.text())).then((t=>{const s=(new DOMParser).parseFromString(t,"text/html"),i=(e,t)=>{const i=s.querySelector(t||e),n=document.querySelector(e);i&&n&&(n.innerHTML=i.innerHTML)};i(".product .main-price"),i(".subscription .onetime .price"),i(".subscription .autodeliver .price"),i(".product .benefits"),i(`[value="${e}"]:not(.mini-card-id-input) ~ button[name="add"] .price`,".product .main-price"),i(".subscription .selling-plan-options"),this.toggleAddButton(!this.currentVariant.available,window.variantStrings.soldOut)}))}updateOptionVisibility(){if(this.currentVariant&&window.location.pathname.includes("/products/")){const s=document.querySelector("subscription-radios");if(s){const e=this.currentVariant.selling_plan_allocations.map((e=>e.selling_plan_group_id));this.currentVariant.selling_plan_allocations.length>0&&e.includes(s.dataset.subscriptionGroupId)?(s.classList.add("max-h-52"),s.classList.remove("max-h-0")):(s.classList.add("max-h-0"),s.classList.remove("max-h-52"))}const i=["Fragrance free","Scented"];if(this.currentVariant.options.some((e=>i.indexOf(e)>=0))){const s=document.getElementsByName("Scent"),i=document.getElementsByName("Size"),n=document.querySelectorAll(".scent-scented"),o=document.querySelectorAll(".scent-fragrance-free");n.forEach((e=>{e.classList.toggle("hidden",s[1].checked)})),o.forEach((e=>{e.classList.toggle("hidden",s[0].checked)}));var e=this.currentVariant.option2,t=this.currentVariant.option1;i.forEach((e=>e.disabled=!1)),s.forEach((e=>e.disabled=!1)),"1 fl oz"===e&&s.forEach((e=>{"Fragrance free"===e.value&&(e.disabled=!0)})),"Fragrance free"===t&&i.forEach((e=>{"1 fl oz"===e.value&&(e.disabled=!0)}))}}}toggleAddButton(e=!0,t,s=!0){const i=document.getElementById(`product-form-${this.dataset.section}`);if(!i)return;const n=i.querySelector('[name="add"]'),o=i.querySelector('[name="add"] > .label');n&&(e?(n.setAttribute("disabled","disabled"),t&&(o.textContent=t)):(n.removeAttribute("disabled"),o.textContent=window.variantStrings.addToCart))}setUnavailable(){const e=document.getElementById(`product-form-${this.dataset.section}`),t=e.querySelector('[name="add"]'),s=e.querySelector('[name="add"] > span'),i=document.getElementById(`price-${this.dataset.section}`);t&&(s.textContent=window.variantStrings.unavailable,i&&i.classList.add("invisible"))}getVariantData(){return this.variantData=this.variantData||JSON.parse(this.querySelector('[type="application/json"].variant-data').textContent),this.variantData}}customElements.define("variant-selects",VariantSelects);class VariantRadios extends VariantSelects{constructor(){super()}updateOptions(){const e=Array.from(this.querySelectorAll("fieldset"));this.options=e.map((e=>Array.from(e.querySelectorAll("input")).find((e=>e.checked)).value))}}customElements.define("variant-radios",VariantRadios);class SubscriptionRadios extends HTMLElement{constructor(){super(),this.isSubscriptionInput=document.querySelector('input[name="properties[_is_subscription]"]'),this.purchaseOptionInputs=Array.from(this.querySelectorAll('input[name="purchase_option"]'));const e=new URLSearchParams(window.location.search).get("type");this.purchaseOptionInputs.forEach((t=>{if(("subscription"===e||document.referrer.includes("/pages/subscribe"))&&"autodeliver"===t.value){t.checked=!0,this.setActiveState(),this.updateMainPrice(t),this.setDefaultSellingPlan();document.querySelector('input[name="properties[_is_subscription]"]').value=!0,document.querySelector("#PayInstallments")?.classList.add("opacity-0")}t.addEventListener("change",this.onPurchaseOptionChange.bind(this))}))}onPurchaseOptionChange(e){const{value:t,checked:s}=e.currentTarget;if(s){this.setActiveState(),this.updateMainPrice(e.currentTarget);const s=document.querySelector('.pdp-quantity button[name="plus"]');if("onetime"===t)this.clearSellingPlanValues(),this.isSubscriptionInput.value=!1,this.productForm=document.querySelector("product-form.pdp-product-form"),document.querySelector("#PayInstallments")?.classList.remove("opacity-0"),s&&s.disabled&&s.removeAttribute("disabled"),this.productForm.handleErrorMessage();else if("autodeliver"===t){this.setDefaultSellingPlan(),this.isSubscriptionInput.value=!0,document.querySelector("#PayInstallments")?.classList.add("opacity-0");const e=document.querySelector(".pdp-quantity input");if(e){const t=parseInt(e.value);t>4?(e.value=4,s.setAttribute("disabled","")):4==t&&s.setAttribute("disabled","")}}}}setActiveState(){this.purchaseOptionInputs?.forEach((e=>{e.closest(".purchase-option").classList.toggle("bg-wave-200",e.checked),e.closest(".purchase-option").classList.toggle("bg-white",!e.checked)}))}updateMainPrice(e){const t=e.closest(".purchase-option").querySelector(".price");document.querySelector(".main-price.price").innerHTML=t.innerHTML}clearSellingPlanValues(){Array.from(this.querySelectorAll('input[name="selling_plan"]'))?.forEach((e=>e.checked=!1))}setDefaultSellingPlan(){const e=this.dataset.recommendedInterval||2;Array.from(this.querySelectorAll('input[name="selling_plan"]'))[e-1].checked=!0}}customElements.define("subscription-radios",SubscriptionRadios);class ProductStickyAtc extends HTMLElement{constructor(){super()}connectedCallback(){this.atcObserver=new IntersectionObserver((e=>{e[0].intersectionRatio<=0?this.classList.remove("invisible","opacity-0"):this.classList.add("invisible","opacity-0")})),this.atcObserver.observe(document.querySelector(".product-form.pdp-product-form"))}disconnectedCallback(){this.atcObserver&&this.atcObserver.disconnect()}}customElements.define("product-sticky-atc",ProductStickyAtc);class TabController extends HTMLElement{constructor(){super(),this.tablist=this.querySelector("[role=tablist]"),this.tabs=this.querySelectorAll("[role=tab]"),this.tabpanels=this.querySelectorAll("[role=tabpanel]"),this.activeTab=this.querySelector("[role=tab][aria-selected=true]"),this.addEventListeners(),this.checkUrlParameters()}addEventListeners(){for(let e of this.tabs)e.addEventListener("click",(t=>{t.preventDefault(),this.setActiveTab(e.getAttribute("aria-controls"))})),e.addEventListener("keyup",(t=>{13!=t.keyCode&&32!=t.keyCode||(t.preventDefault(),this.setActiveTab(e.getAttribute("aria-controls")))}));this.tablist.addEventListener("keyup",(e=>{switch(e.keyCode){case 35:e.preventDefault(),this.setActiveTab(this.tabs[this.tabs.length-1].getAttribute("aria-controls"));break;case 36:e.preventDefault(),this.setActiveTab(this.tabs[0].getAttribute("aria-controls"));break;case 37:case 38:e.preventDefault();let t=[...this.tabs].indexOf(this.activeTab)-1;t=t>=0?t:this.tabs.length-1,this.setActiveTab(this.tabs[t].getAttribute("aria-controls"));break;case 39:case 40:e.preventDefault();let s=[...this.tabs].indexOf(this.activeTab)+1;s=s<this.tabs.length?s:0,this.setActiveTab(this.tabs[s].getAttribute("aria-controls"))}}))}setActiveTab(e,t=!1){const s=this.dataset.activeClass?.split(" ")||["bg-wave-200"];for(let i of this.tabs)i.getAttribute("aria-controls")==e?(i.setAttribute("aria-selected","true"),s.forEach((e=>i.classList.add(e))),!t&&i.focus(),this.activeTab=i):(i.setAttribute("aria-selected","false"),s.forEach((e=>i.classList.remove(e))));for(let s of this.tabpanels)s.getAttribute("id")==e?"true"===s.getAttribute("aria-expanded")?!t&&s.focus():s.setAttribute("aria-expanded","true"):s.setAttribute("aria-expanded","false")}checkUrlParameters(){const e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});let{tab:t,question:s}=e;if(t&&(this.setActiveTab(`tab-${t}`,!0),s)){const e=this.querySelector(`#tab-${t} ul.accordion li:nth-child(${s}) details`);e&&(e.setAttribute("open",""),setTimeout((()=>e.scrollIntoView({block:"start"})),1e3))}}}customElements.define("tab-controller",TabController);class HorizontalScrollBox extends HTMLElement{constructor(){super(),this.scrollBox=this.querySelector(".scroll-box"),this.navNext=this.querySelector("nav .next"),this.navPrev=this.querySelector("nav .prev"),this.addEventListeners(),this.handleShowNav()}addEventListeners(){this.scrollBox.getBoundingClientRect().width<this.scrollBox.scrollWidth&&(this.navNext.addEventListener("click",(()=>this.scrollContainer("next"))),this.navPrev.addEventListener("click",(()=>this.scrollContainer("prev"))),this.scrollBox.addEventListener("scroll",this.handleShowNav.bind(this)))}scrollContainer(e){this.scrollBox.scrollTo({left:"next"===e?this.scrollBox.scrollLeft+120:this.scrollBox.scrollLeft-120,behavior:"smooth"})}handleShowNav(){this.navNext.classList.toggle("nav-hide",this.scrollBox.scrollWidth-this.scrollBox.scrollLeft==this.scrollBox.getBoundingClientRect().width),this.navPrev.classList.toggle("nav-hide",0==this.scrollBox.scrollLeft)}}customElements.define("horizontal-scroll-box",HorizontalScrollBox);class GlideSlider extends HTMLElement{constructor(){super(),this.id=this.getAttribute("id"),this.options={},this.twBreakpoints=JSON.parse('{"2xs":412,"xs":472,"sm":640,"md":768,"lg":1024,"xl":1280,"2xl":1536}');const{breakpointLimit:e}=this.dataset,t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);if("none"===e)this.initSlider();else if(t<=this.twBreakpoints[e])this.initSlider();else{this.classList.remove("glide"),this.classList.add("relative");const e=this.querySelector(".glide__track"),t=this.querySelector(".glide__slides");e.classList.forEach((e=>{"glide__track"!==e&&t.classList.add(e)})),e.replaceWith(...e.childNodes)}}getPath(e){return e?this.options.breakpoints[e]:this.options}addOtherPeek(e,t){const s=["before","after"].filter((t=>t!==e))[0],i=this.getPath(t);return i?.peek?.[s]?{}:{[s]:0}}parseValue(e){let t;return t=isNaN(e)?["true","false"].includes(e)?"true"===e:e:parseInt(e),t}buildOptionObject(e,t,s,i){return{[e]:s?{...[this.getPath(i)]?.[e],[t]:this.parseValue(s),..."peek"===e&&this.addOtherPeek(t,i)}:this.parseValue(t)}}getOptions(e){e.forEach((e=>{const t=e.split(/[\:\.\-]/);if(e.includes(":")){const e=this.twBreakpoints[t[0]];this.options.breakpoints||(this.options.breakpoints={}),this.options.breakpoints[e]={...this.options.breakpoints?.[e],...this.buildOptionObject(t[1],t[2],t[3],e)}}else this.options={...this.options,...this.buildOptionObject(t[0],t[1],t[2])}}))}initSlider(){const e=Array.from(this.classList);if(e.length>0){const t=["perView","peek","focusAt","type","bound","gap","autoplay"],s=e.filter((e=>t.some((t=>e.includes(t)))));s.length>0&&this.getOptions(s)}new Glide(`#${this.id}`,this.options).mount()}}customElements.define("glide-slider",GlideSlider);class GiftWithPurchaseUrl extends HTMLElement{constructor(){super(),this.cart=document.querySelector("cart-notification")||document.querySelector("cart-drawer");const{productId:e}=this.dataset;new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)}).gwp===e&&this.checkGiftQualifiers()}checkGiftQualifiers(){const{threshold:e,variantId:t}=this.dataset;fetch(window.Shopify.routes.root+"cart.js").then((e=>e.json())).then((s=>{s.items.map((e=>e.id)).includes(t)||(0===Number(e)?this.cart.addFreeGift(t):Number(e)>0&&(localStorage.getItem("osea.gwpUrlVariantId")!==t&&(document.getElementById("GwpUrlModal").show(),localStorage.setItem("osea.gwpUrlVariantId",t)),s.total_price>=e&&this.cart.addFreeGift(t)))})).catch((e=>console.error(e)))}}customElements.define("gift-with-purchase-url",GiftWithPurchaseUrl);class CountdownComponent extends HTMLElement{constructor(){super(),this.updateTimer()}updateTimer(){setInterval((()=>{const e=this.dataset.date.split("/"),t=[e[2],e[0],e[1]],s=new Date(`${t.join("-")}T${this.dataset.time}:00-07:00`)-new Date,i=Math.floor(s/864e5),n=Math.floor(s/36e5),o=Math.floor(s/6e4),r=Math.floor(s/1e3);this.querySelector(".countdown-days").textContent=i,this.querySelector(".countdown-hours").textContent=n-24*i,this.querySelector(".countdown-minutes").textContent=o-60*n,this.querySelector(".countdown-seconds").textContent=r-60*o}),1e3)}}customElements.define("countdown-component",CountdownComponent);class GiftCardFields extends HTMLElement{constructor(){super(),this.addEventListener("change",this.onInputChange)}onInputChange(e){document.querySelector(`product-form.pdp-product-form #sktc${e.target.id}`).value=e.target.value}}customElements.define("gift-card-fields",GiftCardFields);class CollectionAnchors extends HTMLElement{constructor(){super(),this.querySelectorAll("a").forEach((e=>e.addEventListener("click",(()=>this.onAnchorClick(e)))))}onAnchorClick(e){document.querySelectorAll("details.subcollection").forEach((t=>{t.id===e.getAttribute("href").substring(1)?t.setAttribute("open",""):t.removeAttribute("open")}))}}customElements.define("collection-anchors",CollectionAnchors);class CollectionVideo extends HTMLElement{constructor(){super(),this.verticalVideo=this.querySelector(".vertical-video"),this.horizontalVideo=this.querySelector(".horizontal-video"),this.closeButton=this.querySelector(".video-close"),this.closeButton.addEventListener("click",this.closeHorizontalVideo.bind(this))}connectedCallback(){localStorage.getItem("osea.hideCollectionVideo")||(this.videoObserver=new IntersectionObserver((e=>{e[0].intersectionRatio<=0?this.showHorizontalVideo():this.hideHorizontalVideo()})),this.videoObserver.observe(this.verticalVideo))}disconnectedCallback(){this.videoObserver&&this.videoObserver.disconnect()}hideHorizontalVideo(){this.horizontalVideo.classList.remove("opacity-100","visible"),this.horizontalVideo.classList.add("opacity-0","invisible")}showHorizontalVideo(){this.horizontalVideo.classList.add("opacity-100","visible"),this.horizontalVideo.classList.remove("opacity-0","invisible")}closeHorizontalVideo(e){e.preventDefault(),this.hideHorizontalVideo(),this.videoObserver.disconnect(),localStorage.setItem("osea.hideCollectionVideo",!0)}}customElements.define("collection-video",CollectionVideo);class Accordion{constructor(e){this.el=e,this.summary=e.querySelector("summary"),this.content=e.querySelector(".content"),this.duration=parseInt(e.dataset.duration),this.animation=null,this.isCollapsing=!1,this.isExpanding=!1,this.summary.addEventListener("click",(e=>this.onClick(e)))}onClick(e){e.preventDefault(),this.el.style.overflow="hidden",this.isCollapsing||!this.el.open?this.open():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isCollapsing=!0;const e=`${this.el.offsetHeight}px`,t=`${this.summary.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[e,t]},{duration:this.duration,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isCollapsing=!1}open(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame((()=>this.expand()))}expand(){this.isExpanding=!0;const e=`${this.el.offsetHeight}px`,t=`${this.summary.offsetHeight+this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[e,t]},{duration:this.duration,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(e){this.el.open=e,this.animation=null,this.isCollapsing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}document.querySelectorAll("details.accordion").forEach((e=>{new Accordion(e)}));