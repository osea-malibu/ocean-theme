(()=>{var ye=Object.defineProperty,ge=Object.defineProperties;var be=Object.getOwnPropertyDescriptors;var re=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var oe=(r,t,e)=>t in r?ye(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,p=(r,t)=>{for(var e in t||(t={}))ve.call(t,e)&&oe(r,e,t[e]);if(re)for(var e of re(t))Ee.call(t,e)&&oe(r,e,t[e]);return r},g=(r,t)=>ge(r,be(t));function S(r,t){let e;return(...s)=>{clearTimeout(e),e=setTimeout(()=>r.apply(this,s),t)}}function C(){document.querySelectorAll(".js-youtube").forEach(r=>{r.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),document.querySelectorAll(".js-vimeo").forEach(r=>{r.contentWindow.postMessage('{"method":"pause"}',"*")}),document.querySelectorAll("video").forEach(r=>r.pause()),document.querySelectorAll("product-model").forEach(r=>{r.modelViewerUI&&r.modelViewerUI.pause()})}function b(r="json"){return{method:"POST",headers:{"Content-Type":"application/json",Accept:`application/${r}`}}}function m(r,t=r){let e=Array.from(r.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe")),s=e[0],i=e[e.length-1];E();let n={focusin(o){[r,i,s].includes(o.target)&&document.addEventListener("keydown",n.keydown)},focusout(){document.removeEventListener("keydown",n.keydown)},keydown(o){o.code.toUpperCase()==="TAB"&&(o.target===i&&!o.shiftKey&&(o.preventDefault(),s.focus()),(o.target===r||o.target===s)&&o.shiftKey&&(o.preventDefault(),i.focus()))}};m.handlers=n,document.addEventListener("focusin",n.focusin),document.addEventListener("focusout",n.focusout),t.focus()}function E(r=null){m.handlers&&(document.removeEventListener("focusin",m.handlers.focusin),document.removeEventListener("focusout",m.handlers.focusout),document.removeEventListener("keydown",m.handlers.keydown),m.handlers=null),r&&r.focus()}function T(r){if(r.code.toUpperCase()!=="ESCAPE")return;let t=r.target.closest("details[open]");if(!t)return;let e=t.querySelector("summary");t.removeAttribute("open"),e.setAttribute("aria-expanded",!1),e.focus()}function ae(){let r=["ARROWUP","ARROWDOWN","ARROWLEFT","ARROWRIGHT","TAB","ENTER","SPACE","ESCAPE","HOME","END","PAGEUP","PAGEDOWN"],t=null,e=null;window.addEventListener("keydown",s=>{r.includes(s.code.toUpperCase())&&(e=!1)}),window.addEventListener("mousedown",()=>{e=!0}),window.addEventListener("focus",()=>{t&&t.classList.remove("focused"),!e&&(t=document.activeElement,t.classList.add("focused"))},!0)}customElements.get("product-form")||customElements.define("product-form",class extends HTMLElement{constructor(){super(),this.form=this.querySelector("form"),this.form.querySelector("[name=id]").disabled=!1,this.form.addEventListener("submit",this.onSubmitHandler.bind(this)),this.cart=document.querySelector("cart-drawer"),this.submitButton=this.querySelector('[type="submit"]'),document.querySelector("cart-drawer")&&this.submitButton.setAttribute("aria-haspopup","dialog")}getCartContents(){return fetch(window.Shopify.routes.root+"cart.js").then(t=>t.json()).then(t=>t)}addProductToCart(){var s;this.submitButton.setAttribute("aria-disabled",!0),this.submitButton.classList.add("opacity-50"),(s=this.querySelector(".loading-spinner"))==null||s.classList.remove("hidden");let t=b("javascript");t.headers["X-Requested-With"]="XMLHttpRequest",delete t.headers["Content-Type"];let e=new FormData(this.form);this.dataset.cartType!="page"&&(e.append("sections",this.cart.getSectionsToRender().map(i=>i.id)),e.append("sections_url",window.location.pathname),this.cart.setActiveElement(document.activeElement)),t.body=e,fetch(`${routes.cart_add_url}`,t).then(i=>i.json()).then(i=>{if(i.status){this.handleErrorMessage(i.description);return}if(!this.cart){window.location=window.routes.cart_url;return}this.error=!1,this.cart.renderContents(i),fetch(window.Shopify.routes.root+"cart.js").then(n=>n.json()).then(n=>{let o=document.querySelector("cart-drawer-items")||document.querySelector("cart-items");o&&typeof o.handleGiftWithPurchase=="function"?o.handleGiftWithPurchase(n):console.warn("cart-items or handleGiftWithPurchase not available")}).catch(n=>console.error("Error fetching full cart for GWP:",n))}).catch(i=>console.error(i)).finally(()=>{var i;this.submitButton.classList.remove("opacity-50"),this.cart&&this.cart.classList.contains("is-empty")&&this.cart.classList.remove("is-empty"),this.error||this.submitButton.removeAttribute("aria-disabled"),(i=this.querySelector(".loading-spinner"))==null||i.classList.add("hidden")})}onSubmitHandler(t){if(t.preventDefault(),this.submitButton.getAttribute("aria-disabled")==="true")return;this.handleErrorMessage();let e=this.form.querySelector('[name="properties[_is_subscription]"]');e&&e.value=="true"?this.getCartContents().then(s=>{if(s.items.filter(n=>n.properties._is_subscription==="true"&&n.id===parseInt(this.form.querySelector("[name=id]").value)&&n.quantity>=4).length>0){this.handleErrorMessage("You may not subscribe to more than 4 of this product.");return}else this.addProductToCart()}):this.addProductToCart()}handleErrorMessage(t=!1){this.errorMessageWrapper=this.errorMessageWrapper||this.querySelector(".product-form__error-message-wrapper"),this.errorMessageWrapper&&(this.errorMessage=this.errorMessage||this.errorMessageWrapper.querySelector(".product-form__error-message"),this.errorMessageWrapper.toggleAttribute("hidden",!t),t&&(this.errorMessage.textContent=t))}});function ce(){document.querySelectorAll('[id^="Details-"] summary').forEach(r=>{r.setAttribute("aria-expanded","false"),r.nextElementSibling.getAttribute("id")&&r.setAttribute("aria-controls",r.nextElementSibling.id),r.addEventListener("click",t=>{t.currentTarget.setAttribute("aria-expanded",!t.currentTarget.closest("details").hasAttribute("open"))}),!r.closest("header-drawer")&&r.parentElement.addEventListener("keyup",t=>T(t))})}function le(){try{document.querySelector(":focus-visible")}catch(r){ae()}}function de(){let r=document.querySelector("#HeaderContent"),t=document.querySelector("#HeaderScrollPixel");if(!r||!t)return;new IntersectionObserver(s=>{s[0].boundingClientRect.y<0?(r.classList.add("border-seaweed-300"),r.classList.remove("border-transparent")):(r.classList.remove("border-seaweed-300"),r.classList.add("border-transparent"))}).observe(t)}function ue(){let r=[].slice.call(document.querySelectorAll("video.lazy"));if(!r.length)return;let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){for(var n in i.target.children){var o=i.target.children[n];typeof o.tagName=="string"&&o.tagName==="SOURCE"&&(o.src=o.dataset.src)}i.target.load(),i.target.classList.remove("lazy"),s.unobserve(i.target)}})});r.forEach(e=>t.observe(e))}function he(){let r=window.location.pathname,t=new URLSearchParams(window.location.search).get("utm_source"),e=new URLSearchParams(window.location.search).get("utm_medium");["/a/loop_subscriptions/bundle/f32e72b2b9174c49afc9418fdc687742","/a/loop_subscriptions/bundle/eee9c289024140ab984c3fb75988e223"].includes(r)&&window.location.replace("https://oseamalibu.com/collections/skincare-sets"),r==="/pages/labor-day-2024"&&t==="facebook_ad"&&e==="display"&&window.location.replace("https://oseamalibu.com/collections/body-care")}function me(){typeof window.Shopify=="undefined"&&(window.Shopify={}),Shopify.bind=function(r,t){return function(){return r.apply(t,arguments)}},Shopify.setSelectorByValue=function(r,t){for(var e=0,s=r.options.length;e<s;e++){var i=r.options[e];if(t==i.value||t==i.innerHTML)return r.selectedIndex=e,e}},Shopify.addListener=function(r,t,e){r.addEventListener?r.addEventListener(t,e,!1):r.attachEvent("on"+t,e)},Shopify.postLink=function(r,t){t=t||{};var e=t.method||"post",s=t.parameters||{},i=document.createElement("form");i.setAttribute("method",e),i.setAttribute("action",r);for(var n in s){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",n),o.setAttribute("value",s[n]),i.appendChild(o)}document.body.appendChild(i),i.submit(),document.body.removeChild(i)},Shopify.CountryProvinceSelector=function(r,t,e){this.countryEl=document.getElementById(r),this.provinceEl=document.getElementById(t),this.provinceContainer=document.getElementById(e.hideElement||t),Shopify.addListener(this.countryEl,"change",Shopify.bind(this.countryHandler,this)),this.initCountry(),this.initProvince()},Shopify.CountryProvinceSelector.prototype={initCountry:function(){var r=this.countryEl.getAttribute("data-default");Shopify.setSelectorByValue(this.countryEl,r),this.countryHandler()},initProvince:function(){var r=this.provinceEl.getAttribute("data-default");r&&this.provinceEl.options.length>0&&Shopify.setSelectorByValue(this.provinceEl,r)},countryHandler:function(){var r=this.countryEl.options[this.countryEl.selectedIndex],t=r.getAttribute("data-provinces"),e=JSON.parse(t);if(this.clearOptions(this.provinceEl),e&&e.length==0)this.provinceContainer.style.display="none";else{for(var s=0;s<e.length;s++){var r=document.createElement("option");r.value=e[s][0],r.innerHTML=e[s][1],this.provinceEl.appendChild(r)}this.provinceContainer.style.display=""}},clearOptions:function(r){for(;r.firstChild;)r.removeChild(r.firstChild)},setOptions:function(r,t){for(var e=0,s=t.length;e<t.length;e++){var i=document.createElement("option");i.value=t[e],i.innerHTML=t[e],r.appendChild(i)}}}}ce();le();de();ue();he();me();var I=class extends HTMLElement{constructor(){super(),this.input=this.querySelector("input"),this.changeEvent=new Event("change",{bubbles:!0}),this.input.addEventListener("change",this.onInputChange.bind(this)),this.querySelectorAll("button").forEach(t=>t.addEventListener("click",this.onButtonClick.bind(this)))}onInputChange(t){let e=document.querySelector('input[value="autodeliver"]'),s=parseInt(t.currentTarget.value),i=this.querySelector('button[name="plus"]');e&&e.checked&&(this.productForm=document.querySelector("product-form.pdp-product-form"),s>4?(this.input.value=4,this.productForm.handleErrorMessage("You may not subscribe to more than 4 of this product."),setTimeout(()=>this.productForm.handleErrorMessage(),5e3),i.setAttribute("disabled","")):s==4?i.setAttribute("disabled",""):(i.disabled&&i.removeAttribute("disabled"),this.productForm.handleErrorMessage()))}onButtonClick(t){t.preventDefault();let e=this.input.value;t.target.name==="plus"?this.input.stepUp():this.input.stepDown(),e!==this.input.value&&this.input.dispatchEvent(this.changeEvent)}};customElements.define("quantity-input",I);var q=class extends HTMLElement{constructor(){super(),this.items=[],this.animationID=null,this.speed=parseFloat(this.getAttribute("speed"))||1,this._reducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this._positionMap=new Map,this._observer=null,this._isVisible=!1,this._boundRotate=this.rotate.bind(this),this._onVisibilityChange=this.handleVisibilityChange.bind(this)}connectedCallback(){this._originalContent=this.innerHTML,!this._reducedMotion&&(this.setup(),this.observeVisibility(),document.addEventListener("visibilitychange",this._onVisibilityChange),this._onResize=S(()=>this.refresh(),250),window.addEventListener("resize",this._onResize))}disconnectedCallback(){cancelAnimationFrame(this.animationID),window.removeEventListener("resize",this._onResize),document.removeEventListener("visibilitychange",this._onVisibilityChange),this._observer&&this._observer.disconnect()}setup(){let t=document.createElement("div");t.className="inline-block whitespace-nowrap",t.innerHTML=this._originalContent,this.innerHTML="",this.appendChild(t);let{width:e,height:s}=t.getBoundingClientRect();this._itemWidth=e+36;let i=this.getBoundingClientRect().width,n=t.innerHTML;this.removeChild(t),this.style.position="relative",this.classList.add("whitespace-nowrap","overflow-hidden"),this.items=[],this._positionMap.clear();let o=Math.ceil(i/this._itemWidth)+2;for(let a=0;a<o;a++){let l=document.createElement("div");l.innerHTML=n,l.className="absolute whitespace-nowrap will-change-transform",l.setAttribute("aria-hidden",a>0?"true":"false");let y=this._itemWidth*a;this._positionMap.set(l,y),l.style.transform=`translateX(${y}px)`,l.style.width=`${this._itemWidth}px`,l.style.height=`${s}px`,this.appendChild(l),this.items.push(l)}this.addEventListener("mouseover",this.pause.bind(this)),this.addEventListener("mouseout",this.resume.bind(this))}observeVisibility(){this._observer=new IntersectionObserver(([t])=>{this._isVisible=t.isIntersecting,this._isVisible?this.resume():this.pause()},{root:null,threshold:0}),this._observer.observe(this)}rotate(){!this._isVisible||document.hidden||!this.items.length||(this.items.forEach(t=>{let e=this._positionMap.get(t);e-=this.speed,e+this._itemWidth<0&&(e=Math.max(...Array.from(this._positionMap.values()))+this._itemWidth),this._positionMap.set(t,e),t.style.transform=`translateX(${e}px)`}),this.animationID=requestAnimationFrame(this._boundRotate))}handleVisibilityChange(){document.hidden?this.pause():this.resume()}pause(){cancelAnimationFrame(this.animationID),this.animationID=null}resume(){!this._isVisible||document.hidden||this.animationID||this.rotate()}refresh(){this.pause(),this.innerHTML=this._originalContent,this.setup(),this.observeVisibility()}};customElements.define("icon-marquee",q);var x=class extends HTMLElement{constructor(){super(),this.detailsElements=Array.from(this.querySelectorAll("details")),this.mediaQuery=window.matchMedia("(min-width: 640px)"),this.handleResize=this.handleResize.bind(this)}connectedCallback(){this.handleResize(),this.mediaQuery.addEventListener("change",this.handleResize)}disconnectedCallback(){this.mediaQuery.removeEventListener("change",this.handleResize)}handleResize(){let t=this.mediaQuery.matches;this.detailsElements.forEach(e=>{t?e.setAttribute("open",""):e.removeAttribute("open")})}};customElements.define("footer-accordion",x);var k=class extends HTMLElement{constructor(){super(),this.zipForm=this.querySelector("form"),this.zipInput=this.querySelector("#shippingzip"),this.output=this.querySelector("#transitTimeOutput"),this.zipForm.addEventListener("submit",t=>this.onZipSubmit(t))}onZipSubmit(t){t.preventDefault();let{st:e,transitTime:s}=this.getStateData(this.zipInput.value),{transitionStart:i,transitionEnd:n}=this.output.dataset;this.output.innerHTML=`${e}: ${s}`,this.output.classList.remove(...i.split(" ")),this.output.classList.add(...n.split(" "))}getStateData(t){if(typeof t!="string"){console.error("Must pass the zipcode as a string.");return}if(t.length!==5){console.error("Must pass a 5-digit zipcode.");return}let e=parseInt(t,10),s,i,n;return e>=35e3&&e<=36999?(s="AL",i="Alabama",n="5-6 days"):e>=99500&&e<=99999?(s="AK",i="Alaska",n="5-6 days"):e>=85e3&&e<=86999?(s="AZ",i="Arizona",n="2-3 days"):e>=71600&&e<=72999?(s="AR",i="Arkansas",n="4-5 days"):e>=9e4&&e<=96699?(s="CA",i="California",n="2-3 days"):e>=8e4&&e<=81999?(s="CO",i="Colorado",n="3-4 days"):e>=6e3&&e<=6389||e>=6391&&e<=6999?(s="CT",i="Connecticut",n="5-6 days"):e>=19700&&e<=19999?(s="DE",i="Delaware",n="5-6 days"):e>=32e3&&e<=34999?(s="FL",i="Florida",n="5-6 days"):e>=3e4&&e<=31999||e>=39800&&e<=39999?(s="GA",i="Georgia",n="4-5 days"):e>=96700&&e<=96999?(s="HI",i="Hawaii",n="5-6 days"):e>=83200&&e<=83999&&e!=83414?(s="ID",i="Idaho",n="3-4 days"):e>=6e4&&e<=62999?(s="IL",i="Illinois",n="5-6 days"):e>=46e3&&e<=47999?(s="IN",i="Indiana",n="5-6 days"):e>=5e4&&e<=52999?(s="IA",i="Iowa",n="4-5 days"):e>=66e3&&e<=67999?(s="KS",i="Kansas",n="4-5 days"):e>=4e4&&e<=42999?(s="KY",i="Kentucky",n="4-5 days"):e>=7e4&&e<=71599?(s="LA",i="Louisiana",n="4-5 days"):e>=3900&&e<=4999?(s="ME",i="Maine",n="5-6 days"):e>=20600&&e<=21999?(s="MD",i="Maryland",n="5-6 days"):e>=1e3&&e<=2799||e==5501||e==5544?(s="MA",i="Massachusetts",n="5-6 days"):e>=48e3&&e<=49999?(s="MI",i="Michigan",n="4-5 days"):e>=55e3&&e<=56899?(s="MN",i="Minnesota",n="4-5 days"):e>=38600&&e<=39999?(s="MS",i="Mississippi",n="4-5 days"):e>=63e3&&e<=65999?(s="MO",i="Missouri",n="4-5 days"):e>=59e3&&e<=59999?(s="MT",i="Montana",n="4-5 days"):e>=68e3&&e<=69999?(s="NE",i="Nebraska",n="4-5 days"):e>=88900&&e<=89999?(s="NV",i="Nevada",n="2-3 days"):e>=3e3&&e<=3899?(s="NH",i="New Hampshire",n="5-6 days"):e>=7e3&&e<=8999?(s="NJ",i="New Jersey",n="5-6 days"):e>=87e3&&e<=88499?(s="NM",i="New Mexico",n="3-4 days"):e>=1e4&&e<=14999||e==6390||e==501||e==544?(s="NY",i="New York",n="5-6 days"):e>=27e3&&e<=28999?(s="NC",i="North Carolina",n="4-5 days"):e>=58e3&&e<=58999?(s="ND",i="North Dakota",n="3-4 days"):e>=43e3&&e<=45999?(s="OH",i="Ohio",n="4-5 days"):e>=73e3&&e<=73199||e>=73400&&e<=74999?(s="OK",i="Oklahoma",n="3-4 days"):e>=97e3&&e<=97999?(s="OR",i="Oregon",n="3-4 days"):e>=15e3&&e<=19699?(s="PA",i="Pennsylvania",n="5-6 days"):e>=300&&e<=999?(s="PR",i="Puerto Rico",n="5-6 days"):e>=2800&&e<=2999?(s="RI",i="Rhode Island",n="5-6 days"):e>=29e3&&e<=29999?(s="SC",i="South Carolina",n="4-5 days"):e>=57e3&&e<=57999?(s="SD",i="South Dakota",n="3-4 days"):e>=37e3&&e<=38599?(s="TN",i="Tennessee",n="4-5 days"):e>=75e3&&e<=79999||e>=73301&&e<=73399||e>=88500&&e<=88599?(s="TX",i="Texas",n="3-4 days"):e>=84e3&&e<=84999?(s="UT",i="Utah",n="3-4 days"):e>=5e3&&e<=5999?(s="VT",i="Vermont",n="5-6 days"):e>=20100&&e<=20199||e>=22e3&&e<=24699||e==20598?(s="VA",i="Virginia",n="4-5 days"):e>=2e4&&e<=20099||e>=20200&&e<=20599||e>=56900&&e<=56999?(s="DC",i="Washington DC",n="4-5 days"):e>=98e3&&e<=99499?(s="WA",i="Washington",n="3-4 days"):e>=24700&&e<=26999?(s="WV",i="West Virginia",n="5-6 days"):e>=53e3&&e<=54999?(s="WI",i="Wisconsin",n="4-5 days"):e>=82e3&&e<=83199||e==83414?(s="WY",i="Wyoming",n="4-5 days"):(s="none",i="none",n="Sorry, we could not find that zipcode in our database. Please contact Customer Care for shipping times."),{st:s,state:i,transitTime:n}}};customElements.define("shipping-calculator",k);var M=class extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),navigator.platform==="iPhone"&&document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`),this.addEventListener("keyup",this.onKeyUp.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.bindEvents()}bindEvents(){this.querySelectorAll("summary").forEach(e=>e.addEventListener("click",this.onSummaryClick.bind(this))),this.querySelector(".menu-scrim").addEventListener("click",this.onSummaryClick.bind(this)),this.querySelectorAll(".submenu-close").forEach(e=>e.addEventListener("click",this.onCloseSubmenu.bind(this))),this.querySelectorAll("a, summary").forEach(e=>e.addEventListener("click",this.onNavLinkClick.bind(this)));let t=this.querySelector(".menu-close");t&&t.addEventListener("click",this.closeMenuDrawer.bind(this))}onKeyUp(t){if(t.code.toUpperCase()!=="ESCAPE")return;let e=t.target.closest("details[open]");e&&(e===this.mainDetailsToggle?this.closeMenuDrawer(t,this.mainDetailsToggle.querySelector("summary")):this.closeSubmenu(e))}onSummaryClick(t){let e=t.currentTarget,s=e.parentNode,i=s.hasAttribute("open"),n=window.matchMedia("(prefers-reduced-motion: reduce)");function o(){m(e.nextElementSibling,s.querySelector("button")),e.nextElementSibling.removeEventListener("transitionend",o)}s===this.mainDetailsToggle?(i&&t.preventDefault(),i?this.closeMenuDrawer(t,e):this.openMenuDrawer(e)):setTimeout(()=>{s.classList.add("menu-opening"),e.setAttribute("aria-expanded",!0),!n||n.matches?o():e.nextElementSibling.addEventListener("transitionend",o)},100)}onNavLinkClick(t){console.log("clicked nav link",t)}openMenuDrawer(t){setTimeout(()=>{this.mainDetailsToggle.classList.add("menu-opening")}),t.setAttribute("aria-expanded",!0),m(this.mainDetailsToggle,t),document.body.classList.add("overflow-hidden")}closeMenuDrawer(t,e=!1){t!==void 0&&(this.mainDetailsToggle.classList.remove("menu-opening"),this.mainDetailsToggle.querySelectorAll("details").forEach(s=>{s.removeAttribute("open"),s.classList.remove("menu-opening")}),document.body.classList.remove("overflow-hidden"),E(e),this.closeAnimation(this.mainDetailsToggle))}onFocusOut(t){setTimeout(()=>{this.mainDetailsToggle.hasAttribute("open")&&!this.mainDetailsToggle.contains(document.activeElement)&&this.closeMenuDrawer()})}onCloseSubmenu(t){let e=t.currentTarget.closest("details");this.closeSubmenu(e)}closeSubmenu(t){t.classList.remove("menu-opening"),t.querySelector("summary").setAttribute("aria-expanded",!1),E(),this.closeAnimation(t)}closeAnimation(t){let e,s=i=>{e===void 0&&(e=i),i-e<400?window.requestAnimationFrame(s):(t.removeAttribute("open"),t.closest("details[open]")&&m(t.closest("details[open]"),t.querySelector("summary")))};window.requestAnimationFrame(s)}setMenuTopValue(){let t=this.querySelector(".menu-drawer"),e=this.querySelector(".menu-scrim"),s=document.querySelector("#AnnouncementBar"),i=document.querySelector("header.header"),n=s.offsetHeight+i.offsetHeight;t.style.top=`${n}px`,e.style.top=`${n}px`}};customElements.define("menu-drawer",M);var D=class extends HTMLElement{constructor(){super(),this.dismissableMessage=this.querySelector("#DismissableMessage"),this.defaultMessage=this.querySelector("#DismissableDefault"),this.closeButton=this.querySelector("#DismissableClose"),this.closeButton.addEventListener("click",this.onClose.bind(this))}connectedCallback(){JSON.parse(sessionStorage.getItem("osea.announcementDismissed"))?this.useDefaultMessage():document.querySelector("menu-drawer").setMenuTopValue()}onClose(){let t=document.querySelector("#HamburgerMenu .menu-drawer"),e=document.querySelector("#HamburgerMenu .menu-scrim");t.style.removeProperty("top"),e.style.removeProperty("top"),this.useDefaultMessage(),sessionStorage.setItem("osea.announcementDismissed",!0)}useDefaultMessage(){this.dismissableMessage.classList.add("hidden"),this.closeButton.classList.add("hidden"),this.defaultMessage.classList.remove("hidden")}};customElements.define("dismissable-announcement",D);var _=class extends HTMLElement{constructor(){super(),this.querySelector('[id^="ModalClose-"]').addEventListener("click",this.hide.bind(this)),this.querySelectorAll(".close-modal").forEach(t=>t.addEventListener("click",this.hide.bind(this))),this.addEventListener("keyup",t=>{t.code.toUpperCase()==="ESCAPE"&&this.hide()}),this.classList.contains("media-modal")?this.addEventListener("pointerup",t=>{t.pointerType==="mouse"&&!t.target.closest("deferred-media, product-model")&&this.hide()}):this.addEventListener("click",t=>{t.target.nodeName==="MODAL-DIALOG"&&this.hide()})}show(t){this.openedBy=t;let e=this.querySelector(".template-popup");document.body.classList.add("overflow-hidden"),this.setAttribute("open",""),e&&e.loadContent(),m(this,this.querySelector('[role="dialog"]')),C()}hide(){document.body.classList.remove("overflow-hidden"),this.removeAttribute("open"),E(this.openedBy),C()}};customElements.define("modal-dialog",_);var B=class extends HTMLElement{constructor(){super();let t=this.querySelector("button")||this.querySelector('[type="button"]');t&&t.addEventListener("click",()=>{let e=document.querySelector(this.getAttribute("data-modal"));e&&e.show(t)})}};customElements.define("modal-opener",B);var P=class extends HTMLElement{constructor(){super();let t=this.querySelector('[id^="Deferred-Poster-"]');t&&t.addEventListener("click",this.loadContent.bind(this))}loadContent(){if(C(),!this.getAttribute("loaded")){let t=document.createElement("div");t.appendChild(this.querySelector("template").content.firstElementChild.cloneNode(!0)),this.setAttribute("loaded",!0),this.appendChild(t).focus()}}};customElements.define("deferred-media",P);var A=class extends HTMLElement{constructor(){super(),this.addEventListener("change",()=>{this.onVariantChange()}),this.addEventListener("click",()=>{})}connectedCallback(){let t=()=>{this.updateOptions(),this.updateMasterId(),this.updateMedia(),this.handleKlaviyoBisTrigger()};document.addEventListener("DOMContentLoaded",t)}onVariantChange(){this.updateOptions(),this.updateMasterId(),this.updateIsSubscription(),this.toggleAddButton(!0,"",!1),this.removeErrorMessage(),this.resetPurchaseOption(),this.currentVariant?(this.updateMedia(),this.updateURL(),this.updateVariantInput(),this.renderProductInfo(),this.updateOptionVisibility()):(this.toggleAddButton(!0,"",!0),this.setUnavailable())}updateOptions(){this.options=Array.from(this.querySelectorAll("select"),t=>t.value)}updateMasterId(){this.currentVariant=this.getVariantData().find(t=>!t.options.map((e,s)=>this.options[s]===e).includes(!1))}updateIsSubscription(){let t=document.querySelector('input[name="properties[_is_subscription]"]');this.currentVariant&&(this.currentVariant.selling_plan_allocations.length>0?t.value=!0:t.value=!1)}resetPurchaseOption(){window.location.pathname.includes("/products/")&&document.querySelector("subscription-radios")&&(document.querySelector(".purchase-option.onetime").classList.add("bg-wave-200"),document.querySelector('input[value="onetime"]').checked=!0,document.querySelector(".purchase-option.autodeliver").classList.remove("bg-wave-200"),document.querySelector('input[value="autodeliver"]').checked=!1)}updateMedia(){if(!this.currentVariant||!this.currentVariant.featured_media)return;if(this.dataset.isMainPdp==="true"){let e=document.querySelector("#Product-VariantImage"),s=this.currentVariant.featured_image.src;e&&(e.srcset=`${s}&width=294 1x, ${s}&width=588 2x`,e.src=s);let i=document.querySelector("#Product-ThumbImage"),n=this.currentVariant.featured_image.src;i&&(i.srcset=`${n}&width=192 1x, ${n}&width=252 2x`,i.src=n)}else{let e=document.getElementById(`ProductCard-DefaultImage-${this.dataset.section}`),s=this.currentVariant.featured_media.preview_image.src;e&&(e.srcset=`${s}&width=328 1x, ${s}&width=656 2x`,e.src=s)}}updateURL(){!this.currentVariant||this.dataset.updateUrl==="false"||window.history.replaceState({},"",`${this.dataset.url}?variant=${this.currentVariant.id}`)}updateVariantInput(){document.querySelectorAll(`#product-form-${this.dataset.section}, #product-form-installment`).forEach(e=>{let s=e.querySelector('input[name="id"]');s.value=this.currentVariant.id,s.dispatchEvent(new Event("change",{bubbles:!0}))})}removeErrorMessage(){let t=this.closest("section");if(!t)return;let e=t.querySelector("product-form");e&&e.handleErrorMessage()}renderProductInfo(){let{id:t}=this.currentVariant;fetch(`${this.dataset.url}?variant=${t}`).then(e=>e.text()).then(e=>{let s=new DOMParser().parseFromString(e,"text/html"),i=(n,o)=>{let a=s.querySelector(o||n),l=document.querySelector(n);a&&l&&(l.innerHTML=a.innerHTML)};i(".product .main-price"),i(".subscription .onetime .price"),i(".subscription .autodeliver .price"),i(".product .benefits"),i(`[value="${t}"]:not(.mini-card-id-input) ~ button[name="add"] .price`,".product .main-price"),i(".subscription .selling-plan-options"),this.toggleAddButton(!this.currentVariant.available,window.variantStrings.soldOut)})}updateOptionVisibility(){if(this.currentVariant&&window.location.pathname.includes("/products/")){let s=document.querySelector("subscription-radios");if(s){let u=this.currentVariant.selling_plan_allocations.map(h=>h.selling_plan_group_id);this.currentVariant.selling_plan_allocations.length>0&&u.includes(s.dataset.subscriptionGroupId)?(s.classList.add("max-h-52"),s.classList.remove("max-h-0")):(s.classList.add("max-h-0"),s.classList.remove("max-h-52"))}let i=["Fragrance free","Scented"];if(this.currentVariant.options.some(u=>i.indexOf(u)>=0)){let u=document.getElementsByName("Scent"),d=document.getElementsByName("Size"),h=document.querySelectorAll(".scent-scented"),f=document.querySelectorAll(".scent-fragrance-free");h.forEach(c=>{c.classList.toggle("hidden",u[1].checked)}),f.forEach(c=>{c.classList.toggle("hidden",u[0].checked)});var t=this.currentVariant.option2,e=this.currentVariant.option1;d.forEach(c=>c.disabled=!1),u.forEach(c=>c.disabled=!1),t==="1 fl oz"&&u.forEach(c=>{c.value==="Fragrance free"&&(c.disabled=!0)}),e==="Fragrance free"&&d.forEach(c=>{c.value==="1 fl oz"&&(c.disabled=!0)})}let o=this.dataset.miniSizes.split(","),a=this.currentVariant.title.replace("fl oz","oz"),l=o.includes(a);document.querySelectorAll(".size-mini").forEach(u=>{u.classList.toggle("hidden",!l)})}}toggleAddButton(t=!0,e,s=!0){let i=document.getElementById(`product-form-${this.dataset.section}`);if(!i)return;let n=i.querySelector('[name="add"]'),o=i.querySelector('[name="add"] > .label'),a=document.querySelector(".klaviyo-bis-trigger");n&&(t?(n.setAttribute("disabled","disabled"),e&&(o.textContent=e),a&&(n.classList.add("mb-[50px]"),a.classList.add("block"),a.classList.remove("hidden"))):(n.removeAttribute("disabled"),e&&(o.textContent=window.variantStrings.addToCart),a&&(n.classList.remove("mb-[50px]"),a.classList.add("hidden"),a.classList.remove("block"))))}setUnavailable(){let t=document.getElementById(`product-form-${this.dataset.section}`),e=t.querySelector('[name="add"]'),s=t.querySelector('[name="add"] > span'),i=document.getElementById(`price-${this.dataset.section}`);e&&(s.textContent=window.variantStrings.unavailable,i&&i.classList.add("invisible"))}handleKlaviyoBisTrigger(){if(!this.getVariantData().map(a=>a.available).includes(!1))return;let i=20,n=0,o=()=>{let a=document.querySelector(".klaviyo-bis-trigger");a?(console.log("bisTrigger",a),this.currentVariant.available&&a.classList.add("hidden")):n<i?(n++,setTimeout(o,200)):console.warn("BIS trigger not found after max retries")};o()}getVariantData(){return this.variantData=this.variantData||JSON.parse(this.querySelector('[type="application/json"].variant-data').textContent),this.variantData}};customElements.define("variant-selects",A);var O=class extends A{constructor(){super()}updateOptions(){let t=Array.from(this.querySelectorAll("fieldset"));this.options=t.map(e=>Array.from(e.querySelectorAll("input")).find(s=>s.checked).value)}};customElements.define("variant-radios",O);var H=class extends HTMLElement{constructor(){super(),this.isSubscriptionInput=document.querySelector('input[name="properties[_is_subscription]"]'),this.purchaseOptionInputs=Array.from(this.querySelectorAll('input[name="purchase_option"]'));let e=new URLSearchParams(window.location.search).get("type");this.purchaseOptionInputs.forEach(s=>{var n;if((e==="subscription"||document.referrer.includes("/pages/subscribe"))&&s.value==="autodeliver"){s.checked=!0,this.setActiveState(),this.updateMainPrice(s),this.setDefaultSellingPlan();let o=document.querySelector('input[name="properties[_is_subscription]"]');o.value=!0,(n=document.querySelector("#PayInstallments"))==null||n.classList.add("opacity-0")}s.addEventListener("change",this.onPurchaseOptionChange.bind(this))})}onPurchaseOptionChange(t){var i,n;let{value:e,checked:s}=t.currentTarget;if(s){this.setActiveState(),this.updateMainPrice(t.currentTarget);let o=document.querySelector('.pdp-quantity button[name="plus"]');if(e==="onetime")this.clearSellingPlanValues(),this.isSubscriptionInput.value=!1,this.productForm=document.querySelector("product-form.pdp-product-form"),(i=document.querySelector("#PayInstallments"))==null||i.classList.remove("opacity-0"),o&&o.disabled&&o.removeAttribute("disabled"),this.productForm.handleErrorMessage();else if(e==="autodeliver"){this.setDefaultSellingPlan(),this.isSubscriptionInput.value=!0,(n=document.querySelector("#PayInstallments"))==null||n.classList.add("opacity-0");let a=document.querySelector(".pdp-quantity input");if(a){let l=parseInt(a.value);l>4?(a.value=4,o.setAttribute("disabled","")):l==4&&o.setAttribute("disabled","")}}}}setActiveState(){var t;(t=this.purchaseOptionInputs)==null||t.forEach(e=>{e.closest(".purchase-option").classList.toggle(this.dataset.selectedColor||"bg-wave-200",e.checked),e.closest(".purchase-option").classList.toggle("bg-white",!e.checked)})}updateMainPrice(t){let e=t.closest(".purchase-option").querySelector(".price"),s=document.querySelector(".main-price.price");s.innerHTML=e.innerHTML}clearSellingPlanValues(){var t;(t=Array.from(this.querySelectorAll('input[name="selling_plan"]')))==null||t.forEach(e=>e.checked=!1)}setDefaultSellingPlan(){let t=this.dataset.recommendedInterval||2,e=Array.from(this.querySelectorAll('input[name="selling_plan"]'))[t-1];e.checked=!0}};customElements.define("subscription-radios",H);var R=class extends HTMLElement{constructor(){super()}connectedCallback(){this.atcObserver=new IntersectionObserver(t=>{let e=document.documentElement;if(t[0].intersectionRatio<=0){let s=this.offsetHeight;e.style.setProperty("--sticky-atc-height",`${s}px`),this.classList.remove("invisible","opacity-0")}else e.style.setProperty("--sticky-atc-height","0px"),this.classList.add("invisible","opacity-0")}),this.atcObserver.observe(document.querySelector(".product-form.pdp-product-form"))}disconnectedCallback(){this.atcObserver&&this.atcObserver.disconnect()}};customElements.define("product-sticky-atc",R);var V=class extends HTMLElement{constructor(){super(),this.tablist=this.querySelector("[role=tablist]"),this.tabs=this.querySelectorAll("[role=tab]"),this.tabpanels=this.querySelectorAll("[role=tabpanel]"),this.activeTab=this.querySelector("[role=tab][aria-selected=true]"),this.addEventListeners(),this.checkUrlParameters()}addEventListeners(){for(let t of this.tabs)t.addEventListener("click",e=>{e.preventDefault(),this.setActiveTab(t.getAttribute("aria-controls"))}),t.addEventListener("keyup",e=>{(e.keyCode==13||e.keyCode==32)&&(e.preventDefault(),this.setActiveTab(t.getAttribute("aria-controls")))});this.tablist.addEventListener("keyup",t=>{switch(t.keyCode){case 35:t.preventDefault(),this.setActiveTab(this.tabs[this.tabs.length-1].getAttribute("aria-controls"));break;case 36:t.preventDefault(),this.setActiveTab(this.tabs[0].getAttribute("aria-controls"));break;case 37:case 38:t.preventDefault();let e=[...this.tabs].indexOf(this.activeTab)-1;e=e>=0?e:this.tabs.length-1,this.setActiveTab(this.tabs[e].getAttribute("aria-controls"));break;case 39:case 40:t.preventDefault();let s=[...this.tabs].indexOf(this.activeTab)+1;s=s<this.tabs.length?s:0,this.setActiveTab(this.tabs[s].getAttribute("aria-controls"));break}})}setActiveTab(t,e=!1){var i;let s=((i=this.dataset.activeClass)==null?void 0:i.split(" "))||["bg-wave-200"];for(let n of this.tabs)n.getAttribute("aria-controls")==t?(n.setAttribute("aria-selected","true"),s.forEach(o=>n.classList.add(o)),!e&&n.focus(),this.activeTab=n):(n.setAttribute("aria-selected","false"),s.forEach(o=>n.classList.remove(o)));for(let n of this.tabpanels)n.getAttribute("id")==t?n.getAttribute("aria-expanded")==="true"?!e&&n.focus():n.setAttribute("aria-expanded","true"):n.setAttribute("aria-expanded","false")}checkUrlParameters(){let t=new Proxy(new URLSearchParams(window.location.search),{get:(i,n)=>i.get(n)}),{tab:e,question:s}=t;if(e&&(this.setActiveTab(`tab-${e}`,!0),s)){let i=this.querySelector(`#tab-${e} ul.accordion li:nth-child(${s}) details`);i&&(i.setAttribute("open",""),setTimeout(()=>i.scrollIntoView({block:"start"}),1e3))}}};customElements.define("tab-controller",V);var $=class extends HTMLElement{constructor(){super(),this.scrollBox=this.querySelector(".scroll-box"),this.navNext=this.querySelector("nav .next"),this.navPrev=this.querySelector("nav .prev"),this.addEventListeners(),this.handleShowNav()}addEventListeners(){this.scrollBox.getBoundingClientRect().width<this.scrollBox.scrollWidth&&(this.navNext.addEventListener("click",()=>this.scrollContainer("next")),this.navPrev.addEventListener("click",()=>this.scrollContainer("prev")),this.scrollBox.addEventListener("scroll",this.handleShowNav.bind(this)))}scrollContainer(t){this.scrollBox.scrollTo({left:t==="next"?this.scrollBox.scrollLeft+120:this.scrollBox.scrollLeft-120,behavior:"smooth"})}handleShowNav(){this.navNext.classList.toggle("nav-hide",this.scrollBox.scrollWidth-this.scrollBox.scrollLeft==this.scrollBox.getBoundingClientRect().width),this.navPrev.classList.toggle("nav-hide",this.scrollBox.scrollLeft==0)}};customElements.define("horizontal-scroll-box",$);var F=class extends HTMLElement{constructor(){super(),this.id=this.getAttribute("id"),this.options={},this.twBreakpoints=JSON.parse('{"2xs":412,"xs":472,"sm":640,"md":768,"lg":1024,"xl":1280,"2xl":1536}');let{breakpointLimit:t}=this.dataset,e=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);if(t==="none")this.initSlider();else if(e<=this.twBreakpoints[t])this.initSlider();else{this.classList.remove("glide"),this.classList.add("relative");let s=this.querySelector(".glide__track"),i=this.querySelector(".glide__slides");s.classList.forEach(n=>{n!=="glide__track"&&i.classList.add(n)}),s.replaceWith(...s.childNodes)}}getPath(t){return t?this.options.breakpoints[t]:this.options}addOtherPeek(t,e){var n;let s=["before","after"].filter(o=>o!==t)[0],i=this.getPath(e);return(n=i==null?void 0:i.peek)!=null&&n[s]?{}:{[s]:0}}parseValue(t){let e;return isNaN(t)?e=["true","false"].includes(t)?t==="true":t:e=parseInt(t),e}buildOptionObject(t,e,s,i){return{[t]:s?p(g(p({},[this.getPath(i)][t]),{[e]:this.parseValue(s)}),t==="peek"&&this.addOtherPeek(e,i)):this.parseValue(e)}}getOptions(t){t.forEach(e=>{var i;let s=e.split(/[\:\.\-]/);if(e.includes(":")){let n=this.twBreakpoints[s[0]];this.options.breakpoints||(this.options.breakpoints={}),this.options.breakpoints[n]=p(p({},(i=this.options.breakpoints)==null?void 0:i[n]),this.buildOptionObject(s[1],s[2],s[3],n))}else this.options=p(p({},this.options),this.buildOptionObject(s[0],s[1],s[2]))})}initSlider(){let t=Array.from(this.classList);if(t.length>0){let e=["perView","peek","focusAt","type","bound","gap","autoplay"],s=t.filter(i=>e.some(n=>i.includes(n)));s.length>0&&this.getOptions(s)}new Glide(`#${this.id}`,this.options).mount()}};customElements.define("glide-slider",F);var N=class extends HTMLElement{constructor(){super(),this.cart=document.querySelector("cart-drawer");let{productId:t}=this.dataset;new Proxy(new URLSearchParams(window.location.search),{get:(i,n)=>i.get(n)}).gwp===t&&this.checkGiftQualifiers()}checkGiftQualifiers(){let{threshold:t,variantId:e}=this.dataset;fetch(window.Shopify.routes.root+"cart.js").then(s=>s.json()).then(s=>{s.items.map(i=>i.id).includes(e)||(Number(t)===0?this.cart.addFreeGift([e]):Number(t)>0&&(localStorage.getItem("osea.gwpUrlVariantId")!==e&&(document.getElementById("GwpUrlModal").show(),localStorage.setItem("osea.gwpUrlVariantId",e)),s.total_price>=t&&this.cart.addFreeGift([e])))}).catch(s=>console.error(s))}};customElements.define("gift-with-purchase-url",N);var W=class extends HTMLElement{constructor(){super(),this.updateTimer()}updateTimer(){setInterval(()=>{let t=this.dataset.date.split("/"),e=[t[2],t[0],t[1]],n=new Date(`${e.join("-")}T${this.dataset.time}:00-07:00`)-new Date,o=Math.floor(n/(1e3*60*60*24)),a=Math.floor(n/(1e3*60*60)),l=Math.floor(n/(1e3*60)),y=Math.floor(n/1e3);this.querySelector(".countdown-days").textContent=o,this.querySelector(".countdown-hours").textContent=a-o*24,this.querySelector(".countdown-minutes").textContent=l-a*60,this.querySelector(".countdown-seconds").textContent=y-l*60},1e3)}};customElements.define("countdown-component",W);var U=class extends HTMLElement{constructor(){super(),this.addEventListener("change",this.onInputChange)}onInputChange(t){document.querySelector(`product-form.pdp-product-form #sktc${t.target.id}`).value=t.target.value}};customElements.define("gift-card-fields",U);var j=class extends HTMLElement{constructor(){super(),this.querySelectorAll("a").forEach(t=>t.addEventListener("click",()=>this.onAnchorClick(t)))}onAnchorClick(t){document.querySelectorAll("details.subcollection").forEach(e=>{e.id===t.getAttribute("href").substring(1)?e.setAttribute("open",""):e.removeAttribute("open")})}};customElements.define("collection-anchors",j);var z=class extends HTMLElement{connectedCallback(){this.button=this.querySelector("button"),this.popupId=this.dataset.popupId,window.addEventListener("postscriptReady",()=>{console.log("postscript ready"),this.style.display="block",this.button.addEventListener("click",()=>{console.log("button clicked"),this.openPopup()})})}openPopup(){console.log("open popup",this.popupId),window.postscript.popups.open(this.popupId,{activePopupBehavior:"ALWAYS_DISMISS",respectPopupStatus:!1})}};customElements.define("postscript-teaser",z);var G=class{constructor(t){this.el=t,this.summary=t.querySelector("summary"),this.content=t.querySelector(".content"),this.duration=parseInt(t.dataset.duration),this.animation=null,this.isCollapsing=!1,this.isExpanding=!1,this.summary.addEventListener("click",e=>this.onClick(e))}onClick(t){t.preventDefault(),this.el.style.overflow="hidden",this.isCollapsing||!this.el.open?this.open():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isCollapsing=!0;let t=`${this.el.offsetHeight}px`,e=`${this.summary.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,e]},{duration:this.duration,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isCollapsing=!1}open(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame(()=>this.expand())}expand(){this.isExpanding=!0;let t=`${this.el.offsetHeight}px`,e=`${this.summary.offsetHeight+this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,e]},{duration:this.duration,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(t){this.el.open=t,this.animation=null,this.isCollapsing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}};document.querySelectorAll("details.accordion").forEach(r=>{new G(r)});var K=class extends HTMLElement{constructor(){super(),this.button=this.querySelector(".button"),this.button.addEventListener("click",t=>{t.preventDefault(),(this.closest("cart-items")||this.closest("cart-drawer-items")).updateCartItem(this.dataset.index,0,t.target.name)})}};customElements.define("cart-remove-button",K);var w=class extends HTMLElement{constructor(){super(),this.cart=document.querySelector("cart-drawer"),this.lineItemStatusElement=document.getElementById("shopping-cart-line-item-status")||document.getElementById("CartDrawer-LineItemStatus"),this.currentItemCount=Array.from(this.querySelectorAll('[name="updates[]"]')).reduce((t,e)=>t+parseInt(e.value),0),this.debouncedOnChange=S(t=>{this.onChange(t)},300),this.addEventListener("change",this.debouncedOnChange.bind(this)),document.addEventListener("rivo-accounts:shopify:login",this.onCustomerLogin.bind(this)),window.location.pathname==="/cart"&&fetch(window.Shopify.routes.root+"cart.js").then(t=>t.json()).then(t=>{console.log("running handleGiftWithPurchase"),this.handleGiftWithPurchase(t)})}onChange(t){this.updateCartItem(t.target.dataset.index,t.target.value,t.target.getAttribute("name"),t.target)}updateCatchCalloutPrice(t){let e=document.querySelector("#catch-callout-cart");e&&t&&e.setAttribute("price",t)}getSectionsToRender(){return[{id:"main-cart-items",section:document.getElementById("main-cart-items").dataset.id,selector:".js-contents"},{id:"cart-icon-bubble",section:"cart-icon-bubble",selector:".shopify-section"},{id:"cart-live-region-text",section:"cart-live-region-text",selector:".shopify-section"},{id:"main-cart-footer",section:document.getElementById("main-cart-footer").dataset.id,selector:".js-contents"},{id:"shopify-section-announcement-bar",section:"announcement-bar",selector:".shopify-section"}]}handleGiftWithPurchase(t){let e=window.customerLoggedIn,{enabled:s}=window.gwpSettings;if(!s)return;let{loyaltyOnly:i,productQualifierEnabled:n,productQualifierId:o,tiers:a,type:l}=window.gwpSettings,y=t.items.map(f=>f.product_id);if(i&&!e)return;let u=n&&!y.includes(parseInt(o)),d=[],h=[];if(a.forEach(f=>{var L;if(!f.product)return;let c=parseInt(f.product);if(y.includes(c)&&(t.total_price<f.threshold||u)){let pe=y.findIndex(fe=>fe===c)+1;h.push(pe)}u||(l==="auto"&&!y.includes(c)&&t.total_price>=f.threshold&&d.push(f.variant),l==="url"&&localStorage.getItem("osea.gwpUrlVariantId")===f.variant&&((L=document.querySelector("gift-with-purchase-url"))==null||L.checkGiftQualifiers()))}),h.length>0){h.sort((c,v)=>v-c);let f=c=>new Promise(v=>setTimeout(v,c));h.reduce((c,v)=>c.then(()=>this.removeGift(v)).then(()=>f(400)),Promise.resolve())}d.length>0&&this.cart.addFreeGift(d)}onCustomerLogin(){window.customerLoggedIn=!0,fetch(window.Shopify.routes.root+"cart.js").then(t=>t.json()).then(t=>{this.handleGiftWithPurchase(t)})}updateCartItem(t,e,s,i){var y;let n=document.getElementById(`CartSubscribeCheckbox-${t}`);if(n&&n.checked&&s==="updates[]"&&e>4){let u=document.getElementById(`Quantity-${t}`)||document.getElementById(`Drawer-quantity-${t}`),d=document.getElementById("cart-errors")||document.getElementById("CartDrawer-CartErrors");u.value=4,d.textContent="You may not subscribe to more than 4 of this product.",setTimeout(()=>d.textContent="",5e3);return}this.enableLoading(t),window.gwpSettings.enabled&&window.gwpSettings.type==="banner"&&((y=document.getElementById("GwpButton"))==null||y.remove());let o=null,a=null;s==="subscribe"?i.checked?(o=i.dataset.default,a={_is_subscription:"true"}):a={_is_subscription:"false"}:s==="selling_plan"&&(o=e);let l=JSON.stringify(p(p(p({line:t,sections:this.getSectionsToRender().map(u=>u.section),sections_url:window.location.pathname},!["subscribe","selling_plan"].includes(s)&&{quantity:e}),["subscribe","selling_plan"].includes(s)&&{selling_plan:o}),a&&{properties:a}));fetch(`${routes.cart_change_url}`,g(p({},b()),{body:l})).then(u=>u.text()).then(u=>{var v;let d=JSON.parse(u);((v=d==null?void 0:d.items)==null?void 0:v.filter(L=>L.product_type!=="Sample").length)===0&&this.cart.clearCart(),this.handleGiftWithPurchase(d),this.updateCatchCalloutPrice(d.total_price),this.classList.toggle("is-empty",d.item_count===0);let h=document.querySelector("cart-drawer"),f=document.getElementById("main-cart-footer");f&&f.classList.toggle("is-empty",d.item_count===0),h&&h.classList.toggle("is-empty",d.item_count===0),this.replaceSections(d),this.updateLiveRegions(t,d.item_count);let c=document.getElementById(`CartItem-${t}`)||document.getElementById(`CartDrawer-Item-${t}`);c&&c.querySelector(`[name="${s}"]`)?h?m(h,c.querySelector(`[name="${s}"]`)):c.querySelector(`[name="${s}"]`).focus():d.item_count===0&&h?m(h.querySelector(".cart-empty"),h.querySelector("a")):document.querySelector(".cart-item")&&h&&m(h,document.querySelector(".cart-item__name")),this.disableLoading()}).catch(u=>{console.error(u),this.querySelectorAll(".loading-spinner").forEach(h=>h.classList.add("hidden"));let d=document.getElementById("cart-errors")||document.getElementById("CartDrawer-CartErrors");d&&(d.textContent=window.cartStrings.error),this.disableLoading()})}replaceSections(t){t.sections?this.getSectionsToRender().forEach(e=>{let s=document.getElementById(e.id).querySelector(e.selector)||document.getElementById(e.id);s.innerHTML=this.getSectionInnerHTML(t.sections[e.section],e.selector)}):fetch(`${window.Shopify.routes.root}?sections=${this.getSectionsToRender().map(e=>e.section)}`).then(e=>e.json()).then(e=>{t.sections=e,this.getSectionsToRender().forEach(s=>{let i=document.getElementById(s.id).querySelector(s.selector)||document.getElementById(s.id);i.innerHTML=this.getSectionInnerHTML(t.sections[s.section],s.selector)})}).catch(e=>console.error(e)),bootstrapCartProductsSection()}removeGift(t){let e=JSON.stringify({line:t,quantity:0});fetch(`${routes.cart_change_url}`,g(p({},b()),{body:e})).then(s=>s.text()).then(s=>{let i=JSON.parse(s);this.replaceSections(i)}).catch(s=>console.error(s))}updateLiveRegions(t,e){if(this.currentItemCount===e){let i=document.getElementById(`Line-item-error-${t}`)||document.getElementById(`CartDrawer-LineItemError-${t}`),n=document.getElementById(`Quantity-${t}`)||document.getElementById(`Drawer-quantity-${t}`);if(!n)return;i.querySelector(".cart-item__error-text").innerHTML=window.cartStrings.quantityError.replace("[quantity]",n.value)}this.currentItemCount=e,this.lineItemStatusElement.setAttribute("aria-hidden",!0);let s=document.getElementById("cart-live-region-text")||document.getElementById("CartDrawer-LiveRegionText");s&&(s.setAttribute("aria-hidden",!1),setTimeout(()=>{s.setAttribute("aria-hidden",!0)},1e3))}getSectionInnerHTML(t,e){return new DOMParser().parseFromString(t,"text/html").querySelector(e).innerHTML}enableLoading(t){(document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems")).classList.add("pointer-events-none");let s=this.querySelectorAll(`#CartItem-${t} .loading-spinner`),i=this.querySelectorAll(`#CartDrawer-Item-${t} .loading-spinner`);[...s,...i].forEach(n=>n.classList.remove("hidden")),document.activeElement.blur(),this.lineItemStatusElement.setAttribute("aria-hidden",!1)}disableLoading(){let t=document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems");t&&t.classList.remove("pointer-events-none")}};customElements.define("cart-items",w);var J=class extends HTMLElement{constructor(){super(),this.totalEl=document.getElementById("CartDrawer-Total"),this.total=this.totalEl?parseFloat(this.totalEl.dataset.total):0,this.dataset.subscriptionsInCart.length>0?this.shippingThreshold=0:this.shippingThreshold=this.stringToInt(this.dataset.shippingThreshold),this.tier1Threshold=this.stringToInt(this.dataset.tier1Threshold),this.tier2Threshold=this.stringToInt(this.dataset.tier2Threshold),this.tier3Threshold=this.stringToInt(this.dataset.tier3Threshold);let t=this.dataset.hasTier1Product==="true",e=this.dataset.hasTier2Product==="true",s=this.dataset.hasTier3Product==="true",i=this.dataset.isGwpActive==="true",n=this.dataset.isLoyaltyOnly==="true";this.thresholds=[this.shippingThreshold],(i&&!n||i&&n&&window.customerLoggedIn)&&(this.tier1Threshold&&t&&this.thresholds.push(this.tier1Threshold),this.tier2Threshold&&e&&this.thresholds.push(this.tier2Threshold),this.tier3Threshold&&s&&this.thresholds.push(this.tier3Threshold)),this.progressBar=this.querySelector("progress"),this.updateProgress()}stringToInt(t){return t?parseFloat(t)*100:null}updateProgress(){let t=0;for(let e=0;e<this.thresholds.length;e++){let s=this.thresholds[e],i=e===0?0:this.thresholds[e-1];if(this.total>=s)t=(e+1)/this.thresholds.length*100;else if(this.total>i&&this.total<s){let n=s-i,o=this.total-i;t=e/this.thresholds.length*100+o/n*(100/this.thresholds.length);break}}t=Math.min(100,Math.max(0,t)),this.progressBar.value=t,this.progressBar.innerText=`${Math.round(t)}%`}};customElements.define("reward-countdown",J);var Q=class extends HTMLElement{constructor(){super(),this.filteredIdArray=JSON.parse(this.dataset.ids),this.destination=this.querySelector(".cart-recommendations"),this.filteredIdArray.length>0&&this.getRecommendations(this.filteredIdArray[0])}getRecommendations(t){fetch(window.Shopify.routes.root+`recommendations/products?product_id=${t}&limit=6&section_id=cart-recommendations`).then(e=>e.text()).then(e=>this.destination.innerHTML=e)}};customElements.define("cart-recommendations",Q);var X=class extends HTMLElement{constructor(){var t;super(),this.cart=document.querySelector("cart-drawer"),this.lineItemStatusElement=document.getElementById("shopping-cart-line-item-status")||document.getElementById("CartDrawer-LineItemStatus"),this.button=this.querySelector("button"),(t=this.button)==null||t.addEventListener("click",this.onButtonClick.bind(this))}onButtonClick(){this.enableLoading(this.dataset.itemToRemove);let t=JSON.stringify({line:this.dataset.itemToRemove,quantity:0});fetch(`${routes.cart_change_url}`,g(p({},b()),{body:t})).then(()=>{let e=JSON.stringify({items:[{id:this.dataset.itemToAdd,quantity:1}]});fetch(`${routes.cart_add_url}`,g(p({},b()),{body:e})).then(s=>s.json()).then(s=>this.cart.renderContents(s)).catch(s=>console.error(s)),this.disableLoading()}).catch(e=>console.error(e))}enableLoading(t){(document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems")).classList.add("pointer-events-none");let s=this.cart.querySelectorAll(`#CartItem-${t} .loading-spinner`),i=this.cart.querySelectorAll(`#CartDrawer-Item-${t} .loading-spinner`);[...s,...i].forEach(n=>n.classList.remove("hidden")),document.activeElement.blur(),this.lineItemStatusElement.setAttribute("aria-hidden",!1)}disableLoading(){(document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems")).classList.remove("pointer-events-none")}};customElements.define("save-with-sets",X);var Y=class extends HTMLElement{constructor(){super(),this.messageTextarea=this.querySelector("#PrintedGiftNote-Message"),this.errorMessageEl=this.querySelector("#PrintedGiftNote-Error"),this.errorMessageText=this.querySelector("#PrintedGiftNote-ErrorText"),this.confirmMessage=this.querySelector("#PrintedGiftNote-Confirm"),this.noteEnabledCheckbox=this.querySelector("#PrintedGiftNote-Enable"),this.checkoutButton=document.querySelector("#CartDrawer-Checkout"),this.messageTextarea.addEventListener("keydown",S(t=>{this.updateGiftMessage(t.target.value)},1e3)),this.noteEnabledCheckbox.addEventListener("change",this.handleCheckboxChange.bind(this)),this.checkoutButton.addEventListener("click",this.handleCheckoutClick.bind(this))}connectedCallback(){this.getGiftMessage()}validateInput(t){if(!t)return!1;let e=RegExp(/^[\s0-9a-zA-Z.,?!]*$/g);return!t.match(e)}getCartContents(){return fetch(window.Shopify.routes.root+"cart.js").then(t=>t.json()).then(t=>t)}updateCart(t,e){let s=JSON.stringify({attributes:{giftEnabled:t,giftMessage:e}});fetch(`${routes.cart_update_url}`,g(p({},b()),{body:s}))}getGiftMessage(){this.getCartContents().then(t=>{let{giftEnabled:e,giftMessage:s}=t.attributes;e&&(this.noteEnabledCheckbox.checked=e==="true"),s&&(this.messageTextarea.value=s)})}updateGiftMessage(t){this.confirmMessage.classList.add("hidden"),this.errorMessageEl.classList.add("hidden"),this.noteEnabledCheckbox.checked&&t!==""&&(this.validateInput(t)?(this.errorMessageText.innerText="Alphanumeric characters only",this.errorMessageEl.classList.remove("hidden")):(this.confirmMessage.classList.remove("hidden"),setTimeout(()=>this.confirmMessage.classList.add("hidden"),3e3),this.updateCart(!0,t))),this.noteEnabledCheckbox.checked&&t===""&&(this.errorMessageText.innerText="Message cannot be blank",this.errorMessageEl.classList.remove("hidden"),this.updateCart(!1,null)),this.noteEnabledCheckbox.checked||this.updateCart(!1,null)}handleCheckboxChange(t){t.target.checked||this.updateCart(!1,null)}handleCheckoutClick(t){t.preventDefault(),this.getCartContents().then(e=>{let{giftEnabled:s,giftMessage:i}=e.attributes;s&&i!=null?fetch("/cart/add.js",{body:JSON.stringify({id:41526301163703,quantity:1}),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},method:"POST"}).then(o=>o.json()).then(o=>window.location="/checkout").catch(o=>console.error(o)):window.location="/checkout"})}};customElements.define("printed-gift-note",Y);var Z=class extends HTMLElement{constructor(){super(),this.addEventListener("change",S(t=>{let e=JSON.stringify({note:t.target.value});fetch(`${routes.cart_update_url}`,g(p({},b()),{body:e}))},300))}};customElements.get("cart-note")||customElements.define("cart-note",Z);var ee=class extends HTMLElement{constructor(){super(),this.overlay=this.querySelector(".cart-scrim"),this.drawer=this.querySelector(".cart-drawer"),this.addEventListener("keyup",t=>t.code==="Escape"&&this.close()),this.overlay.addEventListener("click",this.close.bind(this)),this.setHeaderCartIconAccessibility(),this.attachEventListeners()}attachEventListeners(){document.addEventListener("loopByobAddToCartSuccessEvent",t=>{fetch("https://oseamalibu.com/cart.js").then(e=>e.json()).then(e=>{if(e.status)console.log("error",e.status);else if(!e){window.location=window.routes.cart_url;return}this.renderContents(e)}).catch(e=>console.error(e))}),document.body.addEventListener("blotout-wallet-cart-restored",async()=>{console.log("blotout-wallet-cart-restored");try{let t=await fetch("/cart.js");if(!t.ok){let s=await t.text();throw new Error(`Could not fetch cart contents - ${t.status}: ${s}`)}let e=await t.json();this.renderContents(e)}catch(t){console.error("Error fetching cart data:",t)}})}setHeaderCartIconAccessibility(){let t=document.querySelector("#cart-icon-bubble");t.setAttribute("role","button"),t.setAttribute("aria-haspopup","dialog"),t.addEventListener("click",e=>{e.preventDefault(),this.open(t)}),t.addEventListener("keydown",e=>{e.code.toUpperCase()==="SPACE"&&(e.preventDefault(),this.open(t))})}open(t){t&&this.setActiveElement(t);let e=this.querySelector('[id^="Details-"] summary');e&&!e.hasAttribute("role")&&this.setSummaryAccessibility(e),setTimeout(()=>{this.classList.remove("invisible"),this.classList.add("active"),bootstrapCartProductsSection()}),this.addEventListener("transitionend",()=>{let s=this.classList.contains("is-empty")?this.querySelector(".cart-empty"):document.getElementById("CartDrawer"),i=this.drawer||this.querySelector(".cart-close");m(s,i)},{once:!0}),document.body.classList.add("overflow-hidden")}close(){this.classList.remove("active"),setTimeout(()=>this.classList.add("invisible"),400),E(this.activeElement),document.body.classList.remove("overflow-hidden"),document.querySelectorAll(".cart-items #bud").forEach(e=>e.remove())}setSummaryAccessibility(t){t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),t.nextElementSibling.getAttribute("id")&&t.setAttribute("aria-controls",t.nextElementSibling.id),t.addEventListener("click",e=>{e.currentTarget.setAttribute("aria-expanded",!e.currentTarget.closest("details").hasAttribute("open"))}),t.parentElement.addEventListener("keyup",e=>T(e))}renderContents(t){this.drawer.classList.contains("is-empty")&&this.drawer.classList.remove("is-empty"),this.productId=t.id,t.sections?(this.getSectionsToRender().forEach(e=>{let s=e.selector?document.querySelector(e.selector):document.getElementById(e.id);s.innerHTML=this.getSectionInnerHTML(t.sections[e.id],e.selector)}),setTimeout(()=>{this.querySelector(".cart-scrim").addEventListener("click",this.close.bind(this)),this.open()})):fetch(`${window.Shopify.routes.root}?sections=${this.getSectionsToRender().map(e=>e.id)}`).then(e=>e.json()).then(e=>{t.sections=e,this.getSectionsToRender().forEach(s=>{let i=s.selector?document.querySelector(s.selector):document.getElementById(s.id);i.innerHTML=this.getSectionInnerHTML(t.sections[s.id],s.selector)}),setTimeout(()=>{this.querySelector(".cart-scrim").addEventListener("click",this.close.bind(this)),this.open()})}).catch(e=>console.error(e))}addFreeGift(t){let e=t.map(i=>({id:i,quantity:1})),s=JSON.stringify({items:e});fetch(`${routes.cart_add_url}`,g(p({},b()),{body:s})).then(i=>i.json()).then(i=>this.renderContents(i)).catch(i=>console.error(i))}clearCart(){fetch(window.Shopify.routes.root+"cart/clear.js").then(()=>{let t='<div class="cart-empty h-full overflow-hidden flex flex-col items-center justify-center w-60 mx-auto"><h2 class="text-lg tracking-wide font-book mb-4">Your cart is empty</h2><a href="/collections/bestsellers" class="button button-secondary mb-4 w-full">Shop Best Sellers</a><a href="/collections/skincare" class="button button-secondary mb-4 w-full">Shop Skincare</a><a href="/collections/body-care" class="button button-secondary mb-4 w-full">Shop Body Care</a><a href="/collections/shop" class="button button-secondary mb-4 w-full">Shop All</a><a href="/pages/quiz" class="button button-secondary mb-4 w-full">Take Skin Quiz</a></div>',e='<a href="/cart" class="header__icon header__icon--cart cursor-pointer flex w-10 h-10 justify-center items-center ml-1 md:ml-4 -mr-1" id="cart-icon-bubble"><span class="hidden">Cart</span><div class="w-8 h-8 bg-seafoam-300 rounded-full flex justify-center items-center"><span aria-hidden="true" class="leading-8 font-book text-lg">0</span><span class="hidden">0 items</span></div></a>',s=document.getElementById("cart-icon-bubble"),i=document.querySelector("cart-drawer"),n=document.getElementById("main-cart-footer"),o=document.querySelector(".cart-drawer-body"),a=document.querySelector(".cart-drawer-footer");s&&(s.outerHTML=e),o&&(o.innerHTML=t),a&&a.remove(),n&&n.classList.add("is-empty"),i&&(i.classList.add("is-empty"),m(i.querySelector(".cart-empty"),i.querySelector("a")))}).catch(t=>console.error(t))}getSectionInnerHTML(t,e=".shopify-section"){return new DOMParser().parseFromString(t,"text/html").querySelector(e).innerHTML}getSectionsToRender(){return[{id:"cart-drawer",selector:"#CartDrawer"},{id:"cart-icon-bubble",selector:"#cart-icon-bubble"},{id:"announcement-bar",selector:"#AnnouncementBar"}]}getSectionDOM(t,e=".shopify-section"){return new DOMParser().parseFromString(t,"text/html").querySelector(e)}setActiveElement(t){this.activeElement=t}};customElements.define("cart-drawer",ee);var te=class extends w{getSectionsToRender(){return[{id:"CartDrawer",section:"cart-drawer",selector:".cart-drawer"},{id:"cart-icon-bubble",section:"cart-icon-bubble",selector:".shopify-section"},{id:"shopify-section-announcement-bar",section:"announcement-bar",selector:".shopify-section"}]}};customElements.define("cart-drawer-items",te);var se=class extends HTMLElement{constructor(){super(),this.cachedResults={},this.input=this.querySelector("#Search-In-Modal"),this.predictiveSearchResults=this.querySelector("[data-predictive-search]"),this.isOpen=!1,this.setupEventListeners()}setupEventListeners(){this.querySelector("form.search").addEventListener("submit",this.onFormSubmit.bind(this)),this.input.addEventListener("input",S(e=>{this.onChange(e)},300).bind(this)),this.input.addEventListener("focus",this.onFocus.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.addEventListener("keyup",this.onKeyup.bind(this)),this.addEventListener("keydown",this.onKeydown.bind(this))}getQuery(){return this.input.value.trim()}onChange(){let t=this.getQuery();if(!t.length){this.close(!0);return}this.getSearchResults(t)}onFormSubmit(t){(!this.getQuery().length||this.querySelector('[aria-selected="true"] a'))&&t.preventDefault()}onFocus(){let t=this.getQuery();t.length&&(this.getAttribute("results")==="true"?this.open():this.getSearchResults(t))}onFocusOut(){setTimeout(()=>{this.contains(document.activeElement)||this.close()})}onKeyup(t){switch(this.getQuery().length||this.close(!0),t.preventDefault(),t.code){case"ArrowUp":this.switchOption("up");break;case"ArrowDown":this.switchOption("down");break;case"Enter":this.selectOption();break}}onKeydown(t){(t.code==="ArrowUp"||t.code==="ArrowDown")&&t.preventDefault()}switchOption(t){if(!this.getAttribute("open"))return;let e=t==="up",s=this.querySelector('[aria-selected="true"]'),i=this.querySelectorAll("li"),n=this.querySelector("li");if(e&&!s)return;this.statusElement.textContent="";let o=Array.from(i).findIndex(a=>a.isEqualNode(s));!e&&s?n=i[o+1]||i[0]:e&&(n=i[o-1]||i[i.length-1]),n!==s&&(n.setAttribute("aria-selected",!0),s&&s.setAttribute("aria-selected",!1),this.setLiveRegionText(n.textContent),this.input.setAttribute("aria-activedescendant",n.id))}selectOption(){let t=this.querySelector('[aria-selected="true"] a, [aria-selected="true"] button');t&&t.click()}getSearchResults(t){let e=t.replace(" ","-").toLowerCase();if(this.setLiveRegionLoadingState(),this.cachedResults[e]){this.renderSearchResults(this.cachedResults[e]);return}fetch(`${routes.predictive_search_url}?q=${encodeURIComponent(t)}&${encodeURIComponent("resources[type]")}=product,page,article,collection&${encodeURIComponent("resources[limit]")}=20&${encodeURIComponent("resources[options][fields]")}=author,body,product_type,tag,title,variants.title&section_id=predictive-search`).then(s=>{if(!s.ok){var i=new Error(s.status);throw this.close(),i}return s.text()}).then(s=>{let i=new DOMParser().parseFromString(s,"text/html").querySelector("#shopify-section-predictive-search").innerHTML;this.cachedResults[e]=i,this.renderSearchResults(i)}).catch(s=>{throw this.close(),s})}onPopularSearchClick(t){t.preventDefault();let e=t.currentTarget.getAttribute("data-term");this.input.value=e,this.input.focus(),this.onChange()}setLiveRegionLoadingState(){this.statusElement=this.statusElement||this.querySelector(".predictive-search-status"),this.loadingText=this.loadingText||this.getAttribute("data-loading-text"),this.setLiveRegionText(this.loadingText),this.setAttribute("loading",!0)}setLiveRegionText(t){this.statusElement.setAttribute("aria-hidden","false"),this.statusElement.textContent=t,setTimeout(()=>{this.statusElement.setAttribute("aria-hidden","true")},1e3)}renderSearchResults(t){this.predictiveSearchResults.innerHTML=t,this.setAttribute("results",!0),this.setLiveRegionResults(),this.open()}setLiveRegionResults(){this.removeAttribute("loading"),this.setLiveRegionText(this.querySelector("[data-predictive-search-live-region-count-value]").textContent),this.querySelectorAll(".button-popular-search").forEach(t=>t.addEventListener("click",this.onPopularSearchClick.bind(this)))}open(){this.setAttribute("open",!0),this.input.setAttribute("aria-expanded",!0),this.isOpen=!0}close(t=!1){t&&(this.input.value="",this.removeAttribute("results"));let e=this.querySelector('[aria-selected="true"]');e&&e.setAttribute("aria-selected",!1),this.input.setAttribute("aria-activedescendant",""),this.removeAttribute("open"),this.input.setAttribute("aria-expanded",!1),this.predictiveSearchResults.removeAttribute("style"),this.isOpen=!1}};customElements.define("predictive-search",se);var ie=class extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),this.mainDetailsToggle.addEventListener("focusout",this.onFocusOut.bind(this))}onFocusOut(){setTimeout(()=>{this.contains(document.activeElement)||this.close()})}close(){this.mainDetailsToggle.removeAttribute("open"),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!1)}};customElements.define("details-disclosure",ie);var ne=class extends HTMLElement{constructor(){super(),this.detailsContainer=this.querySelector("details"),this.summaryToggle=this.querySelector("summary"),this.detailsContainer.addEventListener("keyup",t=>t.code.toUpperCase()==="ESCAPE"&&this.close()),this.summaryToggle.addEventListener("click",this.onSummaryClick.bind(this)),this.querySelector('button[type="button"]').addEventListener("click",this.close.bind(this))}isOpen(){return this.detailsContainer.hasAttribute("open")}onSummaryClick(t){t.preventDefault(),t.target.closest("details").hasAttribute("open")?this.close():this.open(t)}onBodyClick(t){(!this.contains(t.target)||t.target.classList.contains("modal-overlay"))&&this.close(!1)}open(t){this.onBodyClickEvent=this.onBodyClickEvent||this.onBodyClick.bind(this),t.target.closest("details").setAttribute("open",!0),document.body.addEventListener("click",this.onBodyClickEvent),document.body.classList.add("overflow-hidden"),m(this.detailsContainer.querySelector('[tabindex="-1"]'),this.detailsContainer.querySelector('input:not([type="hidden"])'))}close(t=!0){E(t?this.summaryToggle:null),this.detailsContainer.removeAttribute("open"),document.body.removeEventListener("click",this.onBodyClickEvent),document.body.classList.remove("overflow-hidden")}};customElements.define("details-modal",ne);})();
