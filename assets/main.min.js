var _=Object.defineProperty,D=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var x=(r,t,e)=>t in r?_(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,m=(r,t)=>{for(var e in t||(t={}))P.call(t,e)&&x(r,e,t[e]);if(A)for(var e of A(t))H.call(t,e)&&x(r,e,t[e]);return r},y=(r,t)=>D(r,B(t));import{f as v,o as T,a as O,d as S,t as g,r as E,p as L}from"./utils-CcuW8BhY.js";customElements.get("product-form")||customElements.define("product-form",class extends HTMLElement{constructor(){super(),this.form=this.querySelector("form"),this.form.querySelector("[name=id]").disabled=!1,this.form.addEventListener("submit",this.onSubmitHandler.bind(this)),this.cart=document.querySelector("cart-drawer"),this.submitButton=this.querySelector('[type="submit"]'),document.querySelector("cart-drawer")&&this.submitButton.setAttribute("aria-haspopup","dialog")}getCartContents(){return fetch(window.Shopify.routes.root+"cart.js").then(t=>t.json()).then(t=>t)}addProductToCart(){var s;this.submitButton.setAttribute("aria-disabled",!0),this.submitButton.classList.add("opacity-50"),(s=this.querySelector(".loading-spinner"))==null||s.classList.remove("hidden");const t=v("javascript");t.headers["X-Requested-With"]="XMLHttpRequest",delete t.headers["Content-Type"];const e=new FormData(this.form);this.dataset.cartType!="page"&&(e.append("sections",this.cart.getSectionsToRender().map(i=>i.id)),e.append("sections_url",window.location.pathname),this.cart.setActiveElement(document.activeElement)),t.body=e,fetch(`${routes.cart_add_url}`,t).then(i=>i.json()).then(i=>{if(i.status){this.handleErrorMessage(i.description);return}if(!this.cart){window.location=window.routes.cart_url;return}this.error=!1,this.cart.renderContents(i),fetch(window.Shopify.routes.root+"cart.js").then(n=>n.json()).then(n=>{const o=document.querySelector("cart-drawer-items")||document.querySelector("cart-items");o&&typeof o.handleGiftWithPurchase=="function"?o.handleGiftWithPurchase(n):console.warn("cart-items or handleGiftWithPurchase not available")}).catch(n=>console.error("Error fetching full cart for GWP:",n))}).catch(i=>console.error(i)).finally(()=>{var i;this.submitButton.classList.remove("opacity-50"),this.cart&&this.cart.classList.contains("is-empty")&&this.cart.classList.remove("is-empty"),this.error||this.submitButton.removeAttribute("aria-disabled"),(i=this.querySelector(".loading-spinner"))==null||i.classList.add("hidden")})}onSubmitHandler(t){if(t.preventDefault(),this.submitButton.getAttribute("aria-disabled")==="true")return;this.handleErrorMessage();const e=this.form.querySelector('[name="properties[_is_subscription]"]');e&&e.value=="true"?this.getCartContents().then(s=>{if(s.items.filter(n=>n.properties._is_subscription==="true"&&n.id===parseInt(this.form.querySelector("[name=id]").value)&&n.quantity>=4).length>0){this.handleErrorMessage("You may not subscribe to more than 4 of this product.");return}else this.addProductToCart()}):this.addProductToCart()}handleErrorMessage(t=!1){this.errorMessageWrapper=this.errorMessageWrapper||this.querySelector(".product-form__error-message-wrapper"),this.errorMessageWrapper&&(this.errorMessage=this.errorMessage||this.errorMessageWrapper.querySelector(".product-form__error-message"),this.errorMessageWrapper.toggleAttribute("hidden",!t),t&&(this.errorMessage.textContent=t))}});function R(){document.querySelectorAll('[id^="Details-"] summary').forEach(r=>{r.setAttribute("aria-expanded","false"),r.nextElementSibling.getAttribute("id")&&r.setAttribute("aria-controls",r.nextElementSibling.id),r.addEventListener("click",t=>{t.currentTarget.setAttribute("aria-expanded",!t.currentTarget.closest("details").hasAttribute("open"))}),!r.closest("header-drawer")&&r.parentElement.addEventListener("keyup",t=>T(t))})}function $(){try{document.querySelector(":focus-visible")}catch(r){O()}}function V(){const r=document.querySelector("#HeaderContent"),t=document.querySelector("#HeaderScrollPixel"),e=document.getElementById("SiteNavbar");if(!t)return;new IntersectionObserver(i=>{const n=i[0];r&&(n.boundingClientRect.y<0?(r.classList.add("border-seaweed-300"),r.classList.remove("border-transparent")):(r.classList.remove("border-seaweed-300"),r.classList.add("border-transparent"))),e&&(n.boundingClientRect.y<0?(e.classList.add("-mt-7","opacity-0","pointer-events-none"),e.classList.remove("-mt-1","opacity-100")):(e.classList.remove("-mt-7","opacity-0","pointer-events-none"),e.classList.add("-mt-1","opacity-100")))}).observe(t)}function N(){const r=[].slice.call(document.querySelectorAll("video.lazy"));if(!r.length)return;let t=new IntersectionObserver((e,s)=>{e.forEach(i=>{if(i.isIntersecting){for(var n in i.target.children){var o=i.target.children[n];typeof o.tagName=="string"&&o.tagName==="SOURCE"&&(o.src=o.dataset.src)}i.target.load(),i.target.classList.remove("lazy"),s.unobserve(i.target)}})});r.forEach(e=>t.observe(e))}function F(){const r=window.location.pathname,t=new URLSearchParams(window.location.search).get("utm_source"),e=new URLSearchParams(window.location.search).get("utm_medium");["/a/loop_subscriptions/bundle/f32e72b2b9174c49afc9418fdc687742","/a/loop_subscriptions/bundle/eee9c289024140ab984c3fb75988e223","/a/loop_subscriptions/bundle/b4e1b70501be453eaeac952c14a0a778"].includes(r)&&window.location.replace("https://oseamalibu.com/collections/skincare-sets"),r==="/pages/labor-day-2024"&&t==="facebook_ad"&&e==="display"&&window.location.replace("https://oseamalibu.com/collections/body-care")}function G(){typeof window.Shopify=="undefined"&&(window.Shopify={}),Shopify.bind=function(r,t){return function(){return r.apply(t,arguments)}},Shopify.setSelectorByValue=function(r,t){for(var e=0,s=r.options.length;e<s;e++){var i=r.options[e];if(t==i.value||t==i.innerHTML)return r.selectedIndex=e,e}},Shopify.addListener=function(r,t,e){r.addEventListener?r.addEventListener(t,e,!1):r.attachEvent("on"+t,e)},Shopify.postLink=function(r,t){t=t||{};var e=t.method||"post",s=t.parameters||{},i=document.createElement("form");i.setAttribute("method",e),i.setAttribute("action",r);for(var n in s){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",n),o.setAttribute("value",s[n]),i.appendChild(o)}document.body.appendChild(i),i.submit(),document.body.removeChild(i)},Shopify.CountryProvinceSelector=function(r,t,e){this.countryEl=document.getElementById(r),this.provinceEl=document.getElementById(t),this.provinceContainer=document.getElementById(e.hideElement||t),Shopify.addListener(this.countryEl,"change",Shopify.bind(this.countryHandler,this)),this.initCountry(),this.initProvince()},Shopify.CountryProvinceSelector.prototype={initCountry:function(){var r=this.countryEl.getAttribute("data-default");Shopify.setSelectorByValue(this.countryEl,r),this.countryHandler()},initProvince:function(){var r=this.provinceEl.getAttribute("data-default");r&&this.provinceEl.options.length>0&&Shopify.setSelectorByValue(this.provinceEl,r)},countryHandler:function(){var r=this.countryEl.options[this.countryEl.selectedIndex],t=r.getAttribute("data-provinces"),e=JSON.parse(t);if(this.clearOptions(this.provinceEl),e&&e.length==0)this.provinceContainer.style.display="none";else{for(var s=0;s<e.length;s++){var r=document.createElement("option");r.value=e[s][0],r.innerHTML=e[s][1],this.provinceEl.appendChild(r)}this.provinceContainer.style.display=""}},clearOptions:function(r){for(;r.firstChild;)r.removeChild(r.firstChild)},setOptions:function(r,t){for(var e=0,s=t.length;e<t.length;e++){var i=document.createElement("option");i.value=t[e],i.innerHTML=t[e],r.appendChild(i)}}}}R();$();V();N();F();G();class W extends HTMLElement{constructor(){super(),this.input=this.querySelector("input"),this.changeEvent=new Event("change",{bubbles:!0}),this.input.addEventListener("change",this.onInputChange.bind(this)),this.querySelectorAll("button").forEach(t=>t.addEventListener("click",this.onButtonClick.bind(this)))}onInputChange(t){const e=document.querySelector('input[value="autodeliver"]'),s=parseInt(t.currentTarget.value),i=this.querySelector('button[name="plus"]');e&&e.checked&&(this.productForm=document.querySelector("product-form.pdp-product-form"),s>4?(this.input.value=4,this.productForm.handleErrorMessage("You may not subscribe to more than 4 of this product."),setTimeout(()=>this.productForm.handleErrorMessage(),5e3),i.setAttribute("disabled","")):s==4?i.setAttribute("disabled",""):(i.disabled&&i.removeAttribute("disabled"),this.productForm.handleErrorMessage()))}onButtonClick(t){t.preventDefault();const e=this.input.value;t.target.name==="plus"?this.input.stepUp():this.input.stepDown(),e!==this.input.value&&this.input.dispatchEvent(this.changeEvent)}}customElements.define("quantity-input",W);class z extends HTMLElement{constructor(){super(),this.items=[],this.animationID=null,this.speed=parseFloat(this.getAttribute("speed"))||1,this._reducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this._positionMap=new Map,this._observer=null,this._isVisible=!1,this._boundRotate=this.rotate.bind(this),this._onVisibilityChange=this.handleVisibilityChange.bind(this)}connectedCallback(){this._originalContent=this.innerHTML,!this._reducedMotion&&(this.setup(),this.observeVisibility(),document.addEventListener("visibilitychange",this._onVisibilityChange),this._onResize=S(()=>this.refresh(),250),window.addEventListener("resize",this._onResize))}disconnectedCallback(){cancelAnimationFrame(this.animationID),window.removeEventListener("resize",this._onResize),document.removeEventListener("visibilitychange",this._onVisibilityChange),this._observer&&this._observer.disconnect()}setup(){const t=document.createElement("div");t.className="inline-block whitespace-nowrap",t.innerHTML=this._originalContent,this.innerHTML="",this.appendChild(t);const{width:e,height:s}=t.getBoundingClientRect();this._itemWidth=e+36;const i=this.getBoundingClientRect().width,n=t.innerHTML;this.removeChild(t),this.style.position="relative",this.classList.add("whitespace-nowrap","overflow-hidden"),this.items=[],this._positionMap.clear();const o=Math.ceil(i/this._itemWidth)+2;for(let a=0;a<o;a++){const c=document.createElement("div");c.innerHTML=n,c.className="absolute whitespace-nowrap will-change-transform",c.setAttribute("aria-hidden",a>0?"true":"false");const p=this._itemWidth*a;this._positionMap.set(c,p),c.style.transform=`translateX(${p}px)`,c.style.width=`${this._itemWidth}px`,c.style.height=`${s}px`,this.appendChild(c),this.items.push(c)}this.addEventListener("mouseover",this.pause.bind(this)),this.addEventListener("mouseout",this.resume.bind(this))}observeVisibility(){this._observer=new IntersectionObserver(([t])=>{this._isVisible=t.isIntersecting,this._isVisible?this.resume():this.pause()},{root:null,threshold:0}),this._observer.observe(this)}rotate(){!this._isVisible||document.hidden||!this.items.length||(this.items.forEach(t=>{let e=this._positionMap.get(t);e-=this.speed,e+this._itemWidth<0&&(e=Math.max(...Array.from(this._positionMap.values()))+this._itemWidth),this._positionMap.set(t,e),t.style.transform=`translateX(${e}px)`}),this.animationID=requestAnimationFrame(this._boundRotate))}handleVisibilityChange(){document.hidden?this.pause():this.resume()}pause(){cancelAnimationFrame(this.animationID),this.animationID=null}resume(){!this._isVisible||document.hidden||this.animationID||this.rotate()}refresh(){this.pause(),this.innerHTML=this._originalContent,this.setup(),this.observeVisibility()}}customElements.define("icon-marquee",z);class j extends HTMLElement{constructor(){super(),this.detailsElements=Array.from(this.querySelectorAll("details")),this.mediaQuery=window.matchMedia("(min-width: 640px)"),this.handleResize=this.handleResize.bind(this)}connectedCallback(){this.handleResize(),this.mediaQuery.addEventListener("change",this.handleResize)}disconnectedCallback(){this.mediaQuery.removeEventListener("change",this.handleResize)}handleResize(){const t=this.mediaQuery.matches;this.detailsElements.forEach(e=>{t?e.setAttribute("open",""):e.removeAttribute("open")})}}customElements.define("footer-accordion",j);class U extends HTMLElement{constructor(){super(),this.zipForm=this.querySelector("form"),this.zipInput=this.querySelector("#shippingzip"),this.output=this.querySelector("#transitTimeOutput"),this.dataset.collapsed!=="false"&&this.collapse(),this.zipForm.addEventListener("submit",t=>this.onZipSubmit(t))}open(){this.zipForm.classList.remove("hidden"),this.style.removeProperty("--sc-hidden"),requestAnimationFrame(()=>{var t;return(t=this.zipInput)==null?void 0:t.focus()}),this.dataset.collapsed="false"}collapse(){this.zipForm.classList.add("hidden"),this.dataset.collapsed="true"}toggle(){this.dataset.collapsed==="true"?this.open():this.collapse()}onZipSubmit(t){t.preventDefault();const{st:e,transitTime:s}=this.getStateData(this.zipInput.value),{transitionStart:i,transitionEnd:n}=this.output.dataset;this.output.innerHTML=`${e}: ${s}`,this.output.classList.remove(...i.split(" ")),this.output.classList.add(...n.split(" "))}getStateData(t){if(typeof t!="string"){console.error("Must pass the zipcode as a string.");return}if(t.length!==5){console.error("Must pass a 5-digit zipcode.");return}const e=parseInt(t,10);let s,i,n;return e>=35e3&&e<=36999?(s="AL",i="Alabama",n="5-6 days"):e>=99500&&e<=99999?(s="AK",i="Alaska",n="5-6 days"):e>=85e3&&e<=86999?(s="AZ",i="Arizona",n="2-3 days"):e>=71600&&e<=72999?(s="AR",i="Arkansas",n="4-5 days"):e>=9e4&&e<=96699?(s="CA",i="California",n="2-3 days"):e>=8e4&&e<=81999?(s="CO",i="Colorado",n="3-4 days"):e>=6e3&&e<=6389||e>=6391&&e<=6999?(s="CT",i="Connecticut",n="5-6 days"):e>=19700&&e<=19999?(s="DE",i="Delaware",n="5-6 days"):e>=32e3&&e<=34999?(s="FL",i="Florida",n="5-6 days"):e>=3e4&&e<=31999||e>=39800&&e<=39999?(s="GA",i="Georgia",n="4-5 days"):e>=96700&&e<=96999?(s="HI",i="Hawaii",n="5-6 days"):e>=83200&&e<=83999&&e!=83414?(s="ID",i="Idaho",n="3-4 days"):e>=6e4&&e<=62999?(s="IL",i="Illinois",n="5-6 days"):e>=46e3&&e<=47999?(s="IN",i="Indiana",n="5-6 days"):e>=5e4&&e<=52999?(s="IA",i="Iowa",n="4-5 days"):e>=66e3&&e<=67999?(s="KS",i="Kansas",n="4-5 days"):e>=4e4&&e<=42999?(s="KY",i="Kentucky",n="4-5 days"):e>=7e4&&e<=71599?(s="LA",i="Louisiana",n="4-5 days"):e>=3900&&e<=4999?(s="ME",i="Maine",n="5-6 days"):e>=20600&&e<=21999?(s="MD",i="Maryland",n="5-6 days"):e>=1e3&&e<=2799||e==5501||e==5544?(s="MA",i="Massachusetts",n="5-6 days"):e>=48e3&&e<=49999?(s="MI",i="Michigan",n="4-5 days"):e>=55e3&&e<=56899?(s="MN",i="Minnesota",n="4-5 days"):e>=38600&&e<=39999?(s="MS",i="Mississippi",n="4-5 days"):e>=63e3&&e<=65999?(s="MO",i="Missouri",n="4-5 days"):e>=59e3&&e<=59999?(s="MT",i="Montana",n="4-5 days"):e>=68e3&&e<=69999?(s="NE",i="Nebraska",n="4-5 days"):e>=88900&&e<=89999?(s="NV",i="Nevada",n="2-3 days"):e>=3e3&&e<=3899?(s="NH",i="New Hampshire",n="5-6 days"):e>=7e3&&e<=8999?(s="NJ",i="New Jersey",n="5-6 days"):e>=87e3&&e<=88499?(s="NM",i="New Mexico",n="3-4 days"):e>=1e4&&e<=14999||e==6390||e==501||e==544?(s="NY",i="New York",n="5-6 days"):e>=27e3&&e<=28999?(s="NC",i="North Carolina",n="4-5 days"):e>=58e3&&e<=58999?(s="ND",i="North Dakota",n="3-4 days"):e>=43e3&&e<=45999?(s="OH",i="Ohio",n="4-5 days"):e>=73e3&&e<=73199||e>=73400&&e<=74999?(s="OK",i="Oklahoma",n="3-4 days"):e>=97e3&&e<=97999?(s="OR",i="Oregon",n="3-4 days"):e>=15e3&&e<=19699?(s="PA",i="Pennsylvania",n="5-6 days"):e>=300&&e<=999?(s="PR",i="Puerto Rico",n="5-6 days"):e>=2800&&e<=2999?(s="RI",i="Rhode Island",n="5-6 days"):e>=29e3&&e<=29999?(s="SC",i="South Carolina",n="4-5 days"):e>=57e3&&e<=57999?(s="SD",i="South Dakota",n="3-4 days"):e>=37e3&&e<=38599?(s="TN",i="Tennessee",n="4-5 days"):e>=75e3&&e<=79999||e>=73301&&e<=73399||e>=88500&&e<=88599?(s="TX",i="Texas",n="3-4 days"):e>=84e3&&e<=84999?(s="UT",i="Utah",n="3-4 days"):e>=5e3&&e<=5999?(s="VT",i="Vermont",n="5-6 days"):e>=20100&&e<=20199||e>=22e3&&e<=24699||e==20598?(s="VA",i="Virginia",n="4-5 days"):e>=2e4&&e<=20099||e>=20200&&e<=20599||e>=56900&&e<=56999?(s="DC",i="Washington DC",n="4-5 days"):e>=98e3&&e<=99499?(s="WA",i="Washington",n="3-4 days"):e>=24700&&e<=26999?(s="WV",i="West Virginia",n="5-6 days"):e>=53e3&&e<=54999?(s="WI",i="Wisconsin",n="4-5 days"):e>=82e3&&e<=83199||e==83414?(s="WY",i="Wyoming",n="4-5 days"):(s="none",i="none",n="Sorry, we could not find that zipcode in our database. Please contact Customer Care for shipping times."),{st:s,state:i,transitTime:n}}}customElements.define("shipping-calculator",U);class C extends HTMLElement{static ensureCartSignalsPatched(){if(window.__oseaPatchedCartFetch)return;window.__oseaPatchedCartFetch=!0;const t=window.fetch,e=/\/cart(\.js|\/(add|update|change|clear)\.js)?(\?.*)?$/;window.fetch=async function(n,o){const a=await t(n,o);try{const c=typeof n=="string"?n:(n==null?void 0:n.url)||"",p=((o==null?void 0:o.method)||(typeof n!="string"?n==null?void 0:n.method:"")||"GET").toUpperCase();if(e.test(c)&&a.ok){const d=new CustomEvent("cart:refresh",{bubbles:!0});window.dispatchEvent(d),document.dispatchEvent(d),window.dispatchEvent(new CustomEvent("cart:updated",{bubbles:!0})),document.dispatchEvent(new CustomEvent("cart:updated",{bubbles:!0}))}}catch(c){}return a};try{window.__oseaCartBC=new BroadcastChannel("osea:cart"),window.__oseaCartBC.onmessage=i=>{if((i==null?void 0:i.type)==="cart:refresh"){const n=new CustomEvent("cart:refresh",{bubbles:!0});window.dispatchEvent(n),document.dispatchEvent(n)}}}catch(i){}const s=localStorage.setItem.bind(localStorage);localStorage.setItem=function(i,n){if(s(i,n),i==="osea.cart.bump"){const o=new CustomEvent("cart:refresh",{bubbles:!0});window.dispatchEvent(o),document.dispatchEvent(o)}}}constructor(){super(),this.textEl=this.querySelector(".shipping-countdown-text"),this.thresholdDollars=Number(this.getAttribute("threshold")||0),this.thresholdCents=Math.max(0,Math.round(this.thresholdDollars*100)),this._refreshDebounced=(t=>{let e;return()=>{clearTimeout(e),e=setTimeout(t,120)}})(()=>this.refresh()),this.refresh=this.refresh.bind(this),this._cartInflight=null,this._lastCartJson=null,C.ensureCartSignalsPatched()}connectedCallback(){var s,i;this.refresh();const t=this.querySelector(".calc-link");t&&t.addEventListener("click",n=>{n.preventDefault();const o=this.dataset.calculator||`#${t.getAttribute("aria-controls")}`,a=document.querySelector(o);a&&(a.toggle?a.toggle():a.open&&a.open())}),["cart:updated","cart:update","cart:change","cart:refresh","lineItem:added","lineItem:removed"].forEach(n=>{window.addEventListener(n,this._refreshDebounced,{passive:!0}),document.addEventListener(n,this._refreshDebounced,{passive:!0})});const e=document.querySelector("cart-drawer");e&&["cart:updated","cart:change","updated","change"].forEach(n=>e.addEventListener(n,this._refreshDebounced,{passive:!0})),document.addEventListener("shopify:section:load",this._refreshDebounced,{passive:!0}),window.__oseaCartBC&&(this._bcHandler=n=>(n==null?void 0:n.type)==="cart:refresh"&&this._refreshDebounced(),(i=(s=window.__oseaCartBC).addEventListener)==null||i.call(s,"message",this._bcHandler))}disconnectedCallback(){var e,s;["cart:updated","cart:update","cart:change","cart:refresh","lineItem:added","lineItem:removed"].forEach(i=>{window.removeEventListener(i,this._refreshDebounced),document.removeEventListener(i,this._refreshDebounced)});const t=document.querySelector("cart-drawer");t&&["cart:updated","cart:change","updated","change"].forEach(i=>t.removeEventListener(i,this._refreshDebounced)),document.removeEventListener("shopify:section:load",this._refreshDebounced),window.__oseaCartBC&&this._bcHandler&&((s=(e=window.__oseaCartBC).removeEventListener)==null||s.call(e,"message",this._bcHandler))}async getCartJson(){return this._cartInflight?this._cartInflight:(this._cartInflight=(async()=>{var s,i;const t=await fetch("/cart.js",{credentials:"same-origin",cache:"no-store"});if(!t.ok)throw new Error("Cart fetch failed");const e=await t.json();this._lastCartJson=e;try{(i=(s=window.__oseaCartBC)==null?void 0:s.postMessage)==null||i.call(s,{type:"cart:refresh"})}catch(n){}return e})().finally(()=>this._cartInflight=null),this._cartInflight)}async refresh(){if(this.thresholdCents<=0){this.setText("You get free shipping!");return}let t;try{t=await this.getCartJson()}catch(n){this.setText(`Free Shipping on Orders ${this.formatMoney(this.thresholdCents)}+`);return}const e=Number(t.total_price||0);if(Number(t.item_count||0)===0){this.setText(`Free Shipping on Orders ${this.formatMoney(this.thresholdCents)}+`);return}if(e>=this.thresholdCents){this.setText("You get free shipping!");return}const i=this.thresholdCents-e;this.setText(`Add ${this.formatMoney(i)} to bag for free shipping`)}setText(t){this.textEl?this.textEl.textContent=t:this.textContent=t}formatMoney(t){var n,o,a,c;if(window.Shopify&&typeof Shopify.formatMoney=="function"){const p=((n=window.theme)==null?void 0:n.moneyFormat)||window.moneyFormat||(((o=window.Shopify.currency)==null?void 0:o.active)==="JPY"?"${{amount_no_decimals}}":"${{amount}}");return Shopify.formatMoney(Math.round(t),p).replace(/(\.00)(?!\d)/,"")}const e=((c=(a=window.Shopify)==null?void 0:a.currency)==null?void 0:c.active)||"USD",s=t/100,i=s.toLocaleString(void 0,{style:"currency",currency:e});return Number.isInteger(s)?i.replace(/(\.00)(?!\d)/,""):i}}customElements.define("shipping-countdown",C);class J extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),navigator.platform==="iPhone"&&document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`),this.addEventListener("keyup",this.onKeyUp.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.bindEvents()}bindEvents(){this.querySelectorAll("summary").forEach(e=>e.addEventListener("click",this.onSummaryClick.bind(this))),this.querySelector(".menu-scrim").addEventListener("click",this.onSummaryClick.bind(this)),this.querySelectorAll(".submenu-close").forEach(e=>e.addEventListener("click",this.onCloseSubmenu.bind(this))),this.querySelectorAll("a, summary").forEach(e=>e.addEventListener("click",this.onNavLinkClick.bind(this)));const t=this.querySelector(".menu-close");t&&t.addEventListener("click",this.closeMenuDrawer.bind(this))}onKeyUp(t){if(t.code.toUpperCase()!=="ESCAPE")return;const e=t.target.closest("details[open]");e&&(e===this.mainDetailsToggle?this.closeMenuDrawer(t,this.mainDetailsToggle.querySelector("summary")):this.closeSubmenu(e))}onSummaryClick(t){const e=t.currentTarget,s=e.parentNode,i=s.hasAttribute("open"),n=window.matchMedia("(prefers-reduced-motion: reduce)");function o(){g(e.nextElementSibling,s.querySelector("button")),e.nextElementSibling.removeEventListener("transitionend",o)}s===this.mainDetailsToggle?(i&&t.preventDefault(),i?this.closeMenuDrawer(t,e):this.openMenuDrawer(e)):setTimeout(()=>{s.classList.add("menu-opening"),e.setAttribute("aria-expanded",!0),!n||n.matches?o():e.nextElementSibling.addEventListener("transitionend",o)},100)}onNavLinkClick(t){console.log("clicked nav link",t)}openMenuDrawer(t){setTimeout(()=>{this.mainDetailsToggle.classList.add("menu-opening")}),t.setAttribute("aria-expanded",!0),g(this.mainDetailsToggle,t),document.body.classList.add("overflow-hidden")}closeMenuDrawer(t,e=!1){t!==void 0&&(this.mainDetailsToggle.classList.remove("menu-opening"),this.mainDetailsToggle.querySelectorAll("details").forEach(s=>{s.removeAttribute("open"),s.classList.remove("menu-opening")}),document.body.classList.remove("overflow-hidden"),E(e),this.closeAnimation(this.mainDetailsToggle))}onFocusOut(t){setTimeout(()=>{this.mainDetailsToggle.hasAttribute("open")&&!this.mainDetailsToggle.contains(document.activeElement)&&this.closeMenuDrawer()})}onCloseSubmenu(t){const e=t.currentTarget.closest("details");this.closeSubmenu(e)}closeSubmenu(t){t.classList.remove("menu-opening"),t.querySelector("summary").setAttribute("aria-expanded",!1),E(),this.closeAnimation(t)}closeAnimation(t){let e;const s=i=>{e===void 0&&(e=i),i-e<400?window.requestAnimationFrame(s):(t.removeAttribute("open"),t.closest("details[open]")&&g(t.closest("details[open]"),t.querySelector("summary")))};window.requestAnimationFrame(s)}setMenuTopValue(){const t=this.querySelector(".menu-drawer"),e=this.querySelector(".menu-scrim"),s=document.querySelector("#AnnouncementBar"),i=document.querySelector("header.header"),n=s.offsetHeight+i.offsetHeight;t.style.top=`${n}px`,e.style.top=`${n}px`}}customElements.define("menu-drawer",J);class Q extends HTMLElement{constructor(){super(),this.dismissableMessage=this.querySelector("#DismissableMessage"),this.defaultMessage=this.querySelector("#DismissableDefault"),this.closeButton=this.querySelector("#DismissableClose"),this.closeButton.addEventListener("click",this.onClose.bind(this))}connectedCallback(){JSON.parse(sessionStorage.getItem("osea.announcementDismissed"))?this.useDefaultMessage():document.querySelector("menu-drawer").setMenuTopValue()}onClose(){const t=document.querySelector("#HamburgerMenu .menu-drawer"),e=document.querySelector("#HamburgerMenu .menu-scrim");t.style.removeProperty("top"),e.style.removeProperty("top"),this.useDefaultMessage(),sessionStorage.setItem("osea.announcementDismissed",!0)}useDefaultMessage(){this.dismissableMessage.classList.add("hidden"),this.closeButton.classList.add("hidden"),this.defaultMessage.classList.remove("hidden")}}customElements.define("dismissable-announcement",Q);class K extends HTMLElement{constructor(){super(),this.querySelector('[id^="ModalClose-"]').addEventListener("click",this.hide.bind(this)),this.querySelectorAll(".close-modal").forEach(t=>t.addEventListener("click",this.hide.bind(this))),this.addEventListener("keyup",t=>{t.code.toUpperCase()==="ESCAPE"&&this.hide()}),this.classList.contains("media-modal")?this.addEventListener("pointerup",t=>{t.pointerType==="mouse"&&!t.target.closest("deferred-media, product-model")&&this.hide()}):this.addEventListener("click",t=>{t.target.nodeName==="MODAL-DIALOG"&&this.hide()})}show(t){this.openedBy=t;const e=this.querySelector(".template-popup");document.body.classList.add("overflow-hidden"),this.setAttribute("open",""),e&&e.loadContent(),g(this,this.querySelector('[role="dialog"]')),L()}hide(){document.body.classList.remove("overflow-hidden"),this.removeAttribute("open"),E(this.openedBy),L()}}customElements.define("modal-dialog",K);class Y extends HTMLElement{constructor(){super();const t=this.querySelector("button")||this.querySelector('[type="button"]');t&&t.addEventListener("click",()=>{const e=document.querySelector(this.getAttribute("data-modal"));e&&e.show(t),console.log("clicked modal opener",e)})}}customElements.define("modal-opener",Y);class X extends HTMLElement{constructor(){super();const t=this.querySelector('[id^="Deferred-Poster-"]');t&&t.addEventListener("click",this.loadContent.bind(this))}loadContent(){if(L(),!this.getAttribute("loaded")){const t=document.createElement("div");t.appendChild(this.querySelector("template").content.firstElementChild.cloneNode(!0)),this.setAttribute("loaded",!0),this.appendChild(t).focus()}}}customElements.define("deferred-media",X);class I extends HTMLElement{constructor(){super(),this.addEventListener("change",()=>{this.onVariantChange()}),this.addEventListener("click",()=>{})}connectedCallback(){const t=()=>{this.updateOptions(),this.updateMasterId(),this.updateMedia(),this.handleKlaviyoBisTrigger()};document.addEventListener("DOMContentLoaded",t)}onVariantChange(){this.updateOptions(),this.updateMasterId(),this.updateIsSubscription(),this.toggleAddButton(!0,"",!1),this.removeErrorMessage(),this.resetPurchaseOption(),this.currentVariant?(this.updateMedia(),this.updateURL(),this.updateVariantInput(),this.renderProductInfo(),this.updateOptionVisibility()):(this.toggleAddButton(!0,"",!0),this.setUnavailable())}updateOptions(){this.options=Array.from(this.querySelectorAll("select"),t=>t.value)}updateMasterId(){this.currentVariant=this.getVariantData().find(t=>!t.options.map((e,s)=>this.options[s]===e).includes(!1))}updateIsSubscription(){const t=document.querySelector('input[name="properties[_is_subscription]"]');this.currentVariant&&(this.currentVariant.selling_plan_allocations.length>0?t.value=!0:t.value=!1)}resetPurchaseOption(){window.location.pathname.includes("/products/")&&document.querySelector("subscription-radios")&&(document.querySelector(".purchase-option.onetime").classList.add("bg-wave-200"),document.querySelector('input[value="onetime"]').checked=!0,document.querySelector(".purchase-option.autodeliver").classList.remove("bg-wave-200"),document.querySelector('input[value="autodeliver"]').checked=!1)}updateMedia(){if(!this.currentVariant||!this.currentVariant.featured_media)return;if(this.dataset.isMainPdp==="true"){const e=document.querySelector("#Product-VariantImage"),s=this.currentVariant.featured_image.src;e&&(e.srcset=`${s}&width=800 1x, ${s}&width=1600 2x`,e.src=s);const i=document.querySelector("#Product-ThumbImage"),n=this.currentVariant.featured_image.src;i&&(i.srcset=`${n}&width=192 1x, ${n}&width=252 2x`,i.src=n)}else{const e=document.getElementById(`ProductCard-DefaultImage-${this.dataset.section}`),s=this.currentVariant.featured_media.preview_image.src;e&&(e.srcset=`${s}&width=328 1x, ${s}&width=656 2x`,e.src=s)}}updateURL(){!this.currentVariant||this.dataset.updateUrl==="false"||window.history.replaceState({},"",`${this.dataset.url}?variant=${this.currentVariant.id}`)}updateVariantInput(){document.querySelectorAll(`#product-form-${this.dataset.section}, #product-form-installment`).forEach(e=>{const s=e.querySelector('input[name="id"]');s.value=this.currentVariant.id,s.dispatchEvent(new Event("change",{bubbles:!0}))})}removeErrorMessage(){const t=this.closest("section");if(!t)return;const e=t.querySelector("product-form");e&&e.handleErrorMessage()}renderProductInfo(){const{id:t}=this.currentVariant;fetch(`${this.dataset.url}?variant=${t}`).then(e=>e.text()).then(e=>{const s=new DOMParser().parseFromString(e,"text/html"),i=(n,o)=>{const a=s.querySelector(o||n),c=document.querySelector(n);a&&c&&(c.innerHTML=a.innerHTML)};i(".product .main-price"),i(".subscription .onetime .price"),i(".subscription .autodeliver .price"),i(".product .benefits"),i(`[value="${t}"]:not(.mini-card-id-input) ~ button[name="add"] .price`,".product .main-price"),i(".subscription .selling-plan-options"),this.toggleAddButton(!this.currentVariant.available,window.variantStrings.soldOut)})}updateOptionVisibility(){if(this.currentVariant&&window.location.pathname.includes("/products/")){const s=document.querySelector("subscription-radios");if(s){const d=this.currentVariant.selling_plan_allocations.map(u=>u.selling_plan_group_id);this.currentVariant.selling_plan_allocations.length>0&&d.includes(s.dataset.subscriptionGroupId)?(s.classList.add("max-h-52"),s.classList.remove("max-h-0")):(s.classList.add("max-h-0"),s.classList.remove("max-h-52"))}const i=["Fragrance free","Scented"];if(this.currentVariant.options.some(d=>i.indexOf(d)>=0)){const d=document.getElementsByName("Scent"),h=document.getElementsByName("Size"),u=document.querySelectorAll(".scent-scented"),f=document.querySelectorAll(".scent-fragrance-free");u.forEach(l=>{l.classList.toggle("hidden",d[1].checked)}),f.forEach(l=>{l.classList.toggle("hidden",d[0].checked)});var t=this.currentVariant.option2,e=this.currentVariant.option1;h.forEach(l=>l.disabled=!1),d.forEach(l=>l.disabled=!1),t==="1 fl oz"&&d.forEach(l=>{l.value==="Fragrance free"&&(l.disabled=!0)}),e==="Fragrance free"&&h.forEach(l=>{l.value==="1 fl oz"&&(l.disabled=!0)})}const o=this.dataset.miniSizes.split(","),a=this.currentVariant.title.replace("fl oz","oz"),c=o.includes(a);document.querySelectorAll(".size-mini").forEach(d=>{d.classList.toggle("hidden",!c)})}}toggleAddButton(t=!0,e,s=!0){const i=document.getElementById(`product-form-${this.dataset.section}`);if(!i)return;const n=i.querySelector('[name="add"]'),o=i.querySelector('[name="add"] > .label'),a=document.querySelector(".klaviyo-bis-trigger");n&&(t?(n.setAttribute("disabled","disabled"),e&&(o.textContent=e),a&&(n.classList.add("mb-[50px]"),a.classList.add("block"),a.classList.remove("hidden"))):(n.removeAttribute("disabled"),e&&(o.textContent=window.variantStrings.addToCart),a&&(n.classList.remove("mb-[50px]"),a.classList.add("hidden"),a.classList.remove("block"))))}setUnavailable(){const t=document.getElementById(`product-form-${this.dataset.section}`),e=t.querySelector('[name="add"]'),s=t.querySelector('[name="add"] > span'),i=document.getElementById(`price-${this.dataset.section}`);e&&(s.textContent=window.variantStrings.unavailable,i&&i.classList.add("invisible"))}handleKlaviyoBisTrigger(){if(!this.getVariantData().map(a=>a.available).includes(!1))return;const i=20;let n=0;const o=()=>{const a=document.querySelector(".klaviyo-bis-trigger");a?(console.log("bisTrigger",a),this.currentVariant.available&&a.classList.add("hidden")):n<i?(n++,setTimeout(o,200)):console.warn("BIS trigger not found after max retries")};o()}getVariantData(){return this.variantData=this.variantData||JSON.parse(this.querySelector('[type="application/json"].variant-data').textContent),this.variantData}}customElements.define("variant-selects",I);class Z extends I{constructor(){super()}updateOptions(){const t=Array.from(this.querySelectorAll("fieldset"));this.options=t.map(e=>Array.from(e.querySelectorAll("input")).find(s=>s.checked).value)}}customElements.define("variant-radios",Z);class ee extends HTMLElement{constructor(){super(),this.isSubscriptionInput=document.querySelector('input[name="properties[_is_subscription]"]'),this.purchaseOptionInputs=Array.from(this.querySelectorAll('input[name="purchase_option"]'));const e=new URLSearchParams(window.location.search).get("type");this.purchaseOptionInputs.forEach(s=>{var n;if((e==="subscription"||document.referrer.includes("/pages/subscribe"))&&s.value==="autodeliver"){s.checked=!0,this.setActiveState(),this.updateMainPrice(s),this.setDefaultSellingPlan();const o=document.querySelector('input[name="properties[_is_subscription]"]');o.value=!0,(n=document.querySelector("#PayInstallments"))==null||n.classList.add("opacity-0")}s.addEventListener("change",this.onPurchaseOptionChange.bind(this))})}onPurchaseOptionChange(t){var i,n;const{value:e,checked:s}=t.currentTarget;if(s){this.setActiveState(),this.updateMainPrice(t.currentTarget);const o=document.querySelector('.pdp-quantity button[name="plus"]');if(e==="onetime")this.clearSellingPlanValues(),this.isSubscriptionInput.value=!1,this.productForm=document.querySelector("product-form.pdp-product-form"),(i=document.querySelector("#PayInstallments"))==null||i.classList.remove("opacity-0"),o&&o.disabled&&o.removeAttribute("disabled"),this.productForm.handleErrorMessage();else if(e==="autodeliver"){this.setDefaultSellingPlan(),this.isSubscriptionInput.value=!0,(n=document.querySelector("#PayInstallments"))==null||n.classList.add("opacity-0");const a=document.querySelector(".pdp-quantity input");if(a){const c=parseInt(a.value);c>4?(a.value=4,o.setAttribute("disabled","")):c==4&&o.setAttribute("disabled","")}}}}setActiveState(){var t;(t=this.purchaseOptionInputs)==null||t.forEach(e=>{e.closest(".purchase-option").classList.toggle(this.dataset.selectedColor||"bg-wave-200",e.checked),e.closest(".purchase-option").classList.toggle("bg-white",!e.checked)})}updateMainPrice(t){const e=t.closest(".purchase-option").querySelector(".price"),s=document.querySelector(".main-price.price");s.innerHTML=e.innerHTML}clearSellingPlanValues(){var t;(t=Array.from(this.querySelectorAll('input[name="selling_plan"]')))==null||t.forEach(e=>e.checked=!1)}setDefaultSellingPlan(){const t=this.dataset.recommendedInterval||2,e=Array.from(this.querySelectorAll('input[name="selling_plan"]'))[t-1];e.checked=!0}}customElements.define("subscription-radios",ee);class te extends HTMLElement{constructor(){super()}connectedCallback(){this.atcObserver=new IntersectionObserver(t=>{const e=document.documentElement;if(t[0].intersectionRatio<=0){const s=this.offsetHeight;e.style.setProperty("--sticky-atc-height",`${s}px`),this.classList.remove("invisible","opacity-0")}else e.style.setProperty("--sticky-atc-height","0px"),this.classList.add("invisible","opacity-0")}),this.atcObserver.observe(document.querySelector(".product-form.pdp-product-form"))}disconnectedCallback(){this.atcObserver&&this.atcObserver.disconnect()}}customElements.define("product-sticky-atc",te);class se extends HTMLElement{constructor(){super(),this.tablist=this.querySelector("[role=tablist]"),this.tabs=this.querySelectorAll("[role=tab]"),this.tabpanels=this.querySelectorAll("[role=tabpanel]"),this.activeTab=this.querySelector("[role=tab][aria-selected=true]"),this.addEventListeners(),this.checkUrlParameters()}addEventListeners(){for(let t of this.tabs)t.addEventListener("click",e=>{e.preventDefault(),this.setActiveTab(t.getAttribute("aria-controls"))}),t.addEventListener("keyup",e=>{(e.keyCode==13||e.keyCode==32)&&(e.preventDefault(),this.setActiveTab(t.getAttribute("aria-controls")))});this.tablist.addEventListener("keyup",t=>{switch(t.keyCode){case 35:t.preventDefault(),this.setActiveTab(this.tabs[this.tabs.length-1].getAttribute("aria-controls"));break;case 36:t.preventDefault(),this.setActiveTab(this.tabs[0].getAttribute("aria-controls"));break;case 37:case 38:t.preventDefault();let e=[...this.tabs].indexOf(this.activeTab)-1;e=e>=0?e:this.tabs.length-1,this.setActiveTab(this.tabs[e].getAttribute("aria-controls"));break;case 39:case 40:t.preventDefault();let s=[...this.tabs].indexOf(this.activeTab)+1;s=s<this.tabs.length?s:0,this.setActiveTab(this.tabs[s].getAttribute("aria-controls"));break}})}setActiveTab(t,e=!1){var i;const s=((i=this.dataset.activeClass)==null?void 0:i.split(" "))||["bg-wave-200"];for(let n of this.tabs)n.getAttribute("aria-controls")==t?(n.setAttribute("aria-selected","true"),s.forEach(o=>n.classList.add(o)),!e&&n.focus(),this.activeTab=n):(n.setAttribute("aria-selected","false"),s.forEach(o=>n.classList.remove(o)));for(let n of this.tabpanels)n.getAttribute("id")==t?n.getAttribute("aria-expanded")==="true"?!e&&n.focus():n.setAttribute("aria-expanded","true"):n.setAttribute("aria-expanded","false")}checkUrlParameters(){const t=new Proxy(new URLSearchParams(window.location.search),{get:(i,n)=>i.get(n)});let{tab:e,question:s}=t;if(e&&(this.setActiveTab(`tab-${e}`,!0),s)){const i=this.querySelector(`#tab-${e} ul.accordion li:nth-child(${s}) details`);i&&(i.setAttribute("open",""),setTimeout(()=>i.scrollIntoView({block:"start"}),1e3))}}}customElements.define("tab-controller",se);class ie extends HTMLElement{constructor(){super(),this.scrollBox=this.querySelector(".scroll-box"),this.navNext=this.querySelector("nav .next"),this.navPrev=this.querySelector("nav .prev"),this.items=Array.from(this.scrollBox.querySelectorAll(".snap-start")),this.items.length===0&&(this.items=Array.from(this.scrollBox.children)),this.handleShowNav=this.handleShowNav.bind(this),this.addEventListeners(),this.handleShowNav()}addEventListeners(){var t,e;this.scrollBox&&this.scrollBox.getBoundingClientRect().width<this.scrollBox.scrollWidth&&this.items.length>1&&((t=this.navNext)==null||t.addEventListener("click",()=>this.scrollToSnap("next")),(e=this.navPrev)==null||e.addEventListener("click",()=>this.scrollToSnap("prev")),this.scrollBox.addEventListener("scroll",this.handleShowNav),window.addEventListener("resize",this.handleShowNav))}get scrollPadStart(){const t=getComputedStyle(this.scrollBox),e=t.scrollPaddingInlineStart||t.scrollPaddingLeft||"0",s=parseFloat(e);return isNaN(s)?0:s}getCurrentIndex(){const t=this.scrollBox.scrollLeft+this.scrollPadStart;let e=0;for(let s=0;s<this.items.length&&this.items[s].offsetLeft<=t+1;s++)e=s;return e}scrollToIndex(t){t=Math.max(0,Math.min(this.items.length-1,t));const e=this.items[t].offsetLeft-this.scrollPadStart;this.scrollBox.scrollTo({left:e,behavior:"smooth"})}scrollToSnap(t){const e=this.getCurrentIndex(),s=t==="next"?e+1:e-1;this.scrollToIndex(s)}handleShowNav(){var i,n;const e=this.scrollBox.scrollLeft<=1,s=this.scrollBox.scrollLeft>=this.scrollBox.scrollWidth-this.scrollBox.getBoundingClientRect().width-1;(i=this.navPrev)==null||i.classList.toggle("nav-hide",e),(n=this.navNext)==null||n.classList.toggle("nav-hide",s)}}customElements.define("horizontal-scroll-box",ie);class ne extends HTMLElement{static get observedAttributes(){return["data-collapsed-height","data-collapsed-lines"]}constructor(){if(super(),this.content=this.querySelector("[data-content]"),this.btnMore=this.querySelector("[data-expand]"),this.btnLess=this.querySelector("[data-collapse]"),this.open=!1,!this.content){const e=document.createElement("div");for(e.setAttribute("data-content",""),e.className="leading-6";this.firstChild;)e.appendChild(this.firstChild);this.appendChild(e),this.content=e}this.btnMore||(this.btnMore=document.createElement("button"),this.btnMore.type="button",this.btnMore.dataset.expand="",this.btnMore.className="text-xs link mt-1 block",this.btnMore.textContent="Read more",this.appendChild(this.btnMore)),this.btnLess||(this.btnLess=document.createElement("button"),this.btnLess.type="button",this.btnLess.dataset.collapse="",this.btnLess.className="text-xs link mt-1 hidden",this.btnLess.textContent="Read less",this.appendChild(this.btnLess));const t=this.transitionMs;this.content.style.transition=`max-height ${t}ms ease`,this.content.style.overflow="hidden",this.handleAssess=this.assess.bind(this),this.handleOpen=this.expand.bind(this),this.handleClose=this.collapse.bind(this),this.ro=new ResizeObserver(this.handleAssess),this.mo=new MutationObserver(this.handleAssess)}connectedCallback(){this.content.id||(this.content.id=`exp-${Math.random().toString(36).slice(2)}`),this.btnMore.setAttribute("aria-controls",this.content.id),this.btnLess.setAttribute("aria-controls",this.content.id),this.btnMore.setAttribute("aria-expanded","false"),this.btnLess.setAttribute("aria-expanded","false"),this.content.setAttribute("role","region"),this.content.setAttribute("aria-hidden","true"),this.btnMore.addEventListener("click",this.handleOpen),this.btnLess.addEventListener("click",this.handleClose),window.addEventListener("resize",this.handleAssess),this.ro.observe(this.content),this.mo.observe(this.content,{childList:!0,subtree:!0,characterData:!0}),this.collapse({silent:!0}),document.readyState==="complete"?this.assess():window.addEventListener("load",this.handleAssess,{once:!0})}disconnectedCallback(){this.btnMore.removeEventListener("click",this.handleOpen),this.btnLess.removeEventListener("click",this.handleClose),window.removeEventListener("resize",this.handleAssess),this.ro.disconnect(),this.mo.disconnect()}attributeChangedCallback(){this.open||this.applyCollapsedHeight(),this.assess()}get transitionMs(){const t=parseInt(this.dataset.transitionMs||"400",10);return isNaN(t)?400:t}get collapsedHeightPx(){const t=parseInt(this.dataset.collapsedLines||"",10);if(!isNaN(t)){const s=parseFloat(getComputedStyle(this.content).lineHeight);if(!isNaN(s)&&s>0)return Math.round(s*t)}const e=parseInt(this.dataset.collapsedHeight||"",10);return isNaN(e)?40:e}applyCollapsedHeight(){this.content.style.maxHeight=`${this.collapsedHeightPx}px`,this.content.style.overflow="hidden"}assess(){const t=this.content.scrollHeight,e=t>this.collapsedHeightPx+1;this.btnMore.classList.toggle("hidden",!e||this.open),this.btnLess.classList.toggle("hidden",!e||!this.open),e?this.open?(this.content.style.maxHeight=`${t}px`,this.content.style.overflow="visible"):this.applyCollapsedHeight():(this.content.style.maxHeight="none",this.content.style.overflow="visible",this.btnMore.setAttribute("aria-expanded","false"),this.btnLess.setAttribute("aria-expanded","false"),this.content.setAttribute("aria-hidden","false"),this.open=!0)}expand(){this.open=!0;const t=this.content.scrollHeight;this.content.style.maxHeight=`${t}px`,this.content.style.overflow="visible",this.btnMore.classList.add("hidden"),this.btnLess.classList.remove("hidden"),this.btnMore.setAttribute("aria-expanded","true"),this.btnLess.setAttribute("aria-expanded","true"),this.content.setAttribute("aria-hidden","false")}collapse({silent:t=!1}={}){this.open=!1,this.applyCollapsedHeight(),this.btnMore.classList.remove("hidden"),this.btnLess.classList.add("hidden"),this.btnMore.setAttribute("aria-expanded","false"),this.btnLess.setAttribute("aria-expanded","false"),this.content.setAttribute("aria-hidden","true"),t||this.getBoundingClientRect().top<0&&this.scrollIntoView({behavior:"smooth",block:"start"})}}customElements.define("expandable-section",ne);class re extends HTMLElement{constructor(){super(),this.id=this.getAttribute("id"),this.options={},this.twBreakpoints=JSON.parse('{"2xs":412,"xs":472,"sm":640,"md":768,"lg":1024,"xl":1280,"2xl":1536}');const{breakpointLimit:t}=this.dataset,e=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);if(t==="none")this.initSlider();else if(e<=this.twBreakpoints[t])this.initSlider();else{this.classList.remove("glide"),this.classList.add("relative");const s=this.querySelector(".glide__track"),i=this.querySelector(".glide__slides");s.classList.forEach(n=>{n!=="glide__track"&&i.classList.add(n)}),s.replaceWith(...s.childNodes)}}getPath(t){return t?this.options.breakpoints[t]:this.options}addOtherPeek(t,e){var n;const s=["before","after"].filter(o=>o!==t)[0],i=this.getPath(e);return(n=i==null?void 0:i.peek)!=null&&n[s]?{}:{[s]:0}}parseValue(t){let e;return isNaN(t)?e=["true","false"].includes(t)?t==="true":t:e=parseInt(t),e}buildOptionObject(t,e,s,i){return{[t]:s?m(y(m({},[this.getPath(i)][t]),{[e]:this.parseValue(s)}),t==="peek"&&this.addOtherPeek(e,i)):this.parseValue(e)}}getOptions(t){t.forEach(e=>{var i;const s=e.split(/[\:\.\-]/);if(e.includes(":")){const n=this.twBreakpoints[s[0]];this.options.breakpoints||(this.options.breakpoints={}),this.options.breakpoints[n]=m(m({},(i=this.options.breakpoints)==null?void 0:i[n]),this.buildOptionObject(s[1],s[2],s[3],n))}else this.options=m(m({},this.options),this.buildOptionObject(s[0],s[1],s[2]))})}initSlider(){const t=Array.from(this.classList);if(t.length>0){const e=["perView","peek","focusAt","type","bound","gap","autoplay"],s=t.filter(i=>e.some(n=>i.includes(n)));s.length>0&&this.getOptions(s)}new Glide(`#${this.id}`,this.options).mount()}}customElements.define("glide-slider",re);class oe extends HTMLElement{constructor(){super(),this.cart=document.querySelector("cart-drawer");const{productId:t}=this.dataset;new Proxy(new URLSearchParams(window.location.search),{get:(i,n)=>i.get(n)}).gwp===t&&this.checkGiftQualifiers()}checkGiftQualifiers(){const{threshold:t,variantId:e}=this.dataset;fetch(window.Shopify.routes.root+"cart.js").then(s=>s.json()).then(s=>{s.items.map(i=>i.id).includes(e)||(Number(t)===0?this.cart.addFreeGift([e]):Number(t)>0&&(localStorage.getItem("osea.gwpUrlVariantId")!==e&&(document.getElementById("GwpUrlModal").show(),localStorage.setItem("osea.gwpUrlVariantId",e)),s.total_price>=t&&this.cart.addFreeGift([e])))}).catch(s=>console.error(s))}}customElements.define("gift-with-purchase-url",oe);class ae extends HTMLElement{constructor(){super(),this.updateTimer()}updateTimer(){setInterval(()=>{const t=this.dataset.date.split("/"),e=[t[2],t[0],t[1]],n=new Date(`${e.join("-")}T${this.dataset.time}:00-07:00`)-new Date,o=Math.floor(n/(1e3*60*60*24)),a=Math.floor(n/(1e3*60*60)),c=Math.floor(n/(1e3*60)),p=Math.floor(n/1e3);this.querySelector(".countdown-days").textContent=o,this.querySelector(".countdown-hours").textContent=a-o*24,this.querySelector(".countdown-minutes").textContent=c-a*60,this.querySelector(".countdown-seconds").textContent=p-c*60},1e3)}}customElements.define("countdown-component",ae);class ce extends HTMLElement{constructor(){super(),this.addEventListener("change",this.onInputChange)}onInputChange(t){document.querySelector(`product-form.pdp-product-form #sktc${t.target.id}`).value=t.target.value}}customElements.define("gift-card-fields",ce);class le extends HTMLElement{constructor(){super(),this.querySelectorAll("a").forEach(t=>t.addEventListener("click",()=>this.onAnchorClick(t)))}onAnchorClick(t){document.querySelectorAll("details.subcollection").forEach(e=>{e.id===t.getAttribute("href").substring(1)?e.setAttribute("open",""):e.removeAttribute("open")})}}customElements.define("collection-anchors",le);class de{constructor(t){this.el=t,this.summary=t.querySelector("summary"),this.content=t.querySelector(".content"),this.duration=parseInt(t.dataset.duration),this.animation=null,this.isCollapsing=!1,this.isExpanding=!1,this.summary.addEventListener("click",e=>this.onClick(e))}onClick(t){t.preventDefault(),this.el.style.overflow="hidden",this.isCollapsing||!this.el.open?this.open():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isCollapsing=!0;const t=`${this.el.offsetHeight}px`,e=`${this.summary.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,e]},{duration:this.duration,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isCollapsing=!1}open(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame(()=>this.expand())}expand(){this.isExpanding=!0;const t=`${this.el.offsetHeight}px`,e=`${this.summary.offsetHeight+this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,e]},{duration:this.duration,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(t){this.el.open=t,this.animation=null,this.isCollapsing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}document.querySelectorAll("details.accordion").forEach(r=>{new de(r)});class he extends HTMLElement{constructor(){super(),this.button=this.querySelector(".button"),this.button.addEventListener("click",t=>{t.preventDefault(),(this.closest("cart-items")||this.closest("cart-drawer-items")).updateCartItem(this.dataset.index,0,t.target.name)})}}customElements.define("cart-remove-button",he);class M extends HTMLElement{constructor(){super(),this.cart=document.querySelector("cart-drawer"),this.lineItemStatusElement=document.getElementById("shopping-cart-line-item-status")||document.getElementById("CartDrawer-LineItemStatus"),this.currentItemCount=Array.from(this.querySelectorAll('[name="updates[]"]')).reduce((t,e)=>t+parseInt(e.value),0),this.debouncedOnChange=S(t=>{this.onChange(t)},300),this.addEventListener("change",this.debouncedOnChange.bind(this)),document.addEventListener("rivo-accounts:shopify:login",this.onCustomerLogin.bind(this)),window.location.pathname==="/cart"&&fetch(window.Shopify.routes.root+"cart.js").then(t=>t.json()).then(t=>{console.log("running handleGiftWithPurchase"),this.handleGiftWithPurchase(t)})}onChange(t){this.updateCartItem(t.target.dataset.index,t.target.value,t.target.getAttribute("name"),t.target)}updateCatchCalloutPrice(t){const e=document.querySelector("#catch-callout-cart");e&&t&&e.setAttribute("price",t)}getSectionsToRender(){return[{id:"main-cart-items",section:document.getElementById("main-cart-items").dataset.id,selector:".js-contents"},{id:"cart-icon-bubble",section:"cart-icon-bubble",selector:".shopify-section"},{id:"cart-live-region-text",section:"cart-live-region-text",selector:".shopify-section"},{id:"main-cart-footer",section:document.getElementById("main-cart-footer").dataset.id,selector:".js-contents"},{id:"shopify-section-announcement-bar",section:"announcement-bar",selector:".shopify-section"}]}handleGiftWithPurchase(t){const e=window.customerLoggedIn,{enabled:s}=window.gwpSettings;if(!s)return;const{loyaltyOnly:i,productQualifierEnabled:n,productQualifierId:o,tiers:a,type:c}=window.gwpSettings,p=t.items.map(f=>f.product_id);if(i&&!e)return;const d=n&&!p.includes(parseInt(o));let h=[],u=[];if(a.forEach(f=>{var w;if(!f.product)return;const l=parseInt(f.product);if(p.includes(l)&&(t.total_price<f.threshold||d)){const q=p.findIndex(k=>k===l)+1;u.push(q)}d||(c==="auto"&&!p.includes(l)&&t.total_price>=f.threshold&&h.push(f.variant),c==="url"&&localStorage.getItem("osea.gwpUrlVariantId")===f.variant&&((w=document.querySelector("gift-with-purchase-url"))==null||w.checkGiftQualifiers()))}),u.length>0){u.sort((l,b)=>b-l);const f=l=>new Promise(b=>setTimeout(b,l));u.reduce((l,b)=>l.then(()=>this.removeGift(b)).then(()=>f(400)),Promise.resolve())}h.length>0&&this.cart.addFreeGift(h)}onCustomerLogin(){window.customerLoggedIn=!0,fetch(window.Shopify.routes.root+"cart.js").then(t=>t.json()).then(t=>{this.handleGiftWithPurchase(t)})}updateCartItem(t,e,s,i){var p;const n=document.getElementById(`CartSubscribeCheckbox-${t}`);if(n&&n.checked&&s==="updates[]"&&e>4){const d=document.getElementById(`Quantity-${t}`)||document.getElementById(`Drawer-quantity-${t}`),h=document.getElementById("cart-errors")||document.getElementById("CartDrawer-CartErrors");d.value=4,h.textContent="You may not subscribe to more than 4 of this product.",setTimeout(()=>h.textContent="",5e3);return}this.enableLoading(t),window.gwpSettings.enabled&&window.gwpSettings.type==="banner"&&((p=document.getElementById("GwpButton"))==null||p.remove());let o=null,a=null;s==="subscribe"?i.checked?(o=i.dataset.default,a={_is_subscription:"true"}):a={_is_subscription:"false"}:s==="selling_plan"&&(o=e);const c=JSON.stringify(m(m(m({line:t,sections:this.getSectionsToRender().map(d=>d.section),sections_url:window.location.pathname},!["subscribe","selling_plan"].includes(s)&&{quantity:e}),["subscribe","selling_plan"].includes(s)&&{selling_plan:o}),a&&{properties:a}));fetch(`${routes.cart_change_url}`,y(m({},v()),{body:c})).then(d=>d.text()).then(d=>{var b;const h=JSON.parse(d);((b=h==null?void 0:h.items)==null?void 0:b.filter(w=>w.product_type!=="Sample").length)===0&&this.cart.clearCart(),this.handleGiftWithPurchase(h),this.updateCatchCalloutPrice(h.total_price),this.classList.toggle("is-empty",h.item_count===0);const u=document.querySelector("cart-drawer"),f=document.getElementById("main-cart-footer");f&&f.classList.toggle("is-empty",h.item_count===0),u&&u.classList.toggle("is-empty",h.item_count===0),this.replaceSections(h),this.updateLiveRegions(t,h.item_count);const l=document.getElementById(`CartItem-${t}`)||document.getElementById(`CartDrawer-Item-${t}`);l&&l.querySelector(`[name="${s}"]`)?u?g(u,l.querySelector(`[name="${s}"]`)):l.querySelector(`[name="${s}"]`).focus():h.item_count===0&&u?g(u.querySelector(".cart-empty"),u.querySelector("a")):document.querySelector(".cart-item")&&u&&g(u,document.querySelector(".cart-item__name")),this.disableLoading()}).catch(d=>{console.error(d),this.querySelectorAll(".loading-spinner").forEach(u=>u.classList.add("hidden"));const h=document.getElementById("cart-errors")||document.getElementById("CartDrawer-CartErrors");h&&(h.textContent=window.cartStrings.error),this.disableLoading()})}replaceSections(t){t.sections?this.getSectionsToRender().forEach(e=>{const s=document.getElementById(e.id).querySelector(e.selector)||document.getElementById(e.id);s.innerHTML=this.getSectionInnerHTML(t.sections[e.section],e.selector)}):fetch(`${window.Shopify.routes.root}?sections=${this.getSectionsToRender().map(e=>e.section)}`).then(e=>e.json()).then(e=>{t.sections=e,this.getSectionsToRender().forEach(s=>{const i=document.getElementById(s.id).querySelector(s.selector)||document.getElementById(s.id);i.innerHTML=this.getSectionInnerHTML(t.sections[s.section],s.selector)})}).catch(e=>console.error(e)),bootstrapCartProductsSection()}removeGift(t){const e=JSON.stringify({line:t,quantity:0});fetch(`${routes.cart_change_url}`,y(m({},v()),{body:e})).then(s=>s.text()).then(s=>{const i=JSON.parse(s);this.replaceSections(i)}).catch(s=>console.error(s))}updateLiveRegions(t,e){if(this.currentItemCount===e){const i=document.getElementById(`Line-item-error-${t}`)||document.getElementById(`CartDrawer-LineItemError-${t}`),n=document.getElementById(`Quantity-${t}`)||document.getElementById(`Drawer-quantity-${t}`);if(!n)return;i.querySelector(".cart-item__error-text").innerHTML=window.cartStrings.quantityError.replace("[quantity]",n.value)}this.currentItemCount=e,this.lineItemStatusElement.setAttribute("aria-hidden",!0);const s=document.getElementById("cart-live-region-text")||document.getElementById("CartDrawer-LiveRegionText");s&&(s.setAttribute("aria-hidden",!1),setTimeout(()=>{s.setAttribute("aria-hidden",!0)},1e3))}getSectionInnerHTML(t,e){return new DOMParser().parseFromString(t,"text/html").querySelector(e).innerHTML}enableLoading(t){(document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems")).classList.add("pointer-events-none");const s=this.querySelectorAll(`#CartItem-${t} .loading-spinner`),i=this.querySelectorAll(`#CartDrawer-Item-${t} .loading-spinner`);[...s,...i].forEach(n=>n.classList.remove("hidden")),document.activeElement.blur(),this.lineItemStatusElement.setAttribute("aria-hidden",!1)}disableLoading(){const t=document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems");t&&t.classList.remove("pointer-events-none")}}customElements.define("cart-items",M);class ue extends HTMLElement{constructor(){super(),this.totalEl=document.getElementById("CartDrawer-Total"),this.total=this.totalEl?parseFloat(this.totalEl.dataset.total):0,this.dataset.subscriptionsInCart.length>0?this.shippingThreshold=0:this.shippingThreshold=this.stringToInt(this.dataset.shippingThreshold),this.tier1Threshold=this.stringToInt(this.dataset.tier1Threshold),this.tier2Threshold=this.stringToInt(this.dataset.tier2Threshold),this.tier3Threshold=this.stringToInt(this.dataset.tier3Threshold);const t=this.dataset.hasTier1Product==="true",e=this.dataset.hasTier2Product==="true",s=this.dataset.hasTier3Product==="true",i=this.dataset.isGwpActive==="true",n=this.dataset.isLoyaltyOnly==="true";this.thresholds=[this.shippingThreshold],(i&&!n||i&&n&&window.customerLoggedIn)&&(this.tier1Threshold&&t&&this.thresholds.push(this.tier1Threshold),this.tier2Threshold&&e&&this.thresholds.push(this.tier2Threshold),this.tier3Threshold&&s&&this.thresholds.push(this.tier3Threshold)),this.progressBar=this.querySelector("progress"),this.updateProgress()}stringToInt(t){return t?parseFloat(t)*100:null}updateProgress(){let t=0;for(let e=0;e<this.thresholds.length;e++){const s=this.thresholds[e],i=e===0?0:this.thresholds[e-1];if(this.total>=s)t=(e+1)/this.thresholds.length*100;else if(this.total>i&&this.total<s){const n=s-i,o=this.total-i;t=e/this.thresholds.length*100+o/n*(100/this.thresholds.length);break}}t=Math.min(100,Math.max(0,t)),this.progressBar.value=t,this.progressBar.innerText=`${Math.round(t)}%`}}customElements.define("reward-countdown",ue);class me extends HTMLElement{constructor(){super(),this.filteredIdArray=JSON.parse(this.dataset.ids),this.destination=this.querySelector(".cart-recommendations"),this.filteredIdArray.length>0&&this.getRecommendations(this.filteredIdArray[0])}getRecommendations(t){fetch(window.Shopify.routes.root+`recommendations/products?product_id=${t}&limit=6&section_id=cart-recommendations`).then(e=>e.text()).then(e=>this.destination.innerHTML=e)}}customElements.define("cart-recommendations",me);class pe extends HTMLElement{constructor(){var t;super(),this.cart=document.querySelector("cart-drawer"),this.lineItemStatusElement=document.getElementById("shopping-cart-line-item-status")||document.getElementById("CartDrawer-LineItemStatus"),this.button=this.querySelector("button"),(t=this.button)==null||t.addEventListener("click",this.onButtonClick.bind(this))}onButtonClick(){this.enableLoading(this.dataset.itemToRemove);const t=JSON.stringify({line:this.dataset.itemToRemove,quantity:0});fetch(`${routes.cart_change_url}`,y(m({},v()),{body:t})).then(()=>{const e=JSON.stringify({items:[{id:this.dataset.itemToAdd,quantity:1}]});fetch(`${routes.cart_add_url}`,y(m({},v()),{body:e})).then(s=>s.json()).then(s=>this.cart.renderContents(s)).catch(s=>console.error(s)),this.disableLoading()}).catch(e=>console.error(e))}enableLoading(t){(document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems")).classList.add("pointer-events-none");const s=this.cart.querySelectorAll(`#CartItem-${t} .loading-spinner`),i=this.cart.querySelectorAll(`#CartDrawer-Item-${t} .loading-spinner`);[...s,...i].forEach(n=>n.classList.remove("hidden")),document.activeElement.blur(),this.lineItemStatusElement.setAttribute("aria-hidden",!1)}disableLoading(){(document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems")).classList.remove("pointer-events-none")}}customElements.define("save-with-sets",pe);class fe extends HTMLElement{constructor(){super(),this.messageTextarea=this.querySelector("#PrintedGiftNote-Message"),this.errorMessageEl=this.querySelector("#PrintedGiftNote-Error"),this.errorMessageText=this.querySelector("#PrintedGiftNote-ErrorText"),this.confirmMessage=this.querySelector("#PrintedGiftNote-Confirm"),this.noteEnabledCheckbox=this.querySelector("#PrintedGiftNote-Enable"),this.checkoutButton=document.querySelector("#CartDrawer-Checkout"),this.messageTextarea.addEventListener("keydown",S(t=>{this.updateGiftMessage(t.target.value)},1e3)),this.noteEnabledCheckbox.addEventListener("change",this.handleCheckboxChange.bind(this)),this.checkoutButton.addEventListener("click",this.handleCheckoutClick.bind(this))}connectedCallback(){this.getGiftMessage()}validateInput(t){if(!t)return!1;const e=RegExp(/^[\s0-9a-zA-Z.,?!]*$/g);return!t.match(e)}getCartContents(){return fetch(window.Shopify.routes.root+"cart.js").then(t=>t.json()).then(t=>t)}updateCart(t,e){const s=JSON.stringify({attributes:{giftEnabled:t,giftMessage:e}});fetch(`${routes.cart_update_url}`,y(m({},v()),{body:s}))}getGiftMessage(){this.getCartContents().then(t=>{const{giftEnabled:e,giftMessage:s}=t.attributes;e&&(this.noteEnabledCheckbox.checked=e==="true"),s&&(this.messageTextarea.value=s)})}updateGiftMessage(t){this.confirmMessage.classList.add("hidden"),this.errorMessageEl.classList.add("hidden"),this.noteEnabledCheckbox.checked&&t!==""&&(this.validateInput(t)?(this.errorMessageText.innerText="Alphanumeric characters only",this.errorMessageEl.classList.remove("hidden")):(this.confirmMessage.classList.remove("hidden"),setTimeout(()=>this.confirmMessage.classList.add("hidden"),3e3),this.updateCart(!0,t))),this.noteEnabledCheckbox.checked&&t===""&&(this.errorMessageText.innerText="Message cannot be blank",this.errorMessageEl.classList.remove("hidden"),this.updateCart(!1,null)),this.noteEnabledCheckbox.checked||this.updateCart(!1,null)}handleCheckboxChange(t){t.target.checked||this.updateCart(!1,null)}handleCheckoutClick(t){t.preventDefault(),this.getCartContents().then(e=>{const{giftEnabled:s,giftMessage:i}=e.attributes;s&&i!=null?fetch("/cart/add.js",{body:JSON.stringify({id:41526301163703,quantity:1}),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},method:"POST"}).then(o=>o.json()).then(o=>window.location="/checkout").catch(o=>console.error(o)):window.location="/checkout"})}}customElements.define("printed-gift-note",fe);class ge extends HTMLElement{constructor(){super(),this.addEventListener("change",S(t=>{const e=JSON.stringify({note:t.target.value});fetch(`${routes.cart_update_url}`,y(m({},v()),{body:e}))},300))}}customElements.get("cart-note")||customElements.define("cart-note",ge);class be extends HTMLElement{constructor(){super(),this.overlay=this.querySelector(".cart-scrim"),this.drawer=this.querySelector(".cart-drawer"),this.hasEnsuredGwp=!1,this.addEventListener("keyup",t=>t.code==="Escape"&&this.close()),this.overlay.addEventListener("click",this.close.bind(this)),this.setHeaderCartIconAccessibility(),this.attachEventListeners()}attachEventListeners(){document.addEventListener("loopByobAddToCartSuccessEvent",t=>{fetch("https://oseamalibu.com/cart.js").then(e=>e.json()).then(e=>{if(e.status)console.log("error",e.status);else if(!e){window.location=window.routes.cart_url;return}this.renderContents(e)}).catch(e=>console.error(e))}),document.body.addEventListener("blotout-wallet-cart-restored",async()=>{console.log("blotout-wallet-cart-restored");try{const t=await fetch("/cart.js");if(!t.ok){const s=await t.text();throw new Error(`Could not fetch cart contents - ${t.status}: ${s}`)}const e=await t.json();this.renderContents(e)}catch(t){console.error("Error fetching cart data:",t)}})}setHeaderCartIconAccessibility(){const t=document.querySelector("#cart-icon-bubble");t.setAttribute("role","button"),t.setAttribute("aria-haspopup","dialog"),t.addEventListener("click",e=>{e.preventDefault(),this.open(t)}),t.addEventListener("keydown",e=>{e.code.toUpperCase()==="SPACE"&&(e.preventDefault(),this.open(t))})}open(t){t&&this.setActiveElement(t),this.ensureGiftWithPurchase();const e=this.querySelector('[id^="Details-"] summary');e&&!e.hasAttribute("role")&&this.setSummaryAccessibility(e),setTimeout(()=>{this.classList.remove("invisible"),this.classList.add("active"),bootstrapCartProductsSection()}),this.addEventListener("transitionend",()=>{const s=this.classList.contains("is-empty")?this.querySelector(".cart-empty"):document.getElementById("CartDrawer"),i=this.drawer||this.querySelector(".cart-close");g(s,i)},{once:!0}),document.body.classList.add("overflow-hidden")}ensureGiftWithPurchase(){if(this.hasEnsuredGwp)return;const t=window==null?void 0:window.gwpSettings;if(!(t!=null&&t.enabled))return;const e=document.querySelector("cart-drawer-items")||document.querySelector("cart-items");e!=null&&e.handleGiftWithPurchase&&(this.hasEnsuredGwp=!0,fetch(`${window.Shopify.routes.root}cart.js`).then(s=>{if(!s.ok)throw new Error(`Failed to fetch cart: ${s.status}`);return s.json()}).then(s=>{e.handleGiftWithPurchase(s)}).catch(s=>{console.error("Error running gift with purchase sync:",s),this.hasEnsuredGwp=!1}))}close(){this.classList.remove("active"),setTimeout(()=>this.classList.add("invisible"),400),E(this.activeElement),document.body.classList.remove("overflow-hidden"),document.querySelectorAll(".cart-items #bud").forEach(e=>e.remove())}setSummaryAccessibility(t){t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),t.nextElementSibling.getAttribute("id")&&t.setAttribute("aria-controls",t.nextElementSibling.id),t.addEventListener("click",e=>{e.currentTarget.setAttribute("aria-expanded",!e.currentTarget.closest("details").hasAttribute("open"))}),t.parentElement.addEventListener("keyup",e=>T(e))}renderContents(t){this.drawer.classList.contains("is-empty")&&this.drawer.classList.remove("is-empty"),this.productId=t.id,t.sections?(this.getSectionsToRender().forEach(e=>{const s=e.selector?document.querySelector(e.selector):document.getElementById(e.id);s.innerHTML=this.getSectionInnerHTML(t.sections[e.id],e.selector)}),setTimeout(()=>{this.querySelector(".cart-scrim").addEventListener("click",this.close.bind(this)),this.open()})):fetch(`${window.Shopify.routes.root}?sections=${this.getSectionsToRender().map(e=>e.id)}`).then(e=>e.json()).then(e=>{t.sections=e,this.getSectionsToRender().forEach(s=>{const i=s.selector?document.querySelector(s.selector):document.getElementById(s.id);i.innerHTML=this.getSectionInnerHTML(t.sections[s.id],s.selector)}),setTimeout(()=>{this.querySelector(".cart-scrim").addEventListener("click",this.close.bind(this)),this.open()})}).catch(e=>console.error(e))}addFreeGift(t){const e=t.map(i=>({id:i,quantity:1})),s=JSON.stringify({items:e});fetch(`${routes.cart_add_url}`,y(m({},v()),{body:s})).then(i=>i.json()).then(i=>this.renderContents(i)).catch(i=>console.error(i))}clearCart(){fetch(window.Shopify.routes.root+"cart/clear.js").then(()=>{const t='<div class="cart-empty h-full overflow-hidden flex flex-col items-center justify-center w-60 mx-auto"><h2 class="text-lg tracking-wide font-book mb-4">Your cart is empty</h2><a href="/collections/bestsellers" class="button button-secondary mb-4 w-full">Shop Best Sellers</a><a href="/collections/skincare" class="button button-secondary mb-4 w-full">Shop Skincare</a><a href="/collections/body-care" class="button button-secondary mb-4 w-full">Shop Body Care</a><a href="/collections/shop" class="button button-secondary mb-4 w-full">Shop All</a><a href="/pages/quiz" class="button button-secondary mb-4 w-full">Take Skin Quiz</a></div>',e='<a href="/cart" class="header__icon header__icon--cart cursor-pointer flex w-10 h-10 justify-center items-center ml-1 md:ml-4 -mr-1" id="cart-icon-bubble"><span class="hidden">Cart</span><div class="w-8 h-8 bg-seafoam-300 rounded-full flex justify-center items-center"><span aria-hidden="true" class="leading-8 font-book text-lg">0</span><span class="hidden">0 items</span></div></a>',s=document.getElementById("cart-icon-bubble"),i=document.querySelector("cart-drawer"),n=document.getElementById("main-cart-footer"),o=document.querySelector(".cart-drawer-body"),a=document.querySelector(".cart-drawer-footer");s&&(s.outerHTML=e),o&&(o.innerHTML=t),a&&a.remove(),n&&n.classList.add("is-empty"),i&&(i.classList.add("is-empty"),g(i.querySelector(".cart-empty"),i.querySelector("a")))}).catch(t=>console.error(t))}getSectionInnerHTML(t,e=".shopify-section"){return new DOMParser().parseFromString(t,"text/html").querySelector(e).innerHTML}getSectionsToRender(){return[{id:"cart-drawer",selector:"#CartDrawer"},{id:"cart-icon-bubble",selector:"#cart-icon-bubble"},{id:"announcement-bar",selector:"#AnnouncementBar"}]}getSectionDOM(t,e=".shopify-section"){return new DOMParser().parseFromString(t,"text/html").querySelector(e)}setActiveElement(t){this.activeElement=t}}customElements.define("cart-drawer",be);class ye extends M{getSectionsToRender(){return[{id:"CartDrawer",section:"cart-drawer",selector:".cart-drawer"},{id:"cart-icon-bubble",section:"cart-icon-bubble",selector:".shopify-section"},{id:"shopify-section-announcement-bar",section:"announcement-bar",selector:".shopify-section"}]}}customElements.define("cart-drawer-items",ye);class ve extends HTMLElement{constructor(){super(),this.cachedResults={},this.input=this.querySelector("#Search-In-Modal"),this.predictiveSearchResults=this.querySelector("[data-predictive-search]"),this.isOpen=!1,this.setupEventListeners()}setupEventListeners(){this.querySelector("form.search").addEventListener("submit",this.onFormSubmit.bind(this)),this.input.addEventListener("input",S(e=>{this.onChange(e)},300).bind(this)),this.input.addEventListener("focus",this.onFocus.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.addEventListener("keyup",this.onKeyup.bind(this)),this.addEventListener("keydown",this.onKeydown.bind(this))}getQuery(){return this.input.value.trim()}onChange(){const t=this.getQuery();if(!t.length){this.close(!0);return}this.getSearchResults(t)}onFormSubmit(t){(!this.getQuery().length||this.querySelector('[aria-selected="true"] a'))&&t.preventDefault()}onFocus(){const t=this.getQuery();t.length&&(this.getAttribute("results")==="true"?this.open():this.getSearchResults(t))}onFocusOut(){setTimeout(()=>{this.contains(document.activeElement)||this.close()})}onKeyup(t){switch(this.getQuery().length||this.close(!0),t.preventDefault(),t.code){case"ArrowUp":this.switchOption("up");break;case"ArrowDown":this.switchOption("down");break;case"Enter":this.selectOption();break}}onKeydown(t){(t.code==="ArrowUp"||t.code==="ArrowDown")&&t.preventDefault()}switchOption(t){if(!this.getAttribute("open"))return;const e=t==="up",s=this.querySelector('[aria-selected="true"]'),i=this.querySelectorAll("li");let n=this.querySelector("li");if(e&&!s)return;this.statusElement.textContent="";const o=Array.from(i).findIndex(a=>a.isEqualNode(s));!e&&s?n=i[o+1]||i[0]:e&&(n=i[o-1]||i[i.length-1]),n!==s&&(n.setAttribute("aria-selected",!0),s&&s.setAttribute("aria-selected",!1),this.setLiveRegionText(n.textContent),this.input.setAttribute("aria-activedescendant",n.id))}selectOption(){const t=this.querySelector('[aria-selected="true"] a, [aria-selected="true"] button');t&&t.click()}getSearchResults(t){const e=t.replace(" ","-").toLowerCase();if(this.setLiveRegionLoadingState(),this.cachedResults[e]){this.renderSearchResults(this.cachedResults[e]);return}fetch(`${routes.predictive_search_url}?q=${encodeURIComponent(t)}&${encodeURIComponent("resources[type]")}=product,page,article,collection&${encodeURIComponent("resources[limit]")}=20&${encodeURIComponent("resources[options][fields]")}=author,body,product_type,tag,title,variants.title&section_id=predictive-search`).then(s=>{if(!s.ok){var i=new Error(s.status);throw this.close(),i}return s.text()}).then(s=>{const i=new DOMParser().parseFromString(s,"text/html").querySelector("#shopify-section-predictive-search").innerHTML;this.cachedResults[e]=i,this.renderSearchResults(i)}).catch(s=>{throw this.close(),s})}onPopularSearchClick(t){t.preventDefault();const e=t.currentTarget.getAttribute("data-term");this.input.value=e,this.input.focus(),this.onChange()}setLiveRegionLoadingState(){this.statusElement=this.statusElement||this.querySelector(".predictive-search-status"),this.loadingText=this.loadingText||this.getAttribute("data-loading-text"),this.setLiveRegionText(this.loadingText),this.setAttribute("loading",!0)}setLiveRegionText(t){this.statusElement.setAttribute("aria-hidden","false"),this.statusElement.textContent=t,setTimeout(()=>{this.statusElement.setAttribute("aria-hidden","true")},1e3)}renderSearchResults(t){this.predictiveSearchResults.innerHTML=t,this.setAttribute("results",!0),this.setLiveRegionResults(),this.open()}setLiveRegionResults(){this.removeAttribute("loading"),this.setLiveRegionText(this.querySelector("[data-predictive-search-live-region-count-value]").textContent),this.querySelectorAll(".button-popular-search").forEach(t=>t.addEventListener("click",this.onPopularSearchClick.bind(this)))}open(){this.setAttribute("open",!0),this.input.setAttribute("aria-expanded",!0),this.isOpen=!0}close(t=!1){t&&(this.input.value="",this.removeAttribute("results"));const e=this.querySelector('[aria-selected="true"]');e&&e.setAttribute("aria-selected",!1),this.input.setAttribute("aria-activedescendant",""),this.removeAttribute("open"),this.input.setAttribute("aria-expanded",!1),this.predictiveSearchResults.removeAttribute("style"),this.isOpen=!1}}customElements.define("predictive-search",ve);class Ee extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),this.mainDetailsToggle.addEventListener("focusout",this.onFocusOut.bind(this))}onFocusOut(){setTimeout(()=>{this.contains(document.activeElement)||this.close()})}close(){this.mainDetailsToggle.removeAttribute("open"),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!1)}}customElements.define("details-disclosure",Ee);class Se extends HTMLElement{constructor(){super(),this.detailsContainer=this.querySelector("details"),this.summaryToggle=this.querySelector("summary"),this.detailsContainer.addEventListener("keyup",t=>t.code.toUpperCase()==="ESCAPE"&&this.close()),this.summaryToggle.addEventListener("click",this.onSummaryClick.bind(this)),this.querySelector('button[type="button"]').addEventListener("click",this.close.bind(this))}isOpen(){return this.detailsContainer.hasAttribute("open")}onSummaryClick(t){t.preventDefault(),t.target.closest("details").hasAttribute("open")?this.close():this.open(t)}onBodyClick(t){(!this.contains(t.target)||t.target.classList.contains("modal-overlay"))&&this.close(!1)}open(t){this.onBodyClickEvent=this.onBodyClickEvent||this.onBodyClick.bind(this),t.target.closest("details").setAttribute("open",!0),document.body.addEventListener("click",this.onBodyClickEvent),document.body.classList.add("overflow-hidden"),g(this.detailsContainer.querySelector('[tabindex="-1"]'),this.detailsContainer.querySelector('input:not([type="hidden"])'))}close(t=!0){E(t?this.summaryToggle:null),this.detailsContainer.removeAttribute("open"),document.body.removeEventListener("click",this.onBodyClickEvent),document.body.classList.remove("overflow-hidden")}}customElements.define("details-modal",Se);
