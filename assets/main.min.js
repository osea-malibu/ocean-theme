var _=Object.defineProperty,B=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var A=(r,e,t)=>e in r?_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,b=(r,e)=>{for(var t in e||(e={}))P.call(e,t)&&A(r,t,e[t]);if(x)for(var t of x(e))O.call(e,t)&&A(r,t,e[t]);return r},v=(r,e)=>B(r,D(e));import{f as w,o as T,a as H,d as S,t as g,r as E,p as C}from"./utils-CcuW8BhY.js";customElements.get("product-form")||customElements.define("product-form",class extends HTMLElement{constructor(){super(),this.form=this.querySelector("form"),this.form.querySelector("[name=id]").disabled=!1,this.form.addEventListener("submit",this.onSubmitHandler.bind(this)),this.cart=document.querySelector("cart-drawer"),this.submitButton=this.querySelector('[type="submit"]'),document.querySelector("cart-drawer")&&this.submitButton.setAttribute("aria-haspopup","dialog")}getCartContents(){return fetch(window.Shopify.routes.root+"cart.js").then(e=>e.json()).then(e=>e)}addProductToCart(){var s;this.submitButton.setAttribute("aria-disabled",!0),this.submitButton.classList.add("opacity-50"),(s=this.querySelector(".loading-spinner"))==null||s.classList.remove("hidden");const e=w("javascript");e.headers["X-Requested-With"]="XMLHttpRequest",delete e.headers["Content-Type"];const t=new FormData(this.form);this.dataset.cartType!="page"&&(t.append("sections",this.cart.getSectionsToRender().map(i=>i.id)),t.append("sections_url",window.location.pathname),this.cart.setActiveElement(document.activeElement)),e.body=t,fetch(`${routes.cart_add_url}`,e).then(i=>i.json()).then(i=>{if(i.status){this.handleErrorMessage(i.description);return}if(!this.cart){window.location=window.routes.cart_url;return}this.error=!1,this.cart.renderContents(i),fetch(window.Shopify.routes.root+"cart.js").then(n=>n.json()).then(n=>{const o=document.querySelector("cart-drawer-items")||document.querySelector("cart-items");o&&typeof o.handleGiftWithPurchase=="function"?o.handleGiftWithPurchase(n):console.warn("cart-items or handleGiftWithPurchase not available")}).catch(n=>console.error("Error fetching full cart for GWP:",n))}).catch(i=>console.error(i)).finally(()=>{var i;this.submitButton.classList.remove("opacity-50"),this.cart&&this.cart.classList.contains("is-empty")&&this.cart.classList.remove("is-empty"),this.error||this.submitButton.removeAttribute("aria-disabled"),(i=this.querySelector(".loading-spinner"))==null||i.classList.add("hidden")})}onSubmitHandler(e){if(e.preventDefault(),this.submitButton.getAttribute("aria-disabled")==="true")return;this.handleErrorMessage();const t=this.form.querySelector('[name="properties[_is_subscription]"]');t&&t.value=="true"?this.getCartContents().then(s=>{if(s.items.filter(n=>n.properties._is_subscription==="true"&&n.id===parseInt(this.form.querySelector("[name=id]").value)&&n.quantity>=4).length>0){this.handleErrorMessage("You may not subscribe to more than 4 of this product.");return}else this.addProductToCart()}):this.addProductToCart()}handleErrorMessage(e=!1){this.errorMessageWrapper=this.errorMessageWrapper||this.querySelector(".product-form__error-message-wrapper"),this.errorMessageWrapper&&(this.errorMessage=this.errorMessage||this.errorMessageWrapper.querySelector(".product-form__error-message"),this.errorMessageWrapper.toggleAttribute("hidden",!e),e&&(this.errorMessage.textContent=e))}});function R(){document.querySelectorAll('[id^="Details-"] summary').forEach(r=>{r.setAttribute("aria-expanded","false"),r.nextElementSibling.getAttribute("id")&&r.setAttribute("aria-controls",r.nextElementSibling.id),r.addEventListener("click",e=>{e.currentTarget.setAttribute("aria-expanded",!e.currentTarget.closest("details").hasAttribute("open"))}),!r.closest("header-drawer")&&r.parentElement.addEventListener("keyup",e=>T(e))})}function $(){try{document.querySelector(":focus-visible")}catch(r){H()}}function V(){const r=document.querySelector("#HeaderContent"),e=document.querySelector("#HeaderScrollPixel"),t=document.getElementById("SiteNavbar");if(!e)return;new IntersectionObserver(i=>{const n=i[0];r&&(n.boundingClientRect.y<0?(r.classList.add("border-seaweed-300"),r.classList.remove("border-transparent")):(r.classList.remove("border-seaweed-300"),r.classList.add("border-transparent"))),t&&(n.boundingClientRect.y<0?(t.classList.add("-mt-7","opacity-0","pointer-events-none"),t.classList.remove("-mt-1","opacity-100")):(t.classList.remove("-mt-7","opacity-0","pointer-events-none"),t.classList.add("-mt-1","opacity-100")))}).observe(e)}function F(){const r=[].slice.call(document.querySelectorAll("video.lazy"));if(!r.length)return;let e=new IntersectionObserver((t,s)=>{t.forEach(i=>{if(i.isIntersecting){for(var n in i.target.children){var o=i.target.children[n];typeof o.tagName=="string"&&o.tagName==="SOURCE"&&(o.src=o.dataset.src)}i.target.load(),i.target.classList.remove("lazy"),s.unobserve(i.target)}})});r.forEach(t=>e.observe(t))}function N(){const r=window.location.pathname,e=new URLSearchParams(window.location.search).get("utm_source"),t=new URLSearchParams(window.location.search).get("utm_medium");["/a/loop_subscriptions/bundle/f32e72b2b9174c49afc9418fdc687742","/a/loop_subscriptions/bundle/eee9c289024140ab984c3fb75988e223","/a/loop_subscriptions/bundle/b4e1b70501be453eaeac952c14a0a778"].includes(r)&&window.location.replace("https://oseamalibu.com/collections/skincare-sets"),r==="/pages/labor-day-2024"&&e==="facebook_ad"&&t==="display"&&window.location.replace("https://oseamalibu.com/collections/body-care")}function G(){typeof window.Shopify=="undefined"&&(window.Shopify={}),Shopify.bind=function(r,e){return function(){return r.apply(e,arguments)}},Shopify.setSelectorByValue=function(r,e){for(var t=0,s=r.options.length;t<s;t++){var i=r.options[t];if(e==i.value||e==i.innerHTML)return r.selectedIndex=t,t}},Shopify.addListener=function(r,e,t){r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent("on"+e,t)},Shopify.postLink=function(r,e){e=e||{};var t=e.method||"post",s=e.parameters||{},i=document.createElement("form");i.setAttribute("method",t),i.setAttribute("action",r);for(var n in s){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",n),o.setAttribute("value",s[n]),i.appendChild(o)}document.body.appendChild(i),i.submit(),document.body.removeChild(i)},Shopify.CountryProvinceSelector=function(r,e,t){this.countryEl=document.getElementById(r),this.provinceEl=document.getElementById(e),this.provinceContainer=document.getElementById(t.hideElement||e),Shopify.addListener(this.countryEl,"change",Shopify.bind(this.countryHandler,this)),this.initCountry(),this.initProvince()},Shopify.CountryProvinceSelector.prototype={initCountry:function(){var r=this.countryEl.getAttribute("data-default");Shopify.setSelectorByValue(this.countryEl,r),this.countryHandler()},initProvince:function(){var r=this.provinceEl.getAttribute("data-default");r&&this.provinceEl.options.length>0&&Shopify.setSelectorByValue(this.provinceEl,r)},countryHandler:function(){var r=this.countryEl.options[this.countryEl.selectedIndex],e=r.getAttribute("data-provinces"),t=JSON.parse(e);if(this.clearOptions(this.provinceEl),t&&t.length==0)this.provinceContainer.style.display="none";else{for(var s=0;s<t.length;s++){var r=document.createElement("option");r.value=t[s][0],r.innerHTML=t[s][1],this.provinceEl.appendChild(r)}this.provinceContainer.style.display=""}},clearOptions:function(r){for(;r.firstChild;)r.removeChild(r.firstChild)},setOptions:function(r,e){for(var t=0,s=e.length;t<e.length;t++){var i=document.createElement("option");i.value=e[t],i.innerHTML=e[t],r.appendChild(i)}}}}R();$();V();F();N();G();class W extends HTMLElement{constructor(){super(),this.input=this.querySelector("input"),this.changeEvent=new Event("change",{bubbles:!0}),this.input.addEventListener("change",this.onInputChange.bind(this)),this.querySelectorAll("button").forEach(e=>e.addEventListener("click",this.onButtonClick.bind(this)))}onInputChange(e){const t=document.querySelector('input[value="autodeliver"]'),s=parseInt(e.currentTarget.value),i=this.querySelector('button[name="plus"]');t&&t.checked&&(this.productForm=document.querySelector("product-form.pdp-product-form"),s>4?(this.input.value=4,this.productForm.handleErrorMessage("You may not subscribe to more than 4 of this product."),setTimeout(()=>this.productForm.handleErrorMessage(),5e3),i.setAttribute("disabled","")):s==4?i.setAttribute("disabled",""):(i.disabled&&i.removeAttribute("disabled"),this.productForm.handleErrorMessage()))}onButtonClick(e){e.preventDefault();const t=this.input.value;e.target.name==="plus"?this.input.stepUp():this.input.stepDown(),t!==this.input.value&&this.input.dispatchEvent(this.changeEvent)}}customElements.define("quantity-input",W);class z extends HTMLElement{constructor(){super(),this.items=[],this.animationID=null,this.speed=parseFloat(this.getAttribute("speed"))||1,this._reducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this._positionMap=new Map,this._observer=null,this._isVisible=!1,this._boundRotate=this.rotate.bind(this),this._onVisibilityChange=this.handleVisibilityChange.bind(this)}connectedCallback(){this._originalContent=this.innerHTML,!this._reducedMotion&&(this.setup(),this.observeVisibility(),document.addEventListener("visibilitychange",this._onVisibilityChange),this._onResize=S(()=>this.refresh(),250),window.addEventListener("resize",this._onResize))}disconnectedCallback(){cancelAnimationFrame(this.animationID),window.removeEventListener("resize",this._onResize),document.removeEventListener("visibilitychange",this._onVisibilityChange),this._observer&&this._observer.disconnect()}setup(){const e=document.createElement("div");e.className="inline-block whitespace-nowrap",e.innerHTML=this._originalContent,this.innerHTML="",this.appendChild(e);const{width:t,height:s}=e.getBoundingClientRect();this._itemWidth=t+36;const i=this.getBoundingClientRect().width,n=e.innerHTML;this.removeChild(e),this.style.position="relative",this.classList.add("whitespace-nowrap","overflow-hidden"),this.items=[],this._positionMap.clear();const o=Math.ceil(i/this._itemWidth)+2;for(let a=0;a<o;a++){const c=document.createElement("div");c.innerHTML=n,c.className="absolute whitespace-nowrap will-change-transform",c.setAttribute("aria-hidden",a>0?"true":"false");const m=this._itemWidth*a;this._positionMap.set(c,m),c.style.transform=`translateX(${m}px)`,c.style.width=`${this._itemWidth}px`,c.style.height=`${s}px`,this.appendChild(c),this.items.push(c)}this.addEventListener("mouseover",this.pause.bind(this)),this.addEventListener("mouseout",this.resume.bind(this))}observeVisibility(){this._observer=new IntersectionObserver(([e])=>{this._isVisible=e.isIntersecting,this._isVisible?this.resume():this.pause()},{root:null,threshold:0}),this._observer.observe(this)}rotate(){!this._isVisible||document.hidden||!this.items.length||(this.items.forEach(e=>{let t=this._positionMap.get(e);t-=this.speed,t+this._itemWidth<0&&(t=Math.max(...Array.from(this._positionMap.values()))+this._itemWidth),this._positionMap.set(e,t),e.style.transform=`translateX(${t}px)`}),this.animationID=requestAnimationFrame(this._boundRotate))}handleVisibilityChange(){document.hidden?this.pause():this.resume()}pause(){cancelAnimationFrame(this.animationID),this.animationID=null}resume(){!this._isVisible||document.hidden||this.animationID||this.rotate()}refresh(){this.pause(),this.innerHTML=this._originalContent,this.setup(),this.observeVisibility()}}customElements.define("icon-marquee",z);class j extends HTMLElement{constructor(){super(),this.detailsElements=Array.from(this.querySelectorAll("details")),this.mediaQuery=window.matchMedia("(min-width: 640px)"),this.handleResize=this.handleResize.bind(this)}connectedCallback(){this.handleResize(),this.mediaQuery.addEventListener("change",this.handleResize)}disconnectedCallback(){this.mediaQuery.removeEventListener("change",this.handleResize)}handleResize(){const e=this.mediaQuery.matches;this.detailsElements.forEach(t=>{e?t.setAttribute("open",""):t.removeAttribute("open")})}}customElements.define("footer-accordion",j);class U extends HTMLElement{constructor(){super(),this.zipForm=this.querySelector("form"),this.zipInput=this.querySelector("#shippingzip"),this.output=this.querySelector("#transitTimeOutput"),this.dataset.collapsed!=="false"&&this.collapse(),this.zipForm.addEventListener("submit",e=>this.onZipSubmit(e))}open(){this.zipForm.classList.remove("hidden"),this.style.removeProperty("--sc-hidden"),requestAnimationFrame(()=>{var e;return(e=this.zipInput)==null?void 0:e.focus()}),this.dataset.collapsed="false"}collapse(){this.zipForm.classList.add("hidden"),this.dataset.collapsed="true"}toggle(){this.dataset.collapsed==="true"?this.open():this.collapse()}onZipSubmit(e){e.preventDefault();const{st:t,transitTime:s}=this.getStateData(this.zipInput.value),{transitionStart:i,transitionEnd:n}=this.output.dataset;this.output.innerHTML=`${t}: ${s}`,this.output.classList.remove(...i.split(" ")),this.output.classList.add(...n.split(" "))}getStateData(e){if(typeof e!="string"){console.error("Must pass the zipcode as a string.");return}if(e.length!==5){console.error("Must pass a 5-digit zipcode.");return}const t=parseInt(e,10);let s,i,n;return t>=35e3&&t<=36999?(s="AL",i="Alabama",n="5-6 days"):t>=99500&&t<=99999?(s="AK",i="Alaska",n="5-6 days"):t>=85e3&&t<=86999?(s="AZ",i="Arizona",n="2-3 days"):t>=71600&&t<=72999?(s="AR",i="Arkansas",n="4-5 days"):t>=9e4&&t<=96699?(s="CA",i="California",n="2-3 days"):t>=8e4&&t<=81999?(s="CO",i="Colorado",n="3-4 days"):t>=6e3&&t<=6389||t>=6391&&t<=6999?(s="CT",i="Connecticut",n="5-6 days"):t>=19700&&t<=19999?(s="DE",i="Delaware",n="5-6 days"):t>=32e3&&t<=34999?(s="FL",i="Florida",n="5-6 days"):t>=3e4&&t<=31999||t>=39800&&t<=39999?(s="GA",i="Georgia",n="4-5 days"):t>=96700&&t<=96999?(s="HI",i="Hawaii",n="5-6 days"):t>=83200&&t<=83999&&t!=83414?(s="ID",i="Idaho",n="3-4 days"):t>=6e4&&t<=62999?(s="IL",i="Illinois",n="5-6 days"):t>=46e3&&t<=47999?(s="IN",i="Indiana",n="5-6 days"):t>=5e4&&t<=52999?(s="IA",i="Iowa",n="4-5 days"):t>=66e3&&t<=67999?(s="KS",i="Kansas",n="4-5 days"):t>=4e4&&t<=42999?(s="KY",i="Kentucky",n="4-5 days"):t>=7e4&&t<=71599?(s="LA",i="Louisiana",n="4-5 days"):t>=3900&&t<=4999?(s="ME",i="Maine",n="5-6 days"):t>=20600&&t<=21999?(s="MD",i="Maryland",n="5-6 days"):t>=1e3&&t<=2799||t==5501||t==5544?(s="MA",i="Massachusetts",n="5-6 days"):t>=48e3&&t<=49999?(s="MI",i="Michigan",n="4-5 days"):t>=55e3&&t<=56899?(s="MN",i="Minnesota",n="4-5 days"):t>=38600&&t<=39999?(s="MS",i="Mississippi",n="4-5 days"):t>=63e3&&t<=65999?(s="MO",i="Missouri",n="4-5 days"):t>=59e3&&t<=59999?(s="MT",i="Montana",n="4-5 days"):t>=68e3&&t<=69999?(s="NE",i="Nebraska",n="4-5 days"):t>=88900&&t<=89999?(s="NV",i="Nevada",n="2-3 days"):t>=3e3&&t<=3899?(s="NH",i="New Hampshire",n="5-6 days"):t>=7e3&&t<=8999?(s="NJ",i="New Jersey",n="5-6 days"):t>=87e3&&t<=88499?(s="NM",i="New Mexico",n="3-4 days"):t>=1e4&&t<=14999||t==6390||t==501||t==544?(s="NY",i="New York",n="5-6 days"):t>=27e3&&t<=28999?(s="NC",i="North Carolina",n="4-5 days"):t>=58e3&&t<=58999?(s="ND",i="North Dakota",n="3-4 days"):t>=43e3&&t<=45999?(s="OH",i="Ohio",n="4-5 days"):t>=73e3&&t<=73199||t>=73400&&t<=74999?(s="OK",i="Oklahoma",n="3-4 days"):t>=97e3&&t<=97999?(s="OR",i="Oregon",n="3-4 days"):t>=15e3&&t<=19699?(s="PA",i="Pennsylvania",n="5-6 days"):t>=300&&t<=999?(s="PR",i="Puerto Rico",n="5-6 days"):t>=2800&&t<=2999?(s="RI",i="Rhode Island",n="5-6 days"):t>=29e3&&t<=29999?(s="SC",i="South Carolina",n="4-5 days"):t>=57e3&&t<=57999?(s="SD",i="South Dakota",n="3-4 days"):t>=37e3&&t<=38599?(s="TN",i="Tennessee",n="4-5 days"):t>=75e3&&t<=79999||t>=73301&&t<=73399||t>=88500&&t<=88599?(s="TX",i="Texas",n="3-4 days"):t>=84e3&&t<=84999?(s="UT",i="Utah",n="3-4 days"):t>=5e3&&t<=5999?(s="VT",i="Vermont",n="5-6 days"):t>=20100&&t<=20199||t>=22e3&&t<=24699||t==20598?(s="VA",i="Virginia",n="4-5 days"):t>=2e4&&t<=20099||t>=20200&&t<=20599||t>=56900&&t<=56999?(s="DC",i="Washington DC",n="4-5 days"):t>=98e3&&t<=99499?(s="WA",i="Washington",n="3-4 days"):t>=24700&&t<=26999?(s="WV",i="West Virginia",n="5-6 days"):t>=53e3&&t<=54999?(s="WI",i="Wisconsin",n="4-5 days"):t>=82e3&&t<=83199||t==83414?(s="WY",i="Wyoming",n="4-5 days"):(s="none",i="none",n="Sorry, we could not find that zipcode in our database. Please contact Customer Care for shipping times."),{st:s,state:i,transitTime:n}}}customElements.define("shipping-calculator",U);class L extends HTMLElement{static ensureCartSignalsPatched(){if(window.__oseaPatchedCartFetch)return;window.__oseaPatchedCartFetch=!0;const e=window.fetch,t=/\/cart(\.js|\/(add|update|change|clear)\.js)?(\?.*)?$/;window.fetch=async function(n,o){const a=await e(n,o);try{const c=typeof n=="string"?n:(n==null?void 0:n.url)||"",m=((o==null?void 0:o.method)||(typeof n!="string"?n==null?void 0:n.method:"")||"GET").toUpperCase();if(t.test(c)&&a.ok){const l=new CustomEvent("cart:refresh",{bubbles:!0});window.dispatchEvent(l),document.dispatchEvent(l),window.dispatchEvent(new CustomEvent("cart:updated",{bubbles:!0})),document.dispatchEvent(new CustomEvent("cart:updated",{bubbles:!0}))}}catch(c){}return a};try{window.__oseaCartBC=new BroadcastChannel("osea:cart"),window.__oseaCartBC.onmessage=i=>{if((i==null?void 0:i.type)==="cart:refresh"){const n=new CustomEvent("cart:refresh",{bubbles:!0});window.dispatchEvent(n),document.dispatchEvent(n)}}}catch(i){}const s=localStorage.setItem.bind(localStorage);localStorage.setItem=function(i,n){if(s(i,n),i==="osea.cart.bump"){const o=new CustomEvent("cart:refresh",{bubbles:!0});window.dispatchEvent(o),document.dispatchEvent(o)}}}constructor(){super(),this.textEl=this.querySelector(".shipping-countdown-text"),this.thresholdDollars=Number(this.getAttribute("threshold")||0),this.thresholdCents=Math.max(0,Math.round(this.thresholdDollars*100)),this._refreshDebounced=(e=>{let t;return()=>{clearTimeout(t),t=setTimeout(e,120)}})(()=>this.refresh()),this.refresh=this.refresh.bind(this),this._cartInflight=null,this._lastCartJson=null,L.ensureCartSignalsPatched()}connectedCallback(){var s,i;this.refresh();const e=this.querySelector(".calc-link");e&&e.addEventListener("click",n=>{n.preventDefault();const o=this.dataset.calculator||`#${e.getAttribute("aria-controls")}`,a=document.querySelector(o);a&&(a.toggle?a.toggle():a.open&&a.open())}),["cart:updated","cart:update","cart:change","cart:refresh","lineItem:added","lineItem:removed"].forEach(n=>{window.addEventListener(n,this._refreshDebounced,{passive:!0}),document.addEventListener(n,this._refreshDebounced,{passive:!0})});const t=document.querySelector("cart-drawer");t&&["cart:updated","cart:change","updated","change"].forEach(n=>t.addEventListener(n,this._refreshDebounced,{passive:!0})),document.addEventListener("shopify:section:load",this._refreshDebounced,{passive:!0}),window.__oseaCartBC&&(this._bcHandler=n=>(n==null?void 0:n.type)==="cart:refresh"&&this._refreshDebounced(),(i=(s=window.__oseaCartBC).addEventListener)==null||i.call(s,"message",this._bcHandler))}disconnectedCallback(){var t,s;["cart:updated","cart:update","cart:change","cart:refresh","lineItem:added","lineItem:removed"].forEach(i=>{window.removeEventListener(i,this._refreshDebounced),document.removeEventListener(i,this._refreshDebounced)});const e=document.querySelector("cart-drawer");e&&["cart:updated","cart:change","updated","change"].forEach(i=>e.removeEventListener(i,this._refreshDebounced)),document.removeEventListener("shopify:section:load",this._refreshDebounced),window.__oseaCartBC&&this._bcHandler&&((s=(t=window.__oseaCartBC).removeEventListener)==null||s.call(t,"message",this._bcHandler))}async getCartJson(){return this._cartInflight?this._cartInflight:(this._cartInflight=(async()=>{var s,i;const e=await fetch("/cart.js",{credentials:"same-origin",cache:"no-store"});if(!e.ok)throw new Error("Cart fetch failed");const t=await e.json();this._lastCartJson=t;try{(i=(s=window.__oseaCartBC)==null?void 0:s.postMessage)==null||i.call(s,{type:"cart:refresh"})}catch(n){}return t})().finally(()=>this._cartInflight=null),this._cartInflight)}async refresh(){if(this.thresholdCents<=0){this.setText("You get free shipping!");return}let e;try{e=await this.getCartJson()}catch(n){this.setText(`Free Shipping on Orders ${this.formatMoney(this.thresholdCents)}+`);return}const t=Number(e.total_price||0);if(Number(e.item_count||0)===0){this.setText(`Free Shipping on Orders ${this.formatMoney(this.thresholdCents)}+`);return}if(t>=this.thresholdCents){this.setText("You get free shipping!");return}const i=this.thresholdCents-t;this.setText(`Add ${this.formatMoney(i)} to bag for free shipping`)}setText(e){this.textEl?this.textEl.textContent=e:this.textContent=e}formatMoney(e){var n,o,a,c;if(window.Shopify&&typeof Shopify.formatMoney=="function"){const m=((n=window.theme)==null?void 0:n.moneyFormat)||window.moneyFormat||(((o=window.Shopify.currency)==null?void 0:o.active)==="JPY"?"${{amount_no_decimals}}":"${{amount}}");return Shopify.formatMoney(Math.round(e),m).replace(/(\.00)(?!\d)/,"")}const t=((c=(a=window.Shopify)==null?void 0:a.currency)==null?void 0:c.active)||"USD",s=e/100,i=s.toLocaleString(void 0,{style:"currency",currency:t});return Number.isInteger(s)?i.replace(/(\.00)(?!\d)/,""):i}}customElements.define("shipping-countdown",L);class J extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),navigator.platform==="iPhone"&&document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`),this.addEventListener("keyup",this.onKeyUp.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.bindEvents()}bindEvents(){this.querySelectorAll("summary").forEach(t=>t.addEventListener("click",this.onSummaryClick.bind(this))),this.querySelector(".menu-scrim").addEventListener("click",this.onSummaryClick.bind(this)),this.querySelectorAll(".submenu-close").forEach(t=>t.addEventListener("click",this.onCloseSubmenu.bind(this))),this.querySelectorAll("a, summary").forEach(t=>t.addEventListener("click",this.onNavLinkClick.bind(this)));const e=this.querySelector(".menu-close");e&&e.addEventListener("click",this.closeMenuDrawer.bind(this))}onKeyUp(e){if(e.code.toUpperCase()!=="ESCAPE")return;const t=e.target.closest("details[open]");t&&(t===this.mainDetailsToggle?this.closeMenuDrawer(e,this.mainDetailsToggle.querySelector("summary")):this.closeSubmenu(t))}onSummaryClick(e){const t=e.currentTarget,s=t.parentNode,i=s.hasAttribute("open"),n=window.matchMedia("(prefers-reduced-motion: reduce)");function o(){g(t.nextElementSibling,s.querySelector("button")),t.nextElementSibling.removeEventListener("transitionend",o)}s===this.mainDetailsToggle?(i&&e.preventDefault(),i?this.closeMenuDrawer(e,t):this.openMenuDrawer(t)):setTimeout(()=>{s.classList.add("menu-opening"),t.setAttribute("aria-expanded",!0),!n||n.matches?o():t.nextElementSibling.addEventListener("transitionend",o)},100)}onNavLinkClick(e){console.log("clicked nav link",e)}openMenuDrawer(e){setTimeout(()=>{this.mainDetailsToggle.classList.add("menu-opening")}),e.setAttribute("aria-expanded",!0),g(this.mainDetailsToggle,e),document.body.classList.add("overflow-hidden")}closeMenuDrawer(e,t=!1){e!==void 0&&(this.mainDetailsToggle.classList.remove("menu-opening"),this.mainDetailsToggle.querySelectorAll("details").forEach(s=>{s.removeAttribute("open"),s.classList.remove("menu-opening")}),document.body.classList.remove("overflow-hidden"),E(t),this.closeAnimation(this.mainDetailsToggle))}onFocusOut(e){setTimeout(()=>{this.mainDetailsToggle.hasAttribute("open")&&!this.mainDetailsToggle.contains(document.activeElement)&&this.closeMenuDrawer()})}onCloseSubmenu(e){const t=e.currentTarget.closest("details");this.closeSubmenu(t)}closeSubmenu(e){e.classList.remove("menu-opening"),e.querySelector("summary").setAttribute("aria-expanded",!1),E(),this.closeAnimation(e)}closeAnimation(e){let t;const s=i=>{t===void 0&&(t=i),i-t<400?window.requestAnimationFrame(s):(e.removeAttribute("open"),e.closest("details[open]")&&g(e.closest("details[open]"),e.querySelector("summary")))};window.requestAnimationFrame(s)}setMenuTopValue(){const e=this.querySelector(".menu-drawer"),t=this.querySelector(".menu-scrim"),s=document.querySelector("#AnnouncementBar"),i=document.querySelector("header.header"),n=s.offsetHeight+i.offsetHeight;e.style.top=`${n}px`,t.style.top=`${n}px`}}customElements.define("menu-drawer",J);class Q extends HTMLElement{constructor(){super(),this.dismissableMessage=this.querySelector("#DismissableMessage"),this.defaultMessage=this.querySelector("#DismissableDefault"),this.closeButton=this.querySelector("#DismissableClose"),this.closeButton.addEventListener("click",this.onClose.bind(this))}connectedCallback(){JSON.parse(sessionStorage.getItem("osea.announcementDismissed"))?this.useDefaultMessage():document.querySelector("menu-drawer").setMenuTopValue()}onClose(){const e=document.querySelector("#HamburgerMenu .menu-drawer"),t=document.querySelector("#HamburgerMenu .menu-scrim");e.style.removeProperty("top"),t.style.removeProperty("top"),this.useDefaultMessage(),sessionStorage.setItem("osea.announcementDismissed",!0)}useDefaultMessage(){this.dismissableMessage.classList.add("hidden"),this.closeButton.classList.add("hidden"),this.defaultMessage.classList.remove("hidden")}}customElements.define("dismissable-announcement",Q);class K extends HTMLElement{constructor(){super(),this.querySelector('[id^="ModalClose-"]').addEventListener("click",this.hide.bind(this)),this.querySelectorAll(".close-modal").forEach(e=>e.addEventListener("click",this.hide.bind(this))),this.addEventListener("keyup",e=>{e.code.toUpperCase()==="ESCAPE"&&this.hide()}),this.classList.contains("media-modal")?this.addEventListener("pointerup",e=>{e.pointerType==="mouse"&&!e.target.closest("deferred-media, product-model")&&this.hide()}):this.addEventListener("click",e=>{e.target.nodeName==="MODAL-DIALOG"&&this.hide()})}show(e){this.openedBy=e;const t=this.querySelector(".template-popup");document.body.classList.add("overflow-hidden"),this.setAttribute("open",""),t&&t.loadContent(),g(this,this.querySelector('[role="dialog"]')),C()}hide(){document.body.classList.remove("overflow-hidden"),this.removeAttribute("open"),E(this.openedBy),C()}}customElements.define("modal-dialog",K);class Y extends HTMLElement{constructor(){super();const e=this.querySelector("button")||this.querySelector('[type="button"]');e&&e.addEventListener("click",()=>{const t=document.querySelector(this.getAttribute("data-modal"));t&&t.show(e),console.log("clicked modal opener",t)})}}customElements.define("modal-opener",Y);class X extends HTMLElement{constructor(){super();const e=this.querySelector('[id^="Deferred-Poster-"]');e&&e.addEventListener("click",this.loadContent.bind(this))}loadContent(){if(C(),!this.getAttribute("loaded")){const e=document.createElement("div");e.appendChild(this.querySelector("template").content.firstElementChild.cloneNode(!0)),this.setAttribute("loaded",!0),this.appendChild(e).focus()}}}customElements.define("deferred-media",X);class q extends HTMLElement{constructor(){super(),this.addEventListener("change",()=>{this.onVariantChange()}),this.addEventListener("click",()=>{})}connectedCallback(){const e=()=>{this.updateOptions(),this.updateMasterId(),this.updateMedia(),this.handleKlaviyoBisTrigger()};document.addEventListener("DOMContentLoaded",e)}onVariantChange(){this.updateOptions(),this.updateMasterId(),this.updateIsSubscription(),this.toggleAddButton(!0,"",!1),this.removeErrorMessage(),this.resetPurchaseOption(),this.currentVariant?(this.updateMedia(),this.updateURL(),this.updateVariantInput(),this.renderProductInfo(),this.updateOptionVisibility()):(this.toggleAddButton(!0,"",!0),this.setUnavailable())}updateOptions(){this.options=Array.from(this.querySelectorAll("select"),e=>e.value)}updateMasterId(){this.currentVariant=this.getVariantData().find(e=>!e.options.map((t,s)=>this.options[s]===t).includes(!1))}updateIsSubscription(){const e=document.querySelector('input[name="properties[_is_subscription]"]');this.currentVariant&&(this.currentVariant.selling_plan_allocations.length>0?e.value=!0:e.value=!1)}resetPurchaseOption(){window.location.pathname.includes("/products/")&&document.querySelector("subscription-radios")&&(document.querySelector(".purchase-option.onetime").classList.add("bg-wave-200"),document.querySelector('input[value="onetime"]').checked=!0,document.querySelector(".purchase-option.autodeliver").classList.remove("bg-wave-200"),document.querySelector('input[value="autodeliver"]').checked=!1)}updateMedia(){if(!this.currentVariant||!this.currentVariant.featured_media)return;if(this.dataset.isMainPdp==="true"){const t=document.querySelector("#Product-VariantImage"),s=this.currentVariant.featured_image.src;t&&(t.srcset=`${s}&width=360 360w, ${s}&width=420 420w, ${s}&width=560 560w, ${s}&width=720 720w, ${s}&width=840 840w, ${s}&width=960 960w, ${s}&width=1200 1200w, ${s}&width=1600 1600w`,t.sizes="(min-width: 1280px) 58vw, (min-width: 1024px) 60vw, (min-width: 768px) 50vw, 100vw",t.src=`${s}&width=720`);const i=document.querySelector("#Product-ThumbImage"),n=this.currentVariant.featured_image.src;i&&(i.srcset=`${n}&width=192 1x, ${n}&width=252 2x`,i.src=n)}else{const t=document.getElementById(`ProductCard-DefaultImage-${this.dataset.section}`),s=this.currentVariant.featured_media.preview_image.src;t&&(t.srcset=`${s}&width=328 1x, ${s}&width=656 2x`,t.src=s)}}updateURL(){!this.currentVariant||this.dataset.updateUrl==="false"||window.history.replaceState({},"",`${this.dataset.url}?variant=${this.currentVariant.id}`)}updateVariantInput(){document.querySelectorAll(`#product-form-${this.dataset.section}, #product-form-installment`).forEach(t=>{const s=t.querySelector('input[name="id"]');s.value=this.currentVariant.id,s.dispatchEvent(new Event("change",{bubbles:!0}))})}removeErrorMessage(){const e=this.closest("section");if(!e)return;const t=e.querySelector("product-form");t&&t.handleErrorMessage()}renderProductInfo(){const{id:e}=this.currentVariant;fetch(`${this.dataset.url}?variant=${e}`).then(t=>t.text()).then(t=>{const s=new DOMParser().parseFromString(t,"text/html"),i=(n,o)=>{const a=s.querySelector(o||n),c=document.querySelector(n);a&&c&&(c.innerHTML=a.innerHTML)};i(".product .main-price"),i(".subscription .onetime .price"),i(".subscription .autodeliver .price"),i(".product .benefits"),i(`[value="${e}"]:not(.mini-card-id-input) ~ button[name="add"] .price`,".product .main-price"),i(".subscription .selling-plan-options"),this.toggleAddButton(!this.currentVariant.available,window.variantStrings.soldOut)})}updateOptionVisibility(){if(this.currentVariant&&window.location.pathname.includes("/products/")){const s=document.querySelector("subscription-radios");if(s){const l=this.currentVariant.selling_plan_allocations.map(u=>u.selling_plan_group_id);this.currentVariant.selling_plan_allocations.length>0&&l.includes(s.dataset.subscriptionGroupId)?(s.classList.add("max-h-52"),s.classList.remove("max-h-0")):(s.classList.add("max-h-0"),s.classList.remove("max-h-52"))}const i=["Fragrance free","Scented"];if(this.currentVariant.options.some(l=>i.indexOf(l)>=0)){const l=document.getElementsByName("Scent"),h=document.getElementsByName("Size"),u=document.querySelectorAll(".scent-scented"),p=document.querySelectorAll(".scent-fragrance-free");u.forEach(d=>{d.classList.toggle("hidden",l[1].checked)}),p.forEach(d=>{d.classList.toggle("hidden",l[0].checked)});var e=this.currentVariant.option2,t=this.currentVariant.option1;h.forEach(d=>d.disabled=!1),l.forEach(d=>d.disabled=!1),e==="1 fl oz"&&l.forEach(d=>{d.value==="Fragrance free"&&(d.disabled=!0)}),t==="Fragrance free"&&h.forEach(d=>{d.value==="1 fl oz"&&(d.disabled=!0)})}const o=this.dataset.miniSizes.split(","),a=this.currentVariant.title.replace("fl oz","oz"),c=o.includes(a);document.querySelectorAll(".size-mini").forEach(l=>{l.classList.toggle("hidden",!c)})}}toggleAddButton(e=!0,t,s=!0){const i=document.getElementById(`product-form-${this.dataset.section}`);if(!i)return;const n=i.querySelector('[name="add"]'),o=i.querySelector('[name="add"] > .label'),a=document.querySelector(".klaviyo-bis-trigger");n&&(e?(n.setAttribute("disabled","disabled"),t&&(o.textContent=t),a&&(n.classList.add("mb-[50px]"),a.classList.add("block"),a.classList.remove("hidden"))):(n.removeAttribute("disabled"),t&&(o.textContent=window.variantStrings.addToCart),a&&(n.classList.remove("mb-[50px]"),a.classList.add("hidden"),a.classList.remove("block"))))}setUnavailable(){const e=document.getElementById(`product-form-${this.dataset.section}`),t=e.querySelector('[name="add"]'),s=e.querySelector('[name="add"] > span'),i=document.getElementById(`price-${this.dataset.section}`);t&&(s.textContent=window.variantStrings.unavailable,i&&i.classList.add("invisible"))}handleKlaviyoBisTrigger(){if(!this.getVariantData().map(a=>a.available).includes(!1))return;const i=20;let n=0;const o=()=>{const a=document.querySelector(".klaviyo-bis-trigger");a?(console.log("bisTrigger",a),this.currentVariant.available&&a.classList.add("hidden")):n<i?(n++,setTimeout(o,200)):console.warn("BIS trigger not found after max retries")};o()}getVariantData(){return this.variantData=this.variantData||JSON.parse(this.querySelector('[type="application/json"].variant-data').textContent),this.variantData}}customElements.define("variant-selects",q);class Z extends q{constructor(){super()}updateOptions(){const e=Array.from(this.querySelectorAll("fieldset"));this.options=e.map(t=>Array.from(t.querySelectorAll("input")).find(s=>s.checked).value)}}customElements.define("variant-radios",Z);class ee extends HTMLElement{constructor(){super(),this.isSubscriptionInput=document.querySelector('input[name="properties[_is_subscription]"]'),this.purchaseOptionInputs=Array.from(this.querySelectorAll('input[name="purchase_option"]'));const t=new URLSearchParams(window.location.search).get("type");this.purchaseOptionInputs.forEach(s=>{var n;if((t==="subscription"||document.referrer.includes("/pages/subscribe"))&&s.value==="autodeliver"){s.checked=!0,this.setActiveState(),this.updateMainPrice(s),this.setDefaultSellingPlan();const o=document.querySelector('input[name="properties[_is_subscription]"]');o.value=!0,(n=document.querySelector("#PayInstallments"))==null||n.classList.add("opacity-0")}s.addEventListener("change",this.onPurchaseOptionChange.bind(this))})}onPurchaseOptionChange(e){var i,n;const{value:t,checked:s}=e.currentTarget;if(s){this.setActiveState(),this.updateMainPrice(e.currentTarget);const o=document.querySelector('.pdp-quantity button[name="plus"]');if(t==="onetime")this.clearSellingPlanValues(),this.isSubscriptionInput.value=!1,this.productForm=document.querySelector("product-form.pdp-product-form"),(i=document.querySelector("#PayInstallments"))==null||i.classList.remove("opacity-0"),o&&o.disabled&&o.removeAttribute("disabled"),this.productForm.handleErrorMessage();else if(t==="autodeliver"){this.setDefaultSellingPlan(),this.isSubscriptionInput.value=!0,(n=document.querySelector("#PayInstallments"))==null||n.classList.add("opacity-0");const a=document.querySelector(".pdp-quantity input");if(a){const c=parseInt(a.value);c>4?(a.value=4,o.setAttribute("disabled","")):c==4&&o.setAttribute("disabled","")}}}}setActiveState(){var e;(e=this.purchaseOptionInputs)==null||e.forEach(t=>{t.closest(".purchase-option").classList.toggle(this.dataset.selectedColor||"bg-wave-200",t.checked),t.closest(".purchase-option").classList.toggle("bg-white",!t.checked)})}updateMainPrice(e){const t=e.closest(".purchase-option").querySelector(".price"),s=document.querySelector(".main-price.price");s.innerHTML=t.innerHTML}clearSellingPlanValues(){var e;(e=Array.from(this.querySelectorAll('input[name="selling_plan"]')))==null||e.forEach(t=>t.checked=!1)}setDefaultSellingPlan(){const e=this.dataset.recommendedInterval||2,t=Array.from(this.querySelectorAll('input[name="selling_plan"]'))[e-1];t.checked=!0}}customElements.define("subscription-radios",ee);class te extends HTMLElement{constructor(){super(),this.syncQueued=!1,this.scheduleSync=this.scheduleSync.bind(this),this.atcObserver=null,this.proxyObserver=null,this.pendingClickObserver=null,this.pendingClickTimeout=null}connectedCallback(){this.sectionEl=this.closest("section"),this.primaryProxyGroup=this.querySelector('[data-sticky-proxy-group="primary"]'),this.vendorProxyGroup=this.querySelector('[data-sticky-proxy-group="vendor"]'),this.primaryProxyButton=this.querySelector('[data-sticky-proxy-target="add"]'),this.bindProxyHandlers(),this.observeAtcVisibility(),this.setupProxyObservers(),this.syncProxyState()}disconnectedCallback(){var e,t;(e=this.atcObserver)==null||e.disconnect(),(t=this.proxyObserver)==null||t.disconnect(),document.removeEventListener("change",this.scheduleSync,!0),window.removeEventListener("load",this.scheduleSync),this.clearPendingClickWait()}observeAtcVisibility(){const e=document.querySelector(".product-form.pdp-product-form");e&&(this.atcObserver=new IntersectionObserver(([t])=>{const s=document.documentElement;t.intersectionRatio<=0?(s.style.setProperty("--sticky-atc-height",`${this.offsetHeight}px`),this.classList.remove("invisible","opacity-0")):(s.style.setProperty("--sticky-atc-height","0px"),this.classList.add("invisible","opacity-0"))}),this.atcObserver.observe(e))}bindProxyHandlers(){this.querySelectorAll("[data-sticky-proxy-target]").forEach(e=>{e.dataset.proxyBound!=="true"&&(e.dataset.proxyBound="true",e.addEventListener("click",t=>{t.preventDefault();const s=e.dataset.stickyProxyTarget;if(s==="add"){this.forwardToAddButton();return}if(s==="klaviyo"){this.waitForAndClick(()=>this.findKlaviyoButton(),{timeoutMs:1e4});return}s==="postscript"&&this.waitForAndClick(()=>document.getElementById("ps-bis-widget__button"),{timeoutMs:1e4})}))})}setupProxyObservers(){this.refreshSourceReferences(),this.sourceButtonsContainer&&(this.proxyObserver=new MutationObserver(this.scheduleSync),this.proxyObserver.observe(this.sourceButtonsContainer,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","disabled","aria-disabled"]})),document.addEventListener("change",this.scheduleSync,!0),window.addEventListener("load",this.scheduleSync)}scheduleSync(){this.syncQueued||(this.syncQueued=!0,requestAnimationFrame(()=>{this.syncQueued=!1,this.syncProxyState()}))}refreshSourceReferences(){var t,s;const e=(t=this.sectionEl)==null?void 0:t.querySelector(".product-form.pdp-product-form .product-form__buttons");this.sourceButtonsContainer=e||document.querySelector(".product-form.pdp-product-form .product-form__buttons"),this.sourceAddButton=(s=this.sourceButtonsContainer)==null?void 0:s.querySelector('button[name="add"], button[type="submit"][name="add"]')}syncProxyState(){var e,t;if(this.refreshSourceReferences(),!(!this.primaryProxyButton||!this.primaryProxyGroup||!this.vendorProxyGroup)&&this.sourceAddButton){this.primaryProxyButton.className!==this.sourceAddButton.className&&(this.primaryProxyButton.className=this.sourceAddButton.className);const s=this.sourceAddButton.querySelector(".label")||this.sourceAddButton.querySelector("span"),i=this.primaryProxyButton.querySelector(".label")||this.primaryProxyButton.querySelector("span");if(s&&i){const m=((e=s.textContent)==null?void 0:e.trim())||"";((t=i.textContent)==null?void 0:t.trim())!==m&&(i.textContent=m)}const n=this.sourceAddButton.hasAttribute("disabled")||this.sourceAddButton.getAttribute("aria-disabled")==="true";n?this.primaryProxyButton.setAttribute("disabled","disabled"):this.primaryProxyButton.removeAttribute("disabled");const o=this.sourceAddButton.getAttribute("aria-disabled");o!==null?this.primaryProxyButton.setAttribute("aria-disabled",o):this.primaryProxyButton.removeAttribute("aria-disabled");const a=this.hasVendorButtons(),c=n&&a;this.primaryProxyGroup.classList.toggle("hidden",c),this.vendorProxyGroup.classList.toggle("hidden",!c)}}forwardToAddButton(){this.refreshSourceReferences(),!(!this.sourceAddButton||this.sourceAddButton.hasAttribute("disabled")||this.sourceAddButton.getAttribute("aria-disabled")==="true")&&this.sourceAddButton.click()}hasVendorButtons(){return!!(this.findKlaviyoButton()||document.getElementById("ps-bis-widget__button"))}findKlaviyoButton(){var t;const e=['#klaviyo-bis-button-container button[type="button"]','#klaviyo-bis-button-container [data-a11y-identifier^="bis-button-"] button[type="button"]','[data-a11y-identifier^="bis-button-"] button[type="button"]'];for(const s of e){const i=(t=this.sectionEl)==null?void 0:t.querySelector(s);if(i)return i;const n=document.querySelector(s);if(n)return n}return null}clearPendingClickWait(){this.pendingClickObserver&&(this.pendingClickObserver.disconnect(),this.pendingClickObserver=null),this.pendingClickTimeout&&(clearTimeout(this.pendingClickTimeout),this.pendingClickTimeout=null)}waitForAndClick(e,{timeoutMs:t=1e4}={}){const s=()=>{const i=e();return!i||i.disabled||i.getAttribute("aria-disabled")==="true"?!1:(i.click(),!0)};s()||(this.clearPendingClickWait(),this.pendingClickObserver=new MutationObserver(()=>{s()&&this.clearPendingClickWait()}),this.pendingClickObserver.observe(document.body,{childList:!0,subtree:!0}),this.pendingClickTimeout=setTimeout(()=>this.clearPendingClickWait(),t))}}customElements.define("product-sticky-atc",te);class se extends HTMLElement{constructor(){super(),this.tablist=this.querySelector("[role=tablist]"),this.tabs=this.querySelectorAll("[role=tab]"),this.tabpanels=this.querySelectorAll("[role=tabpanel]"),this.activeTab=this.querySelector("[role=tab][aria-selected=true]"),this.addEventListeners(),this.checkUrlParameters()}addEventListeners(){for(let e of this.tabs)e.addEventListener("click",t=>{t.preventDefault(),this.setActiveTab(e.getAttribute("aria-controls"))}),e.addEventListener("keyup",t=>{(t.keyCode==13||t.keyCode==32)&&(t.preventDefault(),this.setActiveTab(e.getAttribute("aria-controls")))});this.tablist.addEventListener("keyup",e=>{switch(e.keyCode){case 35:e.preventDefault(),this.setActiveTab(this.tabs[this.tabs.length-1].getAttribute("aria-controls"));break;case 36:e.preventDefault(),this.setActiveTab(this.tabs[0].getAttribute("aria-controls"));break;case 37:case 38:e.preventDefault();let t=[...this.tabs].indexOf(this.activeTab)-1;t=t>=0?t:this.tabs.length-1,this.setActiveTab(this.tabs[t].getAttribute("aria-controls"));break;case 39:case 40:e.preventDefault();let s=[...this.tabs].indexOf(this.activeTab)+1;s=s<this.tabs.length?s:0,this.setActiveTab(this.tabs[s].getAttribute("aria-controls"));break}})}setActiveTab(e,t=!1){var i;const s=((i=this.dataset.activeClass)==null?void 0:i.split(" "))||["bg-wave-200"];for(let n of this.tabs)n.getAttribute("aria-controls")==e?(n.setAttribute("aria-selected","true"),s.forEach(o=>n.classList.add(o)),!t&&n.focus(),this.activeTab=n):(n.setAttribute("aria-selected","false"),s.forEach(o=>n.classList.remove(o)));for(let n of this.tabpanels)n.getAttribute("id")==e?n.getAttribute("aria-expanded")==="true"?!t&&n.focus():n.setAttribute("aria-expanded","true"):n.setAttribute("aria-expanded","false")}checkUrlParameters(){const e=new Proxy(new URLSearchParams(window.location.search),{get:(i,n)=>i.get(n)});let{tab:t,question:s}=e;if(t&&(this.setActiveTab(`tab-${t}`,!0),s)){const i=this.querySelector(`#tab-${t} ul.accordion li:nth-child(${s}) details`);i&&(i.setAttribute("open",""),setTimeout(()=>i.scrollIntoView({block:"start"}),1e3))}}}customElements.define("tab-controller",se);class ie extends HTMLElement{constructor(){super(),this.scrollBox=this.querySelector(".scroll-box"),this.navNext=this.querySelector("nav .next"),this.navPrev=this.querySelector("nav .prev"),this.items=Array.from(this.scrollBox.querySelectorAll(".snap-start")),this.items.length===0&&(this.items=Array.from(this.scrollBox.children)),this.handleShowNav=this.handleShowNav.bind(this),this.addEventListeners(),this.handleShowNav()}addEventListeners(){var e,t;this.scrollBox&&this.scrollBox.getBoundingClientRect().width<this.scrollBox.scrollWidth&&this.items.length>1&&((e=this.navNext)==null||e.addEventListener("click",()=>this.scrollToSnap("next")),(t=this.navPrev)==null||t.addEventListener("click",()=>this.scrollToSnap("prev")),this.scrollBox.addEventListener("scroll",this.handleShowNav),window.addEventListener("resize",this.handleShowNav))}get scrollPadStart(){const e=getComputedStyle(this.scrollBox),t=e.scrollPaddingInlineStart||e.scrollPaddingLeft||"0",s=parseFloat(t);return isNaN(s)?0:s}getCurrentIndex(){const e=this.scrollBox.scrollLeft+this.scrollPadStart;let t=0;for(let s=0;s<this.items.length&&this.items[s].offsetLeft<=e+1;s++)t=s;return t}scrollToIndex(e){e=Math.max(0,Math.min(this.items.length-1,e));const t=this.items[e].offsetLeft-this.scrollPadStart;this.scrollBox.scrollTo({left:t,behavior:"smooth"})}scrollToSnap(e){const t=this.getCurrentIndex(),s=e==="next"?t+1:t-1;this.scrollToIndex(s)}handleShowNav(){var i,n;const t=this.scrollBox.scrollLeft<=1,s=this.scrollBox.scrollLeft>=this.scrollBox.scrollWidth-this.scrollBox.getBoundingClientRect().width-1;(i=this.navPrev)==null||i.classList.toggle("nav-hide",t),(n=this.navNext)==null||n.classList.toggle("nav-hide",s)}}customElements.define("horizontal-scroll-box",ie);class ne extends HTMLElement{static get observedAttributes(){return["data-collapsed-height","data-collapsed-lines"]}constructor(){if(super(),this.content=this.querySelector("[data-content]"),this.btnMore=this.querySelector("[data-expand]"),this.btnLess=this.querySelector("[data-collapse]"),this.open=!1,!this.content){const t=document.createElement("div");for(t.setAttribute("data-content",""),t.className="leading-6";this.firstChild;)t.appendChild(this.firstChild);this.appendChild(t),this.content=t}this.btnMore||(this.btnMore=document.createElement("button"),this.btnMore.type="button",this.btnMore.dataset.expand="",this.btnMore.className="text-xs link mt-1 block",this.btnMore.textContent="Read more",this.appendChild(this.btnMore)),this.btnLess||(this.btnLess=document.createElement("button"),this.btnLess.type="button",this.btnLess.dataset.collapse="",this.btnLess.className="text-xs link mt-1 hidden",this.btnLess.textContent="Read less",this.appendChild(this.btnLess));const e=this.transitionMs;this.content.style.transition=`max-height ${e}ms ease`,this.content.style.overflow="hidden",this.handleAssess=this.assess.bind(this),this.handleOpen=this.expand.bind(this),this.handleClose=this.collapse.bind(this),this.ro=new ResizeObserver(this.handleAssess),this.mo=new MutationObserver(this.handleAssess)}connectedCallback(){this.content.id||(this.content.id=`exp-${Math.random().toString(36).slice(2)}`),this.btnMore.setAttribute("aria-controls",this.content.id),this.btnLess.setAttribute("aria-controls",this.content.id),this.btnMore.setAttribute("aria-expanded","false"),this.btnLess.setAttribute("aria-expanded","false"),this.content.setAttribute("role","region"),this.content.setAttribute("aria-hidden","true"),this.btnMore.addEventListener("click",this.handleOpen),this.btnLess.addEventListener("click",this.handleClose),window.addEventListener("resize",this.handleAssess),this.ro.observe(this.content),this.mo.observe(this.content,{childList:!0,subtree:!0,characterData:!0}),this.collapse({silent:!0}),document.readyState==="complete"?this.assess():window.addEventListener("load",this.handleAssess,{once:!0})}disconnectedCallback(){this.btnMore.removeEventListener("click",this.handleOpen),this.btnLess.removeEventListener("click",this.handleClose),window.removeEventListener("resize",this.handleAssess),this.ro.disconnect(),this.mo.disconnect()}attributeChangedCallback(){this.open||this.applyCollapsedHeight(),this.assess()}get transitionMs(){const e=parseInt(this.dataset.transitionMs||"400",10);return isNaN(e)?400:e}get collapsedHeightPx(){const e=parseInt(this.dataset.collapsedLines||"",10);if(!isNaN(e)){const s=parseFloat(getComputedStyle(this.content).lineHeight);if(!isNaN(s)&&s>0)return Math.round(s*e)}const t=parseInt(this.dataset.collapsedHeight||"",10);return isNaN(t)?40:t}applyCollapsedHeight(){this.content.style.maxHeight=`${this.collapsedHeightPx}px`,this.content.style.overflow="hidden"}assess(){const e=this.content.scrollHeight,t=e>this.collapsedHeightPx+1;this.btnMore.classList.toggle("hidden",!t||this.open),this.btnLess.classList.toggle("hidden",!t||!this.open),t?this.open?(this.content.style.maxHeight=`${e}px`,this.content.style.overflow="visible"):this.applyCollapsedHeight():(this.content.style.maxHeight="none",this.content.style.overflow="visible",this.btnMore.setAttribute("aria-expanded","false"),this.btnLess.setAttribute("aria-expanded","false"),this.content.setAttribute("aria-hidden","false"),this.open=!0)}expand(){this.open=!0;const e=this.content.scrollHeight;this.content.style.maxHeight=`${e}px`,this.content.style.overflow="visible",this.btnMore.classList.add("hidden"),this.btnLess.classList.remove("hidden"),this.btnMore.setAttribute("aria-expanded","true"),this.btnLess.setAttribute("aria-expanded","true"),this.content.setAttribute("aria-hidden","false")}collapse({silent:e=!1}={}){this.open=!1,this.applyCollapsedHeight(),this.btnMore.classList.remove("hidden"),this.btnLess.classList.add("hidden"),this.btnMore.setAttribute("aria-expanded","false"),this.btnLess.setAttribute("aria-expanded","false"),this.content.setAttribute("aria-hidden","true"),e||this.getBoundingClientRect().top<0&&this.scrollIntoView({behavior:"smooth",block:"start"})}}customElements.define("expandable-section",ne);class re extends HTMLElement{constructor(){super(),this.id=this.getAttribute("id"),this.options={},this.twBreakpoints=JSON.parse('{"2xs":412,"xs":472,"sm":640,"md":768,"lg":1024,"xl":1280,"2xl":1536}');const{breakpointLimit:e}=this.dataset,t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);if(e==="none")this.initSlider();else if(t<=this.twBreakpoints[e])this.initSlider();else{this.classList.remove("glide"),this.classList.add("relative");const s=this.querySelector(".glide__track"),i=this.querySelector(".glide__slides");s.classList.forEach(n=>{n!=="glide__track"&&i.classList.add(n)}),s.replaceWith(...s.childNodes)}}getPath(e){return e?this.options.breakpoints[e]:this.options}addOtherPeek(e,t){var n;const s=["before","after"].filter(o=>o!==e)[0],i=this.getPath(t);return(n=i==null?void 0:i.peek)!=null&&n[s]?{}:{[s]:0}}parseValue(e){let t;return isNaN(e)?t=["true","false"].includes(e)?e==="true":e:t=parseInt(e),t}buildOptionObject(e,t,s,i){return{[e]:s?b(v(b({},[this.getPath(i)][e]),{[t]:this.parseValue(s)}),e==="peek"&&this.addOtherPeek(t,i)):this.parseValue(t)}}getOptions(e){e.forEach(t=>{var i;const s=t.split(/[\:\.\-]/);if(t.includes(":")){const n=this.twBreakpoints[s[0]];this.options.breakpoints||(this.options.breakpoints={}),this.options.breakpoints[n]=b(b({},(i=this.options.breakpoints)==null?void 0:i[n]),this.buildOptionObject(s[1],s[2],s[3],n))}else this.options=b(b({},this.options),this.buildOptionObject(s[0],s[1],s[2]))})}toggleSlideInert(e,t){if("inert"in e){e.inert=t;return}const s=["a[href]","button","input","select","textarea","[tabindex]"].join(", ");e.querySelectorAll(s).forEach(i=>{var n;t?(i.dataset.prevTabindex==null&&(i.dataset.prevTabindex=(n=i.getAttribute("tabindex"))!=null?n:""),i.setAttribute("tabindex","-1")):i.dataset.prevTabindex!=null&&(i.dataset.prevTabindex===""?i.removeAttribute("tabindex"):i.setAttribute("tabindex",i.dataset.prevTabindex),delete i.dataset.prevTabindex)})}updateGlideStatusText(e,t){const s=this.querySelector("[data-glide-status]");if(!s)return;const i=s.dataset.ofText||"of";s.textContent=`${e} ${i} ${t}`}updateGlideSlideA11y(){if(this.dataset.srActiveSlideOnly!=="true")return;const e=Array.from(this.querySelectorAll(".glide__slide:not(.glide__slide--clone)"));if(!e.length)return;const t=this.querySelector(".glide__slide--active:not(.glide__slide--clone)")||e[0];e.forEach((s,i)=>{const n=s===t;s.setAttribute("aria-hidden",n?"false":"true"),this.toggleSlideInert(s,!n),n&&this.updateGlideStatusText(i+1,e.length)})}initSlider(){const e=Array.from(this.classList);if(e.length>0){const t=["perView","peek","focusAt","type","bound","gap","autoplay"],s=e.filter(i=>t.some(n=>i.includes(n)));s.length>0&&this.getOptions(s)}this.glide=new Glide(`#${this.id}`,this.options),this.glide.mount(),this.updateGlideSlideA11y(),this.glide.on(["mount.after","run.after"],()=>{this.updateGlideSlideA11y()})}}customElements.define("glide-slider",re);class oe extends HTMLElement{constructor(){super(),this.cart=document.querySelector("cart-drawer");const{productId:e}=this.dataset;new Proxy(new URLSearchParams(window.location.search),{get:(i,n)=>i.get(n)}).gwp===e&&this.checkGiftQualifiers()}checkGiftQualifiers(){const{threshold:e,variantId:t}=this.dataset;fetch(window.Shopify.routes.root+"cart.js").then(s=>s.json()).then(s=>{s.items.map(i=>i.id).includes(t)||(Number(e)===0?this.cart.addFreeGift([t]):Number(e)>0&&(localStorage.getItem("osea.gwpUrlVariantId")!==t&&(document.getElementById("GwpUrlModal").show(),localStorage.setItem("osea.gwpUrlVariantId",t)),s.total_price>=e&&this.cart.addFreeGift([t])))}).catch(s=>console.error(s))}}customElements.define("gift-with-purchase-url",oe);class ae extends HTMLElement{constructor(){super(),this.updateTimer()}updateTimer(){setInterval(()=>{const e=this.dataset.date.split("/"),t=[e[2],e[0],e[1]],n=new Date(`${t.join("-")}T${this.dataset.time}:00-07:00`)-new Date,o=Math.floor(n/(1e3*60*60*24)),a=Math.floor(n/(1e3*60*60)),c=Math.floor(n/(1e3*60)),m=Math.floor(n/1e3);this.querySelector(".countdown-days").textContent=o,this.querySelector(".countdown-hours").textContent=a-o*24,this.querySelector(".countdown-minutes").textContent=c-a*60,this.querySelector(".countdown-seconds").textContent=m-c*60},1e3)}}customElements.define("countdown-component",ae);class ce extends HTMLElement{constructor(){super(),this.addEventListener("change",this.onInputChange)}onInputChange(e){document.querySelector(`product-form.pdp-product-form #sktc${e.target.id}`).value=e.target.value}}customElements.define("gift-card-fields",ce);class le extends HTMLElement{constructor(){super(),this.querySelectorAll("a").forEach(e=>e.addEventListener("click",()=>this.onAnchorClick(e)))}onAnchorClick(e){document.querySelectorAll("details.subcollection").forEach(t=>{t.id===e.getAttribute("href").substring(1)?t.setAttribute("open",""):t.removeAttribute("open")})}}customElements.define("collection-anchors",le);class de{constructor(e){this.el=e,this.summary=e.querySelector("summary"),this.content=e.querySelector(".content"),this.duration=parseInt(e.dataset.duration),this.animation=null,this.isCollapsing=!1,this.isExpanding=!1,this.summary.addEventListener("click",t=>this.onClick(t))}onClick(e){e.preventDefault(),this.el.style.overflow="hidden",this.isCollapsing||!this.el.open?this.open():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isCollapsing=!0;const e=`${this.el.offsetHeight}px`,t=`${this.summary.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[e,t]},{duration:this.duration,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isCollapsing=!1}open(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame(()=>this.expand())}expand(){this.isExpanding=!0;const e=`${this.el.offsetHeight}px`,t=`${this.summary.offsetHeight+this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[e,t]},{duration:this.duration,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(e){this.el.open=e,this.animation=null,this.isCollapsing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}document.querySelectorAll("details.accordion").forEach(r=>{new de(r)});class he extends HTMLElement{constructor(){super(),this.button=this.querySelector(".button"),this.button.addEventListener("click",e=>{e.preventDefault(),(this.closest("cart-items")||this.closest("cart-drawer-items")).updateCartItem(this.dataset.index,0,e.target.name)})}}customElements.define("cart-remove-button",he);class I extends HTMLElement{constructor(){super(),this.cart=document.querySelector("cart-drawer"),this.lineItemStatusElement=document.getElementById("shopping-cart-line-item-status")||document.getElementById("CartDrawer-LineItemStatus"),this.currentItemCount=Array.from(this.querySelectorAll('[name="updates[]"]')).reduce((e,t)=>e+parseInt(t.value),0),this.debouncedOnChange=S(e=>{this.onChange(e)},300),this.addEventListener("change",this.debouncedOnChange.bind(this)),document.addEventListener("rivo-accounts:shopify:login",this.onCustomerLogin.bind(this)),window.location.pathname==="/cart"&&fetch(window.Shopify.routes.root+"cart.js").then(e=>e.json()).then(e=>{console.log("running handleGiftWithPurchase"),this.handleGiftWithPurchase(e)})}onChange(e){this.updateCartItem(e.target.dataset.index,e.target.value,e.target.getAttribute("name"),e.target)}updateCatchCalloutPrice(e){const t=document.querySelector("#catch-callout-cart");t&&e&&t.setAttribute("price",e)}getSectionsToRender(){return[{id:"main-cart-items",section:document.getElementById("main-cart-items").dataset.id,selector:".js-contents"},{id:"cart-icon-bubble",section:"cart-icon-bubble",selector:".shopify-section"},{id:"cart-live-region-text",section:"cart-live-region-text",selector:".shopify-section"},{id:"main-cart-footer",section:document.getElementById("main-cart-footer").dataset.id,selector:".js-contents"},{id:"shopify-section-announcement-bar",section:"announcement-bar",selector:".shopify-section"}]}handleGiftWithPurchase(e){const t=window.customerLoggedIn,{enabled:s}=window.gwpSettings;if(!s)return;const{loyaltyOnly:i,productQualifierEnabled:n,productQualifierId:o,tiers:a,type:c}=window.gwpSettings,m=e.items.map(p=>p.product_id);if(i&&!t)return;const l=n&&!m.includes(parseInt(o));let h=[],u=[];if(a.forEach(p=>{var f;if(!p.product)return;const d=parseInt(p.product);if(m.includes(d)&&(e.total_price<p.threshold||l)){const k=m.findIndex(M=>M===d)+1;u.push(k)}l||(c==="auto"&&!m.includes(d)&&e.total_price>=p.threshold&&h.push(p.variant),c==="url"&&localStorage.getItem("osea.gwpUrlVariantId")===p.variant&&((f=document.querySelector("gift-with-purchase-url"))==null||f.checkGiftQualifiers()))}),u.length>0){u.sort((d,y)=>y-d);const p=d=>new Promise(y=>setTimeout(y,d));u.reduce((d,y)=>d.then(()=>this.removeGift(y)).then(()=>p(400)),Promise.resolve())}h.length>0&&this.cart.addFreeGift(h)}onCustomerLogin(){window.customerLoggedIn=!0,fetch(window.Shopify.routes.root+"cart.js").then(e=>e.json()).then(e=>{this.handleGiftWithPurchase(e)})}updateCartItem(e,t,s,i){var m;const n=document.getElementById(`CartSubscribeCheckbox-${e}`);if(n&&n.checked&&s==="updates[]"&&t>4){const l=document.getElementById(`Quantity-${e}`)||document.getElementById(`Drawer-quantity-${e}`),h=document.getElementById("cart-errors")||document.getElementById("CartDrawer-CartErrors");l.value=4,h.textContent="You may not subscribe to more than 4 of this product.",setTimeout(()=>h.textContent="",5e3);return}this.enableLoading(e),window.gwpSettings.enabled&&window.gwpSettings.type==="banner"&&((m=document.getElementById("GwpButton"))==null||m.remove());let o=null,a=null;s==="subscribe"?i.checked?(o=i.dataset.default,a={_is_subscription:"true"}):a={_is_subscription:"false"}:s==="selling_plan"&&(o=t);const c=JSON.stringify(b(b(b({line:e,sections:this.getSectionsToRender().map(l=>l.section),sections_url:window.location.pathname},!["subscribe","selling_plan"].includes(s)&&{quantity:t}),["subscribe","selling_plan"].includes(s)&&{selling_plan:o}),a&&{properties:a}));fetch(`${routes.cart_change_url}`,v(b({},w()),{body:c})).then(l=>l.text()).then(l=>{var y;const h=JSON.parse(l);((y=h==null?void 0:h.items)==null?void 0:y.filter(f=>f.product_type!=="Sample").length)===0&&this.cart.clearCart(),this.handleGiftWithPurchase(h),this.updateCatchCalloutPrice(h.total_price),this.classList.toggle("is-empty",h.item_count===0);const u=document.querySelector("cart-drawer"),p=document.getElementById("main-cart-footer");p&&p.classList.toggle("is-empty",h.item_count===0),u&&u.classList.toggle("is-empty",h.item_count===0),this.replaceSections(h),this.updateLiveRegions(e,h.item_count);const d=document.getElementById(`CartItem-${e}`)||document.getElementById(`CartDrawer-Item-${e}`);d&&d.querySelector(`[name="${s}"]`)?u?g(u,d.querySelector(`[name="${s}"]`)):d.querySelector(`[name="${s}"]`).focus():h.item_count===0&&u?g(u.querySelector(".cart-empty"),u.querySelector("a")):document.querySelector(".cart-item")&&u&&g(u,document.querySelector(".cart-item__name")),this.disableLoading()}).catch(l=>{console.error(l),this.querySelectorAll(".loading-spinner").forEach(u=>u.classList.add("hidden"));const h=document.getElementById("cart-errors")||document.getElementById("CartDrawer-CartErrors");h&&(h.textContent=window.cartStrings.error),this.disableLoading()})}replaceSections(e){e.sections?this.getSectionsToRender().forEach(t=>{const s=document.getElementById(t.id).querySelector(t.selector)||document.getElementById(t.id);s.innerHTML=this.getSectionInnerHTML(e.sections[t.section],t.selector)}):fetch(`${window.Shopify.routes.root}?sections=${this.getSectionsToRender().map(t=>t.section)}`).then(t=>t.json()).then(t=>{e.sections=t,this.getSectionsToRender().forEach(s=>{const i=document.getElementById(s.id).querySelector(s.selector)||document.getElementById(s.id);i.innerHTML=this.getSectionInnerHTML(e.sections[s.section],s.selector)})}).catch(t=>console.error(t)),bootstrapCartProductsSection()}removeGift(e){const t=JSON.stringify({line:e,quantity:0});fetch(`${routes.cart_change_url}`,v(b({},w()),{body:t})).then(s=>s.text()).then(s=>{const i=JSON.parse(s);this.replaceSections(i)}).catch(s=>console.error(s))}updateLiveRegions(e,t){if(this.currentItemCount===t){const i=document.getElementById(`Line-item-error-${e}`)||document.getElementById(`CartDrawer-LineItemError-${e}`),n=document.getElementById(`Quantity-${e}`)||document.getElementById(`Drawer-quantity-${e}`);if(!n)return;i.querySelector(".cart-item__error-text").innerHTML=window.cartStrings.quantityError.replace("[quantity]",n.value)}this.currentItemCount=t,this.lineItemStatusElement.setAttribute("aria-hidden",!0);const s=document.getElementById("cart-live-region-text")||document.getElementById("CartDrawer-LiveRegionText");s&&(s.setAttribute("aria-hidden",!1),setTimeout(()=>{s.setAttribute("aria-hidden",!0)},1e3))}getSectionInnerHTML(e,t){return new DOMParser().parseFromString(e,"text/html").querySelector(t).innerHTML}enableLoading(e){(document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems")).classList.add("pointer-events-none");const s=this.querySelectorAll(`#CartItem-${e} .loading-spinner`),i=this.querySelectorAll(`#CartDrawer-Item-${e} .loading-spinner`);[...s,...i].forEach(n=>n.classList.remove("hidden")),document.activeElement.blur(),this.lineItemStatusElement.setAttribute("aria-hidden",!1)}disableLoading(){const e=document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems");e&&e.classList.remove("pointer-events-none")}}customElements.define("cart-items",I);class ue extends HTMLElement{constructor(){super(),this.totalEl=document.getElementById("CartDrawer-Total"),this.total=this.totalEl?parseFloat(this.totalEl.dataset.total):0,this.dataset.subscriptionsInCart.length>0?this.shippingThreshold=0:this.shippingThreshold=this.stringToInt(this.dataset.shippingThreshold),this.tier1Threshold=this.stringToInt(this.dataset.tier1Threshold),this.tier2Threshold=this.stringToInt(this.dataset.tier2Threshold),this.tier3Threshold=this.stringToInt(this.dataset.tier3Threshold);const e=this.dataset.hasTier1Product==="true",t=this.dataset.hasTier2Product==="true",s=this.dataset.hasTier3Product==="true",i=this.dataset.isGwpActive==="true",n=this.dataset.isLoyaltyOnly==="true";this.thresholds=[this.shippingThreshold],(i&&!n||i&&n&&window.customerLoggedIn)&&(this.tier1Threshold&&e&&this.thresholds.push(this.tier1Threshold),this.tier2Threshold&&t&&this.thresholds.push(this.tier2Threshold),this.tier3Threshold&&s&&this.thresholds.push(this.tier3Threshold)),this.progressBar=this.querySelector("progress"),this.updateProgress()}stringToInt(e){return e?parseFloat(e)*100:null}updateProgress(){let e=0;for(let t=0;t<this.thresholds.length;t++){const s=this.thresholds[t],i=t===0?0:this.thresholds[t-1];if(this.total>=s)e=(t+1)/this.thresholds.length*100;else if(this.total>i&&this.total<s){const n=s-i,o=this.total-i;e=t/this.thresholds.length*100+o/n*(100/this.thresholds.length);break}}e=Math.min(100,Math.max(0,e)),this.progressBar.value=e,this.progressBar.innerText=`${Math.round(e)}%`}}customElements.define("reward-countdown",ue);class me extends HTMLElement{constructor(){super(),this.filteredIdArray=JSON.parse(this.dataset.ids),this.destination=this.querySelector(".cart-recommendations"),this.filteredIdArray.length>0&&this.getRecommendations(this.filteredIdArray[0])}getRecommendations(e){fetch(window.Shopify.routes.root+`recommendations/products?product_id=${e}&limit=6&section_id=cart-recommendations`).then(t=>t.text()).then(t=>this.destination.innerHTML=t)}}customElements.define("cart-recommendations",me);class pe extends HTMLElement{constructor(){var e;super(),this.cart=document.querySelector("cart-drawer"),this.lineItemStatusElement=document.getElementById("shopping-cart-line-item-status")||document.getElementById("CartDrawer-LineItemStatus"),this.button=this.querySelector("button"),(e=this.button)==null||e.addEventListener("click",this.onButtonClick.bind(this))}onButtonClick(){this.enableLoading(this.dataset.itemToRemove);const e=JSON.stringify({line:this.dataset.itemToRemove,quantity:0});fetch(`${routes.cart_change_url}`,v(b({},w()),{body:e})).then(()=>{const t=JSON.stringify({items:[{id:this.dataset.itemToAdd,quantity:1}]});fetch(`${routes.cart_add_url}`,v(b({},w()),{body:t})).then(s=>s.json()).then(s=>this.cart.renderContents(s)).catch(s=>console.error(s)),this.disableLoading()}).catch(t=>console.error(t))}enableLoading(e){(document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems")).classList.add("pointer-events-none");const s=this.cart.querySelectorAll(`#CartItem-${e} .loading-spinner`),i=this.cart.querySelectorAll(`#CartDrawer-Item-${e} .loading-spinner`);[...s,...i].forEach(n=>n.classList.remove("hidden")),document.activeElement.blur(),this.lineItemStatusElement.setAttribute("aria-hidden",!1)}disableLoading(){(document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems")).classList.remove("pointer-events-none")}}customElements.define("save-with-sets",pe);class fe extends HTMLElement{constructor(){super(),this.messageTextarea=this.querySelector("#PrintedGiftNote-Message"),this.errorMessageEl=this.querySelector("#PrintedGiftNote-Error"),this.errorMessageText=this.querySelector("#PrintedGiftNote-ErrorText"),this.confirmMessage=this.querySelector("#PrintedGiftNote-Confirm"),this.noteEnabledCheckbox=this.querySelector("#PrintedGiftNote-Enable"),this.checkoutButton=document.querySelector("#CartDrawer-Checkout"),this.messageTextarea.addEventListener("keydown",S(e=>{this.updateGiftMessage(e.target.value)},1e3)),this.noteEnabledCheckbox.addEventListener("change",this.handleCheckboxChange.bind(this)),this.checkoutButton.addEventListener("click",this.handleCheckoutClick.bind(this))}connectedCallback(){this.getGiftMessage()}validateInput(e){if(!e)return!1;const t=RegExp(/^[\s0-9a-zA-Z.,?!]*$/g);return!e.match(t)}getCartContents(){return fetch(window.Shopify.routes.root+"cart.js").then(e=>e.json()).then(e=>e)}updateCart(e,t){const s=JSON.stringify({attributes:{giftEnabled:e,giftMessage:t}});fetch(`${routes.cart_update_url}`,v(b({},w()),{body:s}))}getGiftMessage(){this.getCartContents().then(e=>{const{giftEnabled:t,giftMessage:s}=e.attributes;t&&(this.noteEnabledCheckbox.checked=t==="true"),s&&(this.messageTextarea.value=s)})}updateGiftMessage(e){this.confirmMessage.classList.add("hidden"),this.errorMessageEl.classList.add("hidden"),this.noteEnabledCheckbox.checked&&e!==""&&(this.validateInput(e)?(this.errorMessageText.innerText="Alphanumeric characters only",this.errorMessageEl.classList.remove("hidden")):(this.confirmMessage.classList.remove("hidden"),setTimeout(()=>this.confirmMessage.classList.add("hidden"),3e3),this.updateCart(!0,e))),this.noteEnabledCheckbox.checked&&e===""&&(this.errorMessageText.innerText="Message cannot be blank",this.errorMessageEl.classList.remove("hidden"),this.updateCart(!1,null)),this.noteEnabledCheckbox.checked||this.updateCart(!1,null)}handleCheckboxChange(e){e.target.checked||this.updateCart(!1,null)}handleCheckoutClick(e){e.preventDefault(),this.getCartContents().then(t=>{const{giftEnabled:s,giftMessage:i}=t.attributes;s&&i!=null?fetch("/cart/add.js",{body:JSON.stringify({id:41526301163703,quantity:1}),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},method:"POST"}).then(o=>o.json()).then(o=>window.location="/checkout").catch(o=>console.error(o)):window.location="/checkout"})}}customElements.define("printed-gift-note",fe);class be extends HTMLElement{constructor(){super(),this.addEventListener("change",S(e=>{const t=JSON.stringify({note:e.target.value});fetch(`${routes.cart_update_url}`,v(b({},w()),{body:t}))},300))}}customElements.get("cart-note")||customElements.define("cart-note",be);class ye extends HTMLElement{constructor(){super(),this.onOverlayClick=this.close.bind(this),this.hasEnsuredGwp=!1,this.addEventListener("keyup",e=>e.code==="Escape"&&this.close()),this.syncDrawerElements(),this.rebindOverlayClick(),this.setHeaderCartIconAccessibility(),this.attachEventListeners()}syncDrawerElements(){this.overlay=this.querySelector(".cart-scrim"),this.drawer=this.querySelector(".cart-drawer")}rebindOverlayClick(){this.syncDrawerElements(),this.overlay&&(this.overlay.removeEventListener("click",this.onOverlayClick),this.overlay.addEventListener("click",this.onOverlayClick))}attachEventListeners(){document.addEventListener("loopByobAddToCartSuccessEvent",()=>{const e=document.activeElement;fetch("https://oseamalibu.com/cart.js").then(t=>t.json()).then(t=>{if(t!=null&&t.status){console.log("error",t.status);return}if(!t){window.location=window.routes.cart_url;return}this.renderContents(t,e)}).catch(t=>console.error(t))}),document.body.addEventListener("blotout-wallet-cart-restored",async()=>{console.log("blotout-wallet-cart-restored");const e=document.activeElement;try{const t=await fetch("/cart.js");if(!t.ok){const i=await t.text();throw new Error(`Could not fetch cart contents - ${t.status}: ${i}`)}const s=await t.json();this.renderContents(s,e)}catch(t){console.error("Error fetching cart data:",t)}})}setHeaderCartIconAccessibility(){const e=document.querySelector("#cart-icon-bubble");e&&(e.setAttribute("role","button"),e.setAttribute("aria-haspopup","dialog"),e.addEventListener("click",t=>{t.preventDefault(),this.open(e)}),e.addEventListener("keydown",t=>{var s;((s=t.code)==null?void 0:s.toUpperCase())==="SPACE"&&(t.preventDefault(),this.open(e))}))}open(e){const t=e||this.activeElement||document.activeElement;t&&this.setActiveElement(t),this.syncDrawerElements(),this.ensureGiftWithPurchase();const s=this.querySelector('[id^="Details-"] summary');s&&!s.hasAttribute("role")&&this.setSummaryAccessibility(s),this.classList.remove("invisible"),document.body.classList.add("overflow-hidden"),requestAnimationFrame(()=>{var u,p,d,y;this.classList.add("active"),(u=window.bootstrapCartProductsSection)==null||u.call(window);const i=(y=(d=(p=window.matchMedia)==null?void 0:p.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:d.matches)!=null?y:!1;let n=!1,o=null,a=null,c=null;const m=()=>{o&&window.clearTimeout(o),a&&window.clearTimeout(a),c&&window.clearTimeout(c)},l=()=>{if(n)return;this.syncDrawerElements();const f=this.drawer||this.querySelector(".cart-drawer");f&&(n=!0,m(),f.hasAttribute("tabindex")||f.setAttribute("tabindex","-1"),g(f,f),f.focus({preventScroll:!0}),requestAnimationFrame(()=>{document.activeElement!==f&&f.focus({preventScroll:!0})}),c=window.setTimeout(()=>{document.activeElement!==f&&f.focus({preventScroll:!0})},50))};if(i){requestAnimationFrame(()=>requestAnimationFrame(l));return}const h=this.drawer||this.querySelector(".cart-drawer")||this;h.addEventListener("transitionend",f=>{f.target===h&&l()},{once:!0}),requestAnimationFrame(()=>requestAnimationFrame(l)),o=window.setTimeout(l,250),a=window.setTimeout(l,600)})}ensureGiftWithPurchase(){if(this.hasEnsuredGwp)return;const e=window==null?void 0:window.gwpSettings;if(!(e!=null&&e.enabled))return;const t=document.querySelector("cart-drawer-items")||document.querySelector("cart-items");t!=null&&t.handleGiftWithPurchase&&(this.hasEnsuredGwp=!0,fetch(`${window.Shopify.routes.root}cart.js`).then(s=>{if(!s.ok)throw new Error(`Failed to fetch cart: ${s.status}`);return s.json()}).then(s=>{t.handleGiftWithPurchase(s)}).catch(s=>{console.error("Error running gift with purchase sync:",s),this.hasEnsuredGwp=!1}))}close(){this.classList.remove("active"),setTimeout(()=>this.classList.add("invisible"),400),E(this.activeElement),this.activeElement&&typeof this.activeElement.focus=="function"&&this.activeElement.focus({preventScroll:!0}),document.body.classList.remove("overflow-hidden"),document.querySelectorAll(".cart-items #bud").forEach(t=>t.remove())}setSummaryAccessibility(e){var t;e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),e.nextElementSibling.getAttribute("id")&&e.setAttribute("aria-controls",e.nextElementSibling.id),e.addEventListener("click",s=>{s.currentTarget.setAttribute("aria-expanded",!s.currentTarget.closest("details").hasAttribute("open"))}),(t=e.parentElement)==null||t.addEventListener("keyup",s=>T(s))}renderContents(e,t){var n;this.syncDrawerElements(),(n=this.drawer)!=null&&n.classList.contains("is-empty")&&this.drawer.classList.remove("is-empty"),this.productId=e==null?void 0:e.id;const s=o=>{this.getSectionsToRender().forEach(a=>{const c=a.selector?document.querySelector(a.selector):document.getElementById(a.id);c&&(c.innerHTML=this.getSectionInnerHTML(o.sections[a.id],a.selector))})},i=()=>{requestAnimationFrame(()=>{this.syncDrawerElements(),this.rebindOverlayClick(),this.open(t)})};if(!(e!=null&&e.sections)){fetch(`${window.Shopify.routes.root}?sections=${this.getSectionsToRender().map(o=>o.id).join(",")}`).then(o=>o.json()).then(o=>{e.sections=o,s(e),i()}).catch(o=>console.error(o));return}s(e),i()}addFreeGift(e){const t=e.map(i=>({id:i,quantity:1})),s=JSON.stringify({items:t});fetch(`${routes.cart_add_url}`,v(b({},w()),{body:s})).then(i=>i.json()).then(i=>this.renderContents(i,document.activeElement)).catch(i=>console.error(i))}clearCart(){fetch(window.Shopify.routes.root+"cart/clear.js").then(()=>{const e='<div class="cart-empty h-full overflow-hidden flex flex-col items-center justify-center w-60 mx-auto"><h2 class="text-lg tracking-wide font-book mb-4">Your cart is empty</h2><a href="/collections/bestsellers" class="button button-secondary mb-4 w-full">Shop Best Sellers</a><a href="/collections/skincare" class="button button-secondary mb-4 w-full">Shop Skincare</a><a href="/collections/body-care" class="button button-secondary mb-4 w-full">Shop Body Care</a><a href="/collections/shop" class="button button-secondary mb-4 w-full">Shop All</a><a href="/pages/quiz" class="button button-secondary mb-4 w-full">Take Skin Quiz</a></div>',t='<a href="/cart" class="header__icon header__icon--cart cursor-pointer flex w-10 h-10 justify-center items-center ml-1 md:ml-4 -mr-1" id="cart-icon-bubble"><span class="hidden">Cart</span><div class="w-8 h-8 bg-seafoam-300 rounded-full flex justify-center items-center"><span aria-hidden="true" class="leading-8 font-book text-lg">0</span><span class="hidden">0 items</span></div></a>',s=document.getElementById("cart-icon-bubble"),i=document.querySelector("cart-drawer"),n=document.getElementById("main-cart-footer"),o=document.querySelector(".cart-drawer-body"),a=document.querySelector(".cart-drawer-footer");s&&(s.outerHTML=t),o&&(o.innerHTML=e),a&&a.remove(),n&&n.classList.add("is-empty"),i&&(i.classList.add("is-empty"),g(i.querySelector(".cart-empty"),i.querySelector("a")))}).catch(e=>console.error(e))}getSectionInnerHTML(e,t=".shopify-section"){const i=new DOMParser().parseFromString(e,"text/html").querySelector(t);return i?i.innerHTML:""}getSectionsToRender(){return[{id:"cart-drawer",selector:"#CartDrawer"},{id:"cart-icon-bubble",selector:"#cart-icon-bubble"},{id:"announcement-bar",selector:"#AnnouncementBar"}]}getSectionDOM(e,t=".shopify-section"){return new DOMParser().parseFromString(e,"text/html").querySelector(t)}setActiveElement(e){this.activeElement=e}}customElements.define("cart-drawer",ye);class ge extends I{getSectionsToRender(){return[{id:"CartDrawer",section:"cart-drawer",selector:".cart-drawer"},{id:"cart-icon-bubble",section:"cart-icon-bubble",selector:".shopify-section"},{id:"shopify-section-announcement-bar",section:"announcement-bar",selector:".shopify-section"}]}}customElements.define("cart-drawer-items",ge);class ve extends HTMLElement{constructor(){super(),this.cachedResults={},this.input=this.querySelector("#Search-In-Modal"),this.predictiveSearchResults=this.querySelector("[data-predictive-search]"),this.isOpen=!1,this.setupEventListeners()}setupEventListeners(){this.querySelector("form.search").addEventListener("submit",this.onFormSubmit.bind(this)),this.input.addEventListener("input",S(t=>{this.onChange(t)},300).bind(this)),this.input.addEventListener("focus",this.onFocus.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.addEventListener("keyup",this.onKeyup.bind(this)),this.addEventListener("keydown",this.onKeydown.bind(this))}getQuery(){return this.input.value.trim()}onChange(){const e=this.getQuery();if(!e.length){this.close(!0);return}this.getSearchResults(e)}onFormSubmit(e){(!this.getQuery().length||this.querySelector('[aria-selected="true"] a'))&&e.preventDefault()}onFocus(){const e=this.getQuery();e.length&&(this.getAttribute("results")==="true"?this.open():this.getSearchResults(e))}onFocusOut(){setTimeout(()=>{this.contains(document.activeElement)||this.close()})}onKeyup(e){switch(this.getQuery().length||this.close(!0),e.preventDefault(),e.code){case"ArrowUp":this.switchOption("up");break;case"ArrowDown":this.switchOption("down");break;case"Enter":this.selectOption();break}}onKeydown(e){(e.code==="ArrowUp"||e.code==="ArrowDown")&&e.preventDefault()}switchOption(e){if(!this.getAttribute("open"))return;const t=e==="up",s=this.querySelector('[aria-selected="true"]'),i=this.querySelectorAll("li");let n=this.querySelector("li");if(t&&!s)return;this.statusElement.textContent="";const o=Array.from(i).findIndex(a=>a.isEqualNode(s));!t&&s?n=i[o+1]||i[0]:t&&(n=i[o-1]||i[i.length-1]),n!==s&&(n.setAttribute("aria-selected",!0),s&&s.setAttribute("aria-selected",!1),this.setLiveRegionText(n.textContent),this.input.setAttribute("aria-activedescendant",n.id))}selectOption(){const e=this.querySelector('[aria-selected="true"] a, [aria-selected="true"] button');e&&e.click()}getSearchResults(e){const t=e.replace(" ","-").toLowerCase();if(this.setLiveRegionLoadingState(),this.cachedResults[t]){this.renderSearchResults(this.cachedResults[t]);return}fetch(`${routes.predictive_search_url}?q=${encodeURIComponent(e)}&${encodeURIComponent("resources[type]")}=product,page,article,collection&${encodeURIComponent("resources[limit]")}=20&${encodeURIComponent("resources[options][fields]")}=author,body,product_type,tag,title,variants.title&section_id=predictive-search`).then(s=>{if(!s.ok){var i=new Error(s.status);throw this.close(),i}return s.text()}).then(s=>{const i=new DOMParser().parseFromString(s,"text/html").querySelector("#shopify-section-predictive-search").innerHTML;this.cachedResults[t]=i,this.renderSearchResults(i)}).catch(s=>{throw this.close(),s})}onPopularSearchClick(e){e.preventDefault();const t=e.currentTarget.getAttribute("data-term");this.input.value=t,this.input.focus(),this.onChange()}setLiveRegionLoadingState(){this.statusElement=this.statusElement||this.querySelector(".predictive-search-status"),this.loadingText=this.loadingText||this.getAttribute("data-loading-text"),this.setLiveRegionText(this.loadingText),this.setAttribute("loading",!0)}setLiveRegionText(e){this.statusElement.setAttribute("aria-hidden","false"),this.statusElement.textContent=e,setTimeout(()=>{this.statusElement.setAttribute("aria-hidden","true")},1e3)}renderSearchResults(e){this.predictiveSearchResults.innerHTML=e,this.setAttribute("results",!0),this.setLiveRegionResults(),this.open()}setLiveRegionResults(){this.removeAttribute("loading"),this.setLiveRegionText(this.querySelector("[data-predictive-search-live-region-count-value]").textContent),this.querySelectorAll(".button-popular-search").forEach(e=>e.addEventListener("click",this.onPopularSearchClick.bind(this)))}open(){this.setAttribute("open",!0),this.input.setAttribute("aria-expanded",!0),this.isOpen=!0}close(e=!1){e&&(this.input.value="",this.removeAttribute("results"));const t=this.querySelector('[aria-selected="true"]');t&&t.setAttribute("aria-selected",!1),this.input.setAttribute("aria-activedescendant",""),this.removeAttribute("open"),this.input.setAttribute("aria-expanded",!1),this.predictiveSearchResults.removeAttribute("style"),this.isOpen=!1}}customElements.define("predictive-search",ve);class we extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),this.mainDetailsToggle.addEventListener("focusout",this.onFocusOut.bind(this))}onFocusOut(){setTimeout(()=>{this.contains(document.activeElement)||this.close()})}close(){this.mainDetailsToggle.removeAttribute("open"),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!1)}}customElements.define("details-disclosure",we);class Ee extends HTMLElement{constructor(){super(),this.detailsContainer=this.querySelector("details"),this.summaryToggle=this.querySelector("summary"),this.detailsContainer.addEventListener("keyup",e=>e.code.toUpperCase()==="ESCAPE"&&this.close()),this.summaryToggle.addEventListener("click",this.onSummaryClick.bind(this)),this.querySelector('button[type="button"]').addEventListener("click",this.close.bind(this))}isOpen(){return this.detailsContainer.hasAttribute("open")}onSummaryClick(e){e.preventDefault(),e.target.closest("details").hasAttribute("open")?this.close():this.open(e)}onBodyClick(e){(!this.contains(e.target)||e.target.classList.contains("modal-overlay"))&&this.close(!1)}open(e){this.onBodyClickEvent=this.onBodyClickEvent||this.onBodyClick.bind(this),e.target.closest("details").setAttribute("open",!0),document.body.addEventListener("click",this.onBodyClickEvent),document.body.classList.add("overflow-hidden"),g(this.detailsContainer.querySelector('[tabindex="-1"]'),this.detailsContainer.querySelector('input:not([type="hidden"])'))}close(e=!0){E(e?this.summaryToggle:null),this.detailsContainer.removeAttribute("open"),document.body.removeEventListener("click",this.onBodyClickEvent),document.body.classList.remove("overflow-hidden")}}customElements.define("details-modal",Ee);
