function d(e,o){let t;return(...s)=>{clearTimeout(t),t=setTimeout(()=>e.apply(this,s),o)}}function i(){document.querySelectorAll(".js-youtube").forEach(e=>{e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),document.querySelectorAll(".js-vimeo").forEach(e=>{e.contentWindow.postMessage('{"method":"pause"}',"*")}),document.querySelectorAll("video").forEach(e=>e.pause()),document.querySelectorAll("product-model").forEach(e=>{e.modelViewerUI&&e.modelViewerUI.pause()})}function l(e="json"){return{method:"POST",headers:{"Content-Type":"application/json",Accept:`application/${e}`}}}function u(e,o=e){const t=Array.from(e.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe")),s=t[0],a=t[t.length-1];c();const r={focusin(n){[e,a,s].includes(n.target)&&document.addEventListener("keydown",r.keydown)},focusout(){document.removeEventListener("keydown",r.keydown)},keydown(n){n.code.toUpperCase()==="TAB"&&(n.target===a&&!n.shiftKey&&(n.preventDefault(),s.focus()),(n.target===e||n.target===s)&&n.shiftKey&&(n.preventDefault(),a.focus()))}};u.handlers=r,document.addEventListener("focusin",r.focusin),document.addEventListener("focusout",r.focusout),o.focus()}function c(e=null){u.handlers&&(document.removeEventListener("focusin",u.handlers.focusin),document.removeEventListener("focusout",u.handlers.focusout),document.removeEventListener("keydown",u.handlers.keydown),u.handlers=null),e&&e.focus()}function f(e){if(e.code.toUpperCase()!=="ESCAPE")return;const o=e.target.closest("details[open]");if(!o)return;const t=o.querySelector("summary");o.removeAttribute("open"),t.setAttribute("aria-expanded",!1),t.focus()}function m(){const e=["ARROWUP","ARROWDOWN","ARROWLEFT","ARROWRIGHT","TAB","ENTER","SPACE","ESCAPE","HOME","END","PAGEUP","PAGEDOWN"];let o=null,t=null;window.addEventListener("keydown",s=>{e.includes(s.code.toUpperCase())&&(t=!1)}),window.addEventListener("mousedown",()=>{t=!0}),window.addEventListener("focus",()=>{o&&o.classList.remove("focused"),!t&&(o=document.activeElement,o.classList.add("focused"))},!0)}export{m as a,d,l as f,f as o,i as p,c as r,u as t};
