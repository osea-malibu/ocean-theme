@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* System fonts */
  .system-sans {
    font-family: BlinkMacSystemFont, -apple-system, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
  }

  /* Handle no-js visibility */
  .no-js:not(html) {
    @apply hidden;
  }
  html.no-js .no-js:not(html) {
    @apply block;
  }
  .no-js-inline {
    @apply hidden;
  }
  html.no-js .no-js-inline {
    @apply inline-block;
  }
  html.no-js .no-js-hidden,
  html.no-js .predictive-search {
    @apply hidden;
  }

  /* Invisible pixel to track scroll for header shadow */
  #HeaderScrollPixel {
    @apply absolute w-px h-px bg-transparent top-24;
  }
}

@layer components {
  /* Base details / summary */
  summary {
    @apply cursor-pointer list-none relative;
  }
  summary::-webkit-details-marker {
    @apply hidden;
  }

  /* Cart + header +  menu drawers */
  menu-drawer .menu-scrim,
  cart-drawer .cart-scrim {
    @apply opacity-0 motion-safe:transition-opacity;
  }
  menu-drawer details.menu-opening .menu-scrim,
  cart-drawer.active .cart-scrim {
    @apply opacity-100;
  }

  cart-drawer .cart-drawer {
    @apply translate-x-full motion-safe:transition-transform;
  }
  cart-drawer.active .cart-drawer {
    @apply translate-x-0;
  }

  menu-drawer .menu-drawer,
  menu-drawer .menu-submenu {
    @apply motion-safe:transition-transform-visibility md:w-[40rem];
  }
  menu-drawer details.menu-opening > .menu-drawer,
  menu-drawer details[open].menu-opening > .menu-submenu {
    @apply translate-x-0 visible;
  }
  .js details[open]:not(.menu-opening) > .header__icon--menu .icon-close {
    @apply invisible;
  }
  .js details[open]:not(.menu-opening) > .header__icon--menu .icon-hamburger {
    @apply visible opacity-100 scale-105;
  }

  /* Links */
  .link {
    @apply underline underline-offset-1 hover:text-seaweed-500;
  }

  /* Buttons */
  .button {
    @apply cursor-pointer inline-flex items-center justify-center border px-6 py-2 rounded-sm font-bold tracking-widest uppercase whitespace-nowrap text-center motion-safe:transition-colors;
  }
  .button-xs {
    @apply px-3 py-0.5 text-xs;
  }
  .button-sm {
    @apply px-4 py-1 text-sm;
  }
  .button-md {
    @apply px-6 py-2 text-base;
  }
  .button-lg {
    @apply px-7 py-3 text-lg;
  }
  .button-xl {
    @apply px-8 py-4 text-xl;
  }
  .button-primary {
    @apply bg-seaweed-700 border-seaweed-700 text-white hover:bg-seaweed-500 hover:border-seaweed-500;
  }
  .button-secondary {
    @apply bg-white border-seaweed-400 hover:bg-seafoam-100 hover:border-seaweed-500;
  }
  .button-tertiary {
    @apply bg-seaweed-200 border-seaweed-200 hover:border-seaweed-400;
  }
  .button-white {
    @apply bg-white border-white hover:bg-seafoam-100 hover:border-seafoam-100;
  }
  .button-icon.button-xs svg {
    @apply w-3 h-3 stroke-2;
  }
  .button-icon.button-sm svg {
    @apply w-4 h-4 stroke-2;
  }
  .button-icon svg {
    @apply w-5 h-5 stroke-1/50;
  }
  .button-icon.button-lg svg {
    @apply w-6 h-6 stroke-1/75;
  }
  .button-icon.button-xl svg {
    @apply w-7 h-7 stroke-1/75;
  }
  .button-icon-left.button-xs svg,
  .button-icon-left.button-sm svg {
    @apply mr-1;
  }
  .button-icon-right.button-xs svg,
  .button-icon-right.button-sm svg {
    @apply ml-1;
  }
  .button-icon-left svg {
    @apply mr-2;
  }
  .button-icon-right svg {
    @apply ml-2;
  }
  .button-icon-left.button-lg svg,
  .button-icon-left.button-xl svg {
    @apply mr-3;
  }
  .button-icon-right.button-lg svg,
  .button-icon-right.button-xl svg {
    @apply ml-3;
  }
  .button-group .button {
    @apply rounded-none relative;
  }
  .button-group .button:focus {
    @apply z-10;
  }
  .button-group .button:first-of-type {
    @apply rounded-l-sm;
  }
  .button-group .button:last-of-type {
    @apply rounded-r-sm;
  }
  .button-group .button:not(:first-of-type) {
    @apply -ml-px;
  }

  /* Inputs */
  .input {
    @apply cursor-text bg-white border border-seaweed-400 rounded-sm px-4 tracking-wide focus:ring-1;
  }
  .input-xs {
    @apply px-3 py-0.5 text-xs;
  }
  .input-sm {
    @apply px-4 py-1 text-sm leading-4;
  }
  .input-lg {
    @apply px-7 py-3 text-lg;
  }
  .input-xl {
    @apply px-8 py-4 text-xl;
  }
  select.input {
    @apply cursor-pointer pr-8;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%231d4d41' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  }
  select.input-sm {
    @apply pr-5 bg-[right_0.125rem_center] xs:bg-[right_0.25rem_center];
  }
  [type="checkbox"] {
    @apply cursor-pointer p-0;
  }
  [type="checkbox"]:checked {
    @apply bg-seaweed-700;
  }
  .input:focus {
    --tw-ring-color: #dbe5d3;
    border-color: #dbe5d3;
  }

  /* Badge */
  .badge {
    @apply inline-block px-2 py-1 uppercase font-bold tracking-widest bg-coral-600 text-white;
  }

  /* Predictive search */
  [type="search"]::-webkit-search-cancel-button {
    @apply appearance-none h-5 w-[60px] text-wave-400;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='20px' width='60px'><text x='6' y='15' fill='%23818181' font-size='14' font-family='neuzeit-grotesk, sans-serif' style='text-transform: uppercase; letter-spacing: 0.25px;'>Clear</text></svg>");
  }
  predictive-search[open] .predictive-search,
  predictive-search[loading] .predictive-search {
    @apply max-h-[calc(100vh-96px)];
  }
  predictive-search:not([loading]) .loading-spinner,
  predictive-search:not([loading]) .predictive-search__loading-state,
  predictive-search:not([loading]) .predictive-search-status__loading {
    @apply hidden;
  }
  predictive-search[loading] .predictive-search__heading ~ .predictive-search__loading-state,
  predictive-search[loading] .predictive-search__results-list:first-child {
    @apply hidden;
  }

  /* Tab controller */
  tab-controller [role="tabpanel"] {
    @apply hidden;
  }
  tab-controller [role="tabpanel"][aria-expanded="true"] {
    @apply block;
  }

  /* Progress bar */
  .progress-bar {
    @apply appearance-none h-2 w-full border border-white shadow-[0_0_0_1px_rgba(0,0,0,1)] shadow-seaweed-400;
  }
  .progress-bar::-webkit-progress-bar {
    @apply bg-seafoam-300;
  }
  .progress-bar::-webkit-progress-value {
    @apply bg-seaweed-700;
  }

  /* Modal dialog (popup modal) */
  modal-dialog {
    @apply fixed inset-0 bg-seaweed-700/50 z-50 p-6 invisible opacity-0 motion-safe:transition-[visibility_0s,opacity_200ms];
  }
  modal-dialog[open] {
    @apply visible opacity-100;
  }
  modal-dialog [role="dialog"] {
    @apply absolute top-1/2 left-6 right-6 -translate-y-1/2 bg-white rounded-sm px-6 sm:px-8 py-10 shadow-xl shadow-seaweed-800/20 max-w-md mx-auto scale-0 origin-center motion-safe:transition-transform duration-200 delay-200;
  }
  modal-dialog[open] [role="dialog"] {
    @apply scale-100;
  }
  modal-dialog button[id^="ModalClose-"] {
    @apply absolute top-2 right-2 text-seaweed-600;
  }

  /* Deferred media (video poster) */
  .deferred-media__poster {
    @apply bg-transparent border-0 cursor-pointer m-0 p-0 h-full w-full;
  }
  .media > .deferred-media__poster {
    @apply flex items-center justify-center;
  }
  .deferred-media__poster img {
    @apply w-auto h-full;
  }
  .deferred-media {
    @apply overflow-hidden;
  }
  .deferred-media:not([loaded]) template {
    @apply -z-10;
  }
  .deferred-media[loaded] > .deferred-media__poster {
    @apply hidden;
  }
  .deferred-media__poster:focus {
    @apply outline-offset-2;
  }
  .deferred-media__poster-button {
    @apply bg-white rounded-full flex items-center justify-center h-20 w-20 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 scale-100 z-10 motion-safe:transition-transform;
  }
  .deferred-media__poster-button:hover {
    @apply scale-110;
  }
  .deferred-media__poster-button .icon {
    @apply w-8 h-8;
  }
  .deferred-media__poster-button .icon-play {
    @apply ml-1;
  }

  /* Slider */
  slider-component {
    @apply relative block w-full;
    --swiffy-slider-snap-align: center;
    --swiffy-slider-item-width: 100%;
    --swiffy-slider-item-gap: theme(spacing.4);
    --swiffy-slider-item-reveal: 0rem;
    --swiffy-slider-item-count: 1;
    --swiffy-slider-track-opacity: 0.1;
    --swiffy-slider-indicator-outside-size: theme(spacing.8);
    --swiffy-slider-animation-duration: 0.75s;
    --swiffy-slider-animation-delay: 0s;
    --swiffy-slider-animation-timing: ease-in-out;
  }
  slider-component ::-webkit-scrollbar {
    @apply h-0;
  }
  slider-component ::-webkit-scrollbar-track {
    @apply bg-seafoam-200 rounded-2xl;
  }
  slider-component ::-webkit-scrollbar-thumb {
    @apply bg-seaweed-700 rounded-2xl;
  }
  slider-component ::-webkit-scrollbar-thumb:hover {
    @apply bg-seaweed-600;
  }
  .slider-container {
    @apply overflow-x-auto scroll-smooth grid items-center h-full grid-flow-col list-none m-0 bg-clip-padding;
    --swiffy-slider-item-gap-totalwidth: calc(var(--swiffy-slider-item-gap) * (var(--swiffy-slider-item-count) - 1));
    --swiffy-slider-item-width: calc((100% - var(--swiffy-slider-item-reveal) - var(--swiffy-slider-item-gap-totalwidth)) / var(--swiffy-slider-item-count));
    -webkit-overflow-scrolling: touch;
    -ms-scroll-snap-type: x mandatory;
    scroll-snap-type: x mandatory;
    grid: auto/auto-flow -webkit-max-content;
    grid: auto/auto-flow max-content;
    grid-auto-rows: 100%;
    grid-auto-columns: var(--swiffy-slider-item-width);
    grid-gap: var(--swiffy-slider-item-gap);
    scrollbar-width: none;
    scrollbar-color: rgba(0, 0, 0, 0.4) rgba(0, 0, 0, var(--swiffy-slider-track-opacity));
  }
  .slider-container > * {
    @apply relative w-full h-full;
    scroll-snap-align: var(--swiffy-slider-snap-align);
  }
  .slider-item-helper .slider-container > * {
    @apply bg-cover bg-wave-100 bg-center flex justify-center items-center;
  }
  .slider-nav-scrollbar .slider-container {
    @apply pb-4;
  }
  .slider-nav-scrollbar {
    --swiffy-slider-track-height: theme(spacing.2);
  }
  .slider-nav-scrollbar .slider-container {
    scrollbar-width: thin;
  }
  .slider-nav-nodelay .slider-container {
    @apply scroll-auto;
  }
  .slider-indicators {
    @apply absolute invisible right-8 bottom-0 left-8 flex justify-center p-0 mb-4 list-none;
  }
  .slider-indicators-visible .slider-indicators {
    @apply visible;
  }
  .slider-nav-scrollbar .slider-indicators {
    margin-bottom: calc(1rem + var(--swiffy-slider-track-height));
  }
  .slider-indicators > .active {
    @apply opacity-100;
  }
  .slider.slider-indicators-outside .slider-nav {
    margin-bottom: var(--swiffy-slider-indicator-outside-size);
  }
  .slider.slider-indicators-outside {
    padding-bottom: var(--swiffy-slider-indicator-outside-size);
  }
  .slider.slider-indicators-outside .slider-indicators,
  .slider.slider-indicators-outside.slider-indicators {
    @apply mb-0;
  }
  .slider-indicators > * {
    @apply box-content flex-initial w-8 h-1 p-0 cursor-pointer bg-white bg-clip-padding opacity-50 motion-safe:transition-opacity border-8 border-transparent;
  }
  .slider-indicators-square .slider-indicators > *,
  .slider-indicators-square.slider-indicators > * {
    @apply w-2 h-2 border-8 border-transparent;
  }
  .slider-indicators-round .slider-indicators > *,
  .slider-indicators-round.slider-indicators > * {
    @apply w-2 h-2 border-8 border-transparent rounded-full;
  }
  .slider-indicators-highlight .slider-indicators > .active,
  .slider-indicators-highlight.slider-indicators > .active {
    @apply border-4 border-transparent p-px;
  }
  .slider-nav {
    @apply absolute inset-y-0 bg-transparent cursor-pointer p-0 invisible opacity-80 motion-safe:transition-opacity flex items-center py-0 px-2;
    transition: visibility 0.1s, opacity 0.2s linear;
    margin-bottom: var(--swiffy-slider-track-height);
  }
  .slider:hover .slider-nav {
    @apply visible;
  }
  .slider.slider-nav-autohide.slider-item-first-visible .slider-nav:not(.slider-nav-next) {
    @apply invisible;
  }
  .slider.slider-nav-autohide.slider-item-last-visible .slider-nav.slider-nav-next {
    @apply invisible;
  }
  .slider .slider-nav:hover {
    @apply opacity-100;
  }
  .slider-nav-next {
    @apply right-0;
  }
  .slider-nav-visible .slider-nav {
    @apply visible;
  }
  .slider-nav-dark .slider-nav {
    @apply opacity-60;
  }
  .slider-indicators-dark .slider-indicators > *,
  .slider-indicators-dark.slider-indicators > * {
    @apply bg-seaweed-700;
  }
  .slider-item-snapstart {
    --swiffy-slider-snap-align: start;
  }
  .slider-item-nosnap {
    --swiffy-slider-snap-align: unset;
  }
  .slider-item-nogap {
    --swiffy-slider-item-gap: 0rem;
  }
  .slider-nav-mousedrag .slider-container {
    @apply cursor-grab;
  }
  .slider-nav-mousedrag .slider-container.dragging {
    -ms-scroll-snap-type: unset;
    scroll-snap-type: unset;
    scroll-behavior: unset;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  .slider-item-reveal {
    --swiffy-slider-item-reveal: 8rem;
  }

  @media (hover: hover) {
    .slider-nav-mousedrag .slider-container::after {
      @apply content-[""] absolute w-full h-full;
    }
  }
  @media (prefers-reduced-motion: no-preference) {
    .slider-nav-animation.slider-nav-animation-fast {
      --swiffy-slider-animation-duration: 0.25s;
    }
    .slider-nav-animation.slider-nav-animation-slow {
      --swiffy-slider-animation-duration: 1.25s;
    }
    .slider-nav-animation .slider-container > * > * {
      transition: opacity var(--swiffy-slider-animation-duration) var(--swiffy-slider-animation-timing),
        transform var(--swiffy-slider-animation-duration) var(--swiffy-slider-animation-timing);
      transition-delay: var(--swiffy-slider-animation-delay);
    }
    .slider-nav-animation .slider-container .slide-visible > * {
      transition: opacity var(--swiffy-slider-animation-duration) var(--swiffy-slider-animation-timing),
        transform var(--swiffy-slider-animation-duration) var(--swiffy-slider-animation-timing);
      transition-delay: var(--swiffy-slider-animation-delay);
    }
    .slider-nav-animation.slider-nav-animation-fadein .slider-container > * > * {
      opacity: 0.5;
    }
    .slider-nav-animation.slider-nav-animation-scale .slider-container > * > * {
      transform: scale(0.9);
    }
    .slider-nav-animation.slider-nav-animation-appear .slider-container > * > * {
      opacity: 0.3;
      transform: scale(0.9);
    }
    .slider-nav-animation.slider-nav-animation-scaleup .slider-container > * > * {
      transform: scale(0.25);
    }
    .slider-nav-animation.slider-nav-animation-zoomout .slider-container > * {
      overflow: hidden;
    }
    .slider-nav-animation.slider-nav-animation-zoomout .slider-container > * > * {
      transform: scale(1.3);
    }
    .slider-nav-animation.slider-nav-animation-turn .slider-container > * > * {
      transform: rotateY(70deg);
    }
    .slider-nav-animation.slider-nav-animation-slideup .slider-container > * > * {
      transform: translateY(60%) scale(0.99);
    }
    .slider-nav-animation.slider-nav-animation-slideup .slider-container {
      overflow-y: hidden;
    }
    .slider-nav-animation .slider-container > .slide-visible > * {
      opacity: 1;
      transform: none;
    }
  }
  @media (max-width: 62rem) {
    .slider {
      --swiffy-slider-track-height: 0rem;
    }
    .slider-indicators {
      margin-bottom: 0.5rem;
      display: flex;
    }
    .slider-indicators > * {
      width: 1rem;
      height: 0.125rem;
      border-width: 0.25rem;
    }
  }
  @media (hover: none) {
    .slider.slider-nav-touch .slider-nav {
      visibility: visible;
    }
    .slider-item-nosnap-touch {
      --swiffy-slider-snap-align: unset;
    }
  }

  /* Glide.js slider */
  .glide {
    @apply relative block w-full box-border;
  }
  .glide * {
    @apply box-border;
  }
  .glide__track {
    @apply overflow-hidden;
  }
  .glide__slides {
    @apply relative w-full list-none overflow-hidden p-0 whitespace-nowrap flex flex-nowrap backface-hidden will-change-transform touch-pan-y;
    transform-style: preserve-3d;
  }
  .glide__slides--dragging {
    @apply select-none;
  }
  .glide__slide {
    @apply w-full shrink-0 whitespace-normal select-none;
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
  }
  .glide__slide a {
    @apply select-none;
    -webkit-user-drag: none;
  }
  .glide__arrows,
  .glide__bullets {
    @apply select-none;
    -webkit-touch-callout: none;
  }
  .glide__bullet {
    @apply opacity-50;
  }
  .glide__bullet--active {
    @apply opacity-100;
  }
  .glide__bullet img {
    @apply border border-transparent motion-safe:transition-colors;
  }
  .glide__bullet--active img {
    @apply opacity-100 border-seaweed-500;
  }
  .glide.arrows-on-hover .glide__arrows {
    @apply invisible;
  }
  .glide.arrows-on-hover:hover .glide__arrows {
    @apply visible;
  }
  .glide__arrow {
    @apply absolute opacity-80 hover:opacity-100 motion-safe:transition-opacity;
  }
  .glide__arrow--left {
    @apply left-2;
  }
  .glide__arrow--right {
    @apply right-2;
  }

  /* Comparison matrix */
  table.comparison-matrix {
    @apply bg-wave-200 border-collapse min-w-[300px] sm:min-w-[540px];
  }
  table.comparison-matrix th,
  table.comparison-matrix td {
    @apply border border-seaweed-400 px-2 sm:px-3 py-2;
  }
  table.comparison-matrix th span {
    @apply font-bold uppercase tracking-wide;
  }
  table.comparison-matrix th small {
    @apply block tracking-tight sm:tracking-normal font-regular whitespace-nowrap text-xs;
  }
  table.comparison-matrix td {
    @apply text-center;
  }
  table.comparison-matrix .row-label {
    @apply px-1 sm:px-3 max-w-[220px] text-right text-sm sm:text-base leading-tight tracking-tight xs:tracking-normal font-regular;
  }
  table.comparison-matrix .col-label {
    @apply px-0.5 sm:px-3 text-center;
  }
  table.comparison-matrix td.text {
    @apply bg-white px-0.5 sm:px-3 text-sm sm:text-base tracking-tight sm:tracking-normal;
  }
  table.comparison-matrix td.checked {
    @apply bg-seafoam-100 text-lg font-bold;
  }
  table.comparison-matrix td.unchecked {
    @apply bg-white/50;
  }
}

@layer utilities {
  /* Text highlight (used in search results) */
  strong.highlight {
    @apply font-regular bg-seafoam-300;
  }

  /* Icon lists */
  .icon-list {
    @apply pl-7;
  }
  .icon-list li {
    @apply before:inline-block before:-ml-7 before:w-4 before:text-center;
  }
  .icon-list.check li {
    @apply before:content-['\2713'] before:font-bold before:mr-2;
  }
  .icon-list.bullet li {
    @apply before:content-['\2022'] before:mr-3;
  }

  /* Underline */
  .underline {
    @apply decoration-1 underline-offset-1;
  }

  /* fancy scrollbars */
  .scrollbar {
    @apply pb-2;
  }
  .scrollbar::-webkit-scrollbar {
    @apply w-1 h-1;
  }
  .scrollbar::-webkit-scrollbar-track {
    @apply bg-seafoam-200 rounded-full;
  }
  .scrollbar::-webkit-scrollbar-thumb {
    @apply bg-seafoam-400 rounded-full;
  }
  .scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-seafoam-500;
  }
}

/* this will always be included in your compiled CSS */

/* Workable job listing */
.whr-date {
  @apply hidden;
}
ul.whr-items {
  @apply p-0 list-none;
}
ul.whr-items .whr-item {
  @apply py-6 px-6 sm:px-8 leading-normal mx-0 mt-0 mb-6 border border-seaweed-400 rounded-sm;
}
ul.whr-items .whr-item h3 {
  @apply m-0 relative;
}
ul.whr-items .whr-item h3::before {
  @apply absolute top-1/2 right-2 w-4 h-0.5 bg-seaweed-500 block content-[''] rotate-45;
}
ul.whr-items .whr-item h3::after {
  @apply absolute top-1/2 -right-0.5 w-4 h-0.5 bg-seaweed-500 block content-[''] -rotate-45;
}
ul.whr-items .whr-item h3 a {
  @apply text-lg border-0 block w-full font-book tracking-wide leading-snug pr-6;
}
ul.whr-items .whr-item h3 a::before {
  @apply content-none;
}
ul.whr-items .whr-item .whr-info {
  @apply m-0 list-none max-h-0 p-0 overflow-hidden transition-all;
}
ul.whr-items .whr-item .whr-more-detail {
  @apply mb-0;
}
ul.whr-items .whr-item.active .whr-info {
  @apply max-h-[200px] pt-8 px-0 pb-2;
}
ul.whr-items .whr-item.active h3::before {
  @apply -rotate-45;
}
ul.whr-items .whr-item.active h3::after {
  @apply rotate-45;
}
