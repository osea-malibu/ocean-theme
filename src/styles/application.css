@import "tailwindcss";
@import "./theme.css";

@source "../../layout/*.liquid";
@source "../../templates/customers/*.liquid";
@source "../../templates/*.json";
@source "../../sections/*.liquid";
@source "../../snippets/*.liquid";
@source "../../assets/*.js";
@source "../scripts/*.js";
@source "../../config/settings_data.json";

/* Named variants */
@custom-variant child (& > *);
@custom-variant child-hover (& > *:hover);
@custom-variant link (&:link);
@custom-variant small (& small);
@custom-variant span (& > span);
@custom-variant video (& > video);
@custom-variant label (& label);
@custom-variant img (& img);
@custom-variant li (& li);
@custom-variant ul (& ul);
@custom-variant td (& > td);
@custom-variant tr (& > tr);
@custom-variant th (& > th);
@custom-variant h1 (& h1);
@custom-variant h2 (& h2);
@custom-variant a (& a);
@custom-variant b (& b);
@custom-variant i (& i);
@custom-variant p (& p);

/* Named group variants (hyphen form like `group-accordion-hover:`) */
@custom-variant group-accordion-hover (&:where(.group-accordion:hover *));
@custom-variant group-accordion-open (&:where(.group-accordion[open] *));
@custom-variant group-child-hover (&:where(.group-child:hover *));
@custom-variant group-child-open (&:where(.group-child[open] *));

/* peer → group combo (checked peer before a .group ancestor) */
@custom-variant group-peer-checked (.peer:checked ~ .group &);

@layer base {
  /* focus style for browsers that don't support focus-visibile */
  .focused,
  .no-js *:focus {
    @apply outline-2 outline-offset-2 outline-neon-green;
  }

  /* fix z-index issue in safari */
  video {
    -webkit-transform-style: preserve-3d;
  }
  .video-overlay {
    transform: translateZ(1px);
  }

  /* Remove number input controls on quantity */
  input.quantity__input::-webkit-outer-spin-button,
  input.quantity__input::-webkit-inner-spin-button {
    appearance: none;
    webkit-appearance: none;
    margin: 0;
  }

  /* Handle no-js visibility */
  .no-js:not(html) {
    display: none !important;
  }
  html.no-js .no-js:not(html) {
    display: block !important;
  }
  .no-js-inline {
    display: none !important;
  }
  html.no-js .no-js-inline {
    display: inline-block !important;
  }
  html.no-js .no-js-hidden,
  html.no-js .predictive-search {
    display: none !important;
  }

  /* Horizontal Scroll Box */
  horizontal-scroll-box .nav-hide {
    opacity: 0;
    pointer-events: none;
  }
}

@layer components {
  /* Base details / summary */
  summary {
    cursor: pointer;
    list-style: none;
    position: relative;
  }
  summary::-webkit-details-marker {
    display: none;
  }

  /* Cart + header +  menu drawers */
  menu-drawer .menu-scrim,
  cart-drawer .cart-scrim {
    opacity: 0;

    @media (prefers-reduced-motion: no-preference) {
      transition-property: opacity;
      transition-timing-function: var(--ease-in-out);
      transition-duration: 0.15s;
    }
  }
  menu-drawer details.menu-opening .menu-scrim,
  cart-drawer.active .cart-scrim {
    opacity: 1;
  }

  cart-drawer .cart-drawer {
    translate: 100%;

    @media (prefers-reduced-motion: no-preference) {
      transition-property: translate;
      transition-timing-function: var(--ease-in-out);
      transition-duration: 0.15s;
    }
  }
  cart-drawer.active .cart-drawer {
    translate: 0;
  }
  cart-drawer .desktop-cart-recommendations {
    opacity: 0;
    right: calc(var(--spacing) * -32);

    @media (prefers-reduced-motion: no-preference) {
      transition-property: opacity, right;
      transition-timing-function: var(--ease-in-out);
      transition-duration: 0.3s;
    }
  }
  cart-drawer.active:not(.is-empty) .desktop-cart-recommendations {
    right: 32rem;
    opacity: 1;

    @media (prefers-reduced-motion: no-preference) {
      transition-delay: 200ms;
    }
  }

  menu-drawer .menu-drawer,
  menu-drawer .menu-submenu {
    translate: -100%;
    visibility: hidden;

    @media (prefers-reduced-motion: no-preference) {
      transition-property: translate, visibility;
      transition-timing-function: var(--ease-in-out);
      transition-duration: 0.15s;
    }
  }
  menu-drawer details.menu-opening > .menu-drawer,
  menu-drawer details[open].menu-opening > .menu-submenu {
    translate: 0;
    visibility: visible;
  }
  .js details[open]:not(.menu-opening) > .header__icon--menu .icon-close {
    visibility: hidden;
  }
  .js details[open]:not(.menu-opening) > .header__icon--menu .icon-hamburger {
    visibility: visible;
    opacity: 1;
    transform: scale(1.05);
  }

  /* Modal toggle */
  .no-js details[open] .modal__toggle {
    position: absolute;
    z-index: 0;
  }
  .modal__toggle-close {
    visibility: hidden;
  }
  .no-js details[open] svg.modal__toggle-close {
    display: flex;
    z-index: 10;
  }
  .modal__toggle-open {
    display: flex;
  }
  .no-js details[open] .modal__toggle-open {
    display: none;
  }

  /* Predictive search */
  [type="search"]::-webkit-search-cancel-button,
  #Search-In-Modal::-webkit-search-cancel-button {
    @apply appearance-none h-5 w-[60px] text-wave-400;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='20px' width='60px'><text x='6' y='15' fill='%23818181' font-size='14' font-family='neuzeit-grotesk, sans-serif' style='text-transform: uppercase; letter-spacing: 0.25px;'>Clear</text></svg>");
  }
  predictive-search[open] .predictive-search,
  predictive-search[loading] .predictive-search {
    @apply max-h-[calc(100vh-72px)] ml-4;
  }
  predictive-search:not([loading]) .loading-spinner,
  predictive-search:not([loading]) .predictive-search__loading-state,
  predictive-search:not([loading]) .predictive-search-status__loading {
    @apply hidden;
  }
  predictive-search[loading] .predictive-search__heading ~ .predictive-search__loading-state,
  predictive-search[loading] .predictive-search__results-list:first-child {
    @apply hidden;
  }
  predictive-search [role="option"][aria-selected="true"] {
    @apply ring;
  }

  /* Tab controller */
  tab-controller [role="tabpanel"] {
    @apply hidden;
  }
  tab-controller [role="tabpanel"][aria-expanded="true"] {
    @apply block;
  }

  /* Modal dialog (popup modal) */
  modal-dialog {
    @apply fixed inset-0 bg-seaweed-700/50 z-50 p-6 invisible opacity-0 motion-safe:transition-[visibility_0s,opacity_200ms];
  }
  modal-dialog[open] {
    @apply visible opacity-100;
  }
  modal-dialog [role="dialog"] {
    @apply absolute top-1/2 left-6 right-6 -translate-y-1/2 bg-white rounded-md px-6 sm:px-8 py-10 shadow-xl shadow-seaweed-800/20 max-w-md mx-auto scale-0 origin-center motion-safe:transition-transform duration-200 delay-200;
  }
  modal-dialog[open] [role="dialog"] {
    @apply scale-100;
  }
  modal-dialog button[id^="ModalClose-"] {
    @apply absolute top-2 right-2 text-seaweed-600;
  }

  /* Deferred media (video poster) */
  deferred-media {
    @apply block;
  }
  .deferred-media__poster {
    @apply bg-transparent border-0 cursor-pointer m-0 p-0 h-full w-full;
  }
  .deferred-media__poster img {
    @apply w-full h-full;
  }
  .deferred-media {
    @apply overflow-hidden;
  }
  .deferred-media:not([loaded]) template {
    @apply -z-10;
  }
  .deferred-media[loaded] > .deferred-media__poster {
    @apply hidden;
  }
  .deferred-media__poster:focus {
    @apply outline-offset-2;
  }

  /* Glide.js slider */
  .glide {
    @apply relative block w-full box-border;
  }
  .glide * {
    @apply box-border;
  }
  .glide__track {
    @apply overflow-hidden;
  }
  .glide__slides {
    @apply relative w-full list-none overflow-hidden p-0 whitespace-nowrap flex flex-nowrap backface-hidden will-change-transform touch-pan-y;
    transform-style: preserve-3d;
  }
  .glide__slides--dragging {
    @apply select-none;
  }
  .glide__slide {
    @apply w-full shrink-0 whitespace-normal select-none;
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
  }
  .glide__slide a {
    @apply select-none;
    -webkit-user-drag: none;
  }
  .glide__arrows,
  .glide__bullets {
    @apply select-none;
    -webkit-touch-callout: none;
  }
  .glide__bullet {
    @apply opacity-50 motion-safe:transition-opacity;
  }
  .glide__bullet--active {
    @apply opacity-100;
  }
  .pdp .glide__bullet {
    @apply opacity-100;
  }
  .pdp .glide__bullet-icon {
    @apply opacity-50 motion-safe:transition-opacity;
  }
  .pdp .glide__bullet--active .glide__bullet-icon {
    @apply opacity-100;
  }
  .pdp .glide__bullet-icon.bg-transparent {
    @apply md:opacity-100;
  }
  .glide__bullet img {
    @apply border border-transparent motion-safe:transition-colors;
  }
  .glide__bullet--active img {
    @apply opacity-100 border-seaweed-700;
  }
  .glide.arrows-on-hover .glide__arrows {
    @apply invisible;
  }
  .glide.arrows-on-hover:hover .glide__arrows {
    @apply visible;
  }
  .glide__arrow {
    @apply absolute opacity-80 hover:opacity-100 motion-safe:transition-opacity;
  }
  .glide__arrow--left {
    @apply left-2;
  }
  .glide__arrow--right {
    @apply right-2;
  }

  /* Loading states */
  #ProductGridContainer .collection.loading .loading-overlay {
    @apply block;
  }

  /* Recover password */
  #recover,
  #recover + div {
    @apply hidden;
  }
  #recover:target {
    @apply block;
  }
  #recover:target + div {
    @apply block;
  }
  #recover:target ~ #login,
  #recover:target ~ #login + div {
    @apply hidden;
  }
  #recover,
  #login {
    @apply scroll-mt-40;
  }

  /* Addresses */
  .addresses [aria-expanded="false"] ~ div[id] {
    @apply hidden;
  }
  .addresses [aria-expanded="true"] ~ div[id] {
    @apply block;
  }

  /* Padding adjustment for PDP footer to accommodate sticky ATC */
  .pdp .footer-main {
    @apply pb-20;
  }
}

/* Container utility to match old config (center: true, padding) */
@utility container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--spacing-4);
  padding-right: var(--spacing-4);

  @media (min-width: 414px) {
    padding-left: var(--spacing-6);
    padding-right: var(--spacing-6);
  }
}

/* Custom Transition Properties */
@utility transition-height {
  transition-property: height;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
@utility transition-max-height {
  transition-property: max-height;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
@utility transition-transform-opacity {
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
@utility transition-visibility {
  transition-property: visibility, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
@utility transition-transform-visibility {
  transition-property: transform, visibility;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

/* Links */
@utility link {
  text-decoration: underline;
  text-underline-offset: 2px;
  text-decoration-thickness: 1px;

  &:hover {
    color: var(--color-seaweed-500);
  }

  @media (prefers-reduced-motion: no-preference) {
    transition-property: color, text-decoration-color;
    transition-timing-function: var(--ease-in-out);
    transition-duration: 0.15s;
  }
}

/* Buttons */
@utility button {
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-width: 1px;
  padding-inline: calc(var(--spacing) * 6);
  padding-block: calc(var(--spacing) * 2);
  border-radius: var(--radius-md);
  font-weight: var(--font-weight-bold);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  white-space: nowrap;
  text-align: center;

  @media (prefers-reduced-motion: no-preference) {
    transition-property: color, background-color, border-color, opacity, box-shadow;
    transition-timing-function: var(--ease-in-out);
    transition-duration: 0.15s;
  }
  &:active,
  &:focus {
    box-shadow: 0 0 0 2px var(--color-white), 0 0 0 4px rgba(var(--color-neon-green), 0.5);
  }
}
@utility button-xs {
  padding-inline: var(--spacing-3);
  padding-block: var(--spacing-0-5);
  font-size: var(--text-xs);
}
@utility button-sm {
  padding-inline: var(--spacing-4);
  padding-block: var(--spacing-1);
  font-size: var(--text-sm);
}
@utility button-md {
  padding-inline: var(--spacing-6);
  padding-block: var(--spacing-2);
  font-size: var(--text-base);
}
@utility button-lg {
  padding-inline: var(--spacing-7);
  padding-block: var(--spacing-3);
  font-size: var(--text-lg);
  border-radius: var(--radius-lg);
}
@utility button-xl {
  padding-inline: var(--spacing-8);
  padding-block: var(--spacing-4);
  font-size: var(--text-xl);
  border-radius: var(--radius-lg);
}
@utility button-primary {
  background-color: var(--color-seaweed-700);
  border-color: var(--color-seaweed-700);
  color: var(--color-white);

  &:visited,
  &:active,
  &:focus,
  &:link {
    background-color: var(--color-seaweed-700);
    color: var(--color-white);
  }
  &:hover {
    background-color: var(--color-seaweed-800);
    border-color: var(--color-seaweed-800);
    color: var(--color-white);
  }
}
@utility button-secondary {
  background-color: var(--color-white);
  border-color: var(--color-seaweed-400);
  color: var(--color-seaweed-800);

  &:visited,
  &:active,
  &:focus,
  &:link {
    background-color: var(--color-white);
    color: var(--color-seaweed-800);
  }
  &:hover {
    background-color: var(--color-seafoam-100);
    border-color: var(--color-seaweed-500);
    color: var(--color-seaweed-800);
  }
}
@utility button-tertiary {
  background-color: var(--color-seaweed-200);
  border-color: var(--color-seaweed-200);
  color: var(--color-seaweed-800);

  &:visited,
  &:active,
  &:focus,
  &:link {
    background-color: var(--color-seaweed-200);
    color: var(--color-seaweed-800);
  }
  &:hover {
    background-color: var(--color-seaweed-200);
    border-color: var(--color-seaweed-400);
    color: var(--color-seaweed-800);
  }
}
@utility button-white {
  background-color: var(--color-white);
  border-color: var(--color-white);
  color: var(--color-seaweed-800);

  &:visited,
  &:active,
  &:focus,
  &:link {
    background-color: var(--color-white);
    color: var(--color-seaweed-800);
  }
  &:hover {
    background-color: var(--color-seafoam-100);
    border-color: var(--color-seafoam-100);
    color: var(--color-seaweed-800);
  }
}
@utility button-black {
  background-color: var(--color-black);
  border-color: var(--color-black);
  color: var(--color-white);

  &:visited,
  &:active,
  &:focus,
  &:link {
    background-color: var(--color-black);
    color: var(--color-white);
  }
  &:hover {
    background-color: var(--color-seaweed-700);
    border-color: var(--color-seaweed-700);
    color: var(--color-white);
  }
}
@utility button-neon {
  background-color: var(--color-neon-green);
  border-color: var(--color-neon-green);
  color: var(--color-seaweed-800);

  &:visited,
  &:active,
  &:focus,
  &:link {
    background-color: var(--color-neon-green);
    color: var(--color-seaweed-800);
  }
  &:hover {
    background-color: var(--color-seaweed-200);
    border-color: var(--color-seaweed-200);
    color: var(--color-seaweed-800);
  }
}
@utility button-icon {
  &.button-xs svg {
    width: var(--spacing-3);
    height: var(--spacing-3);
    stroke-width: 2px;
  }
  &.button-sm svg {
    width: var(--spacing-4);
    height: var(--spacing-4);
    stroke-width: 2px;
  }
  &.button-lg svg {
    width: var(--spacing-6);
    height: var(--spacing-6);
    stroke-width: 2px;
  }
  &.button-xl svg {
    width: var(--spacing-7);
    height: var(--spacing-7);
    stroke-width: 2px;
  }
}
@utility button-icon-left {
  & svg {
    margin-right: var(--spacing-2);
  }
  &.button-xs svg,
  &.button-sm svg {
    margin-right: var(--spacing-1);
  }
  &.button-lg svg,
  &.button-xl svg {
    margin-right: var(--spacing-3);
  }
}
@utility button-icon-right {
  & svg {
    margin-left: var(--spacing-2);
  }
  &.button-xs svg,
  &.button-sm svg {
    margin-left: var(--spacing-1);
  }
  &.button-lg svg,
  &.button-xl svg {
    margin-left: var(--spacing-3);
  }
}
@utility button-group {
  & .button {
    position: relative;
    border-radius: 0;

    &:focus {
      z-index: 10;
    }
    &:first-of-type {
      border-top-left-radius: var(--radius-md);
      border-bottom-left-radius: var(--radius-md);
    }
    &:last-of-type {
      border-top-right-radius: var(--radius-md);
      border-bottom-right-radius: var(--radius-md);
    }
    &:not(:first-of-type) {
      margin-left: -1px;
    }
  }
}

/* Inputs */
@utility field {
  display: block;
  width: 100%;
  letter-spacing: var(--tracking-wide);

  & .label {
    font-weight: var(--font-weight-medium);
    margin-bottom: var(--spacing-1);
  }
  & .input {
    display: block;
    width: 100%;
  }
}
@utility input {
  cursor: text;
  background-color: var(--color-white);
  border: 1px solid var(--color-seaweed-400);
  border-radius: var(--radius-md);
  padding-inline: var(--spacing-4);
  letter-spacing: var(--tracking-wide);

  &:focus {
    outline: 2px solid rgba(var(--color-neon-green), 0.5);
    outline-offset: 2px;
  }
}
@utility input-xs {
  padding-inline: var(--spacing-1);
  padding-block: var(--spacing-0-5);
  font-size: var(--text-xs);
}
@utility input-sm {
  padding-inline: var(--spacing-2);
  padding-block: var(--spacing-1);
  font-size: var(--text-sm);
  line-height: var(--leading-4);
}
@utility input-lg {
  padding-inline: var(--spacing-7);
  padding-block: var(--spacing-3);
  font-size: var(--text-lg);
  border-radius: var(--radius-lg);
}
@utility input-xl {
  padding-inline: var(--spacing-8);
  padding-block: var(--spacing-4);
  font-size: var(--text-xl);
  border-radius: var(--radius-lg);
}

/* Badge */
@utility badge {
  display: inline-block;
  padding-inline: calc(var(--spacing) * 1);
  padding-block: var(--spacing-0-5);
  font-weight: var(--font-weight-bold);
  letter-spacing: var(--tracking-wide);
  background-color: var(--color-seafoam-300);
  color: var(--color-seaweed-700);
}
@utility badge-sm {
  padding-block: var(--spacing-0-5);
  font-size: var(--text-sm);
}

/* Anchor link offset - accounts for fixed header */
@utility anchor {
  visibility: hidden;
  position: relative;
  top: -32px;
}

/* Rich text editor content */
@utility rte {
  & img {
    max-width: 100% !important;
  }
  & hr {
    border-color: var(--color-seaweed-400);
    padding-top: var(--spacing-6);
    margin-top: var(--spacing-6);
  }
  & h2 {
    font-size: var(--text-3xl);
    font-family: var(--font-serif);
    letter-spacing: var(--tracking-tight);
    line-height: var(--leading-tight);
  }
  & h5 {
    font-size: var(--text-lg);
    letter-spacing: var(--tracking-wide);
    font-weight: var(--font-weight-medium);
    line-height: var(--leading-tight);
  }
  & p {
    margin-bottom: var(--spacing-4);
    letter-spacing: var(--tracking-wide);
  }
  & ul {
    padding-left: var(--spacing-7);
  }
  & li {
    display: block;
    margin-bottom: var(--spacing-2);
    line-height: var(--leading-tight);

    &:before {
      content: "•";
      display: inline-block;
      margin-right: var(--spacing-3);
      margin-left: calc(var(--spacing) * -7);
      width: var(--spacing-4);
      text-align: center;
    }
  }
}

/* Comparison matrix */
@utility comparison-matrix {
  background-color: var(--color-wave-200);
  border-collapse: collapse;
  min-width: 300px;

  @media (min-width: 40rem) {
    min-width: 540px;
  }

  & th,
  & td {
    border: 1px solid var(--color-seaweed-400);
    padding-inline: var(--spacing-2);
    padding-block: var(--spacing-2);

    @media (min-width: 40rem) {
      padding-inline: var(--spacing-3);
    }
  }
  & td {
    text-align: center;

    &.text {
      background-color: var(--color-white);
      padding-inline: var(--spacing-0-5);
      font-size: var(--text-sm);
      letter-spacing: var(--tracking-tight);

      @media (min-width: 40rem) {
        padding-inline: var(--spacing-3);
        font-size: var(--text-base);
        letter-spacing: var(--tracking-normal);
      }
    }
    &.checked {
      background-color: var(--color-seafoam-100);
      font-size: var(--text-lg);
      font-weight: var(--font-weight-bold);
    }
    &.unchecked {
      background-color: rgba(var(--color-white), 0.5);
    }
  }
  & th span {
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
  }
  & th small {
    display: block;
    letter-spacing: var(--tracking-tight);
    font-weight: var(--font-weight-regular);
    font-size: var(--text-xs);
    white-space: nowrap;

    @media (min-width: 40rem) {
      letter-spacing: var(--tracking-normal);
    }
  }
  & .row-label {
    padding-inline: var(--spacing-1);
    max-width: 220px;
    text-align: right;
    font-size: var(--text-sm);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tight);
    font-weight: var(--font-weight-regular);

    @media (min-width: 30rem) {
      letter-spacing: var(--tracking-normal);
    }
    @media (min-width: 40rem) {
      padding-inline: var(--spacing-3);
      font-size: var(--text-base);
    }
  }
  & .col-label {
    padding-inline: var(--spacing-0-5);
    text-align: center;

    @media (min-width: 40rem) {
      padding-inline: var(--spacing-3);
    }
  }
}

/* Icon lists */
@utility icon-list {
  padding-left: var(--spacing-7);

  & li {
    line-height: var(--leading-tight);

    &:before {
      display: inline-block;
      margin-left: calc(var(--spacing) * -7);
      width: var(--spacing-4);
      text-align: center;
    }
  }
  &.\!pl-5 li:before {
    margin-left: var(--spacing-5);
  }
  &.bullet.\!pl-5 li:before {
    margin-right: var(--spacing-1);
  }
  &.icon-list-sm {
    padding-left: var(--spacing-4);
  }
  &.icon-list-sm li:before {
    font-size: 80%;
    margin-left: calc(var(--spacing) * -4);
    -webkit-font-smoothing: auto;
    -moz-osx-font-smoothing: auto;
  }
  &.check li:before {
    content: "✓";
    font-weight: var(--font-weight-bold);
    margin-right: var(--spacing-2);
  }
  &.bullet li:before {
    content: "•";
    margin-right: var(--spacing-3);
  }
}

/* Fancy scrollbar */
@utility scrollbar {
  padding-bottom: var(--spacing-2);

  &::-webkit-scrollbar {
    width: var(--spacing-1);
    height: var(--spacing-1);
  }
  &::-webkit-scrollbar-track {
    background-color: var(--color-seafoam-200);
    border-radius: var(--radius-full);
  }
  &::-webkit-scrollbar-thumb {
    background-color: var(--color-seafoam-400);
    border-radius: var(--radius-full);
  }
  &::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-seafoam-500);
  }
}

/* Hidden scrollbar */
@utility scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;

  &::-webkit-scrollbar {
    width: 0;
    height: 0;
    background-color: transparent;
  }
}

/* Progress bar */
@utility progress-bar {
  appearance: none;
  height: var(--spacing-2);
  width: 100%;
  border: 1px solid var(--color-white);
  box-shadow: 0 0 0 1px var(--color-seaweed-400);

  &::-webkit-progress-bar {
    background-color: var(--color-seafoam-300);
  }
  &::-webkit-progress-value {
    background-color: var(--color-seaweed-700);
  }
}
@utility progress-bar-alt {
  appearance: none;
  height: var(--spacing-1-5);
  width: calc(100% - var(--spacing-5));
  border-radius: var(--radius-full);

  &::-webkit-progress-bar {
    background-color: var(--color-seafoam-300);
    border-radius: var(--radius-full);
  }
  &::-webkit-progress-value {
    background-color: var(--color-seaweed-700);
    border-radius: var(--radius-full);
  }
}

/* animation correction for klaviyo override */
@utility skeleton {
  animation: var(--animation-skeleton);
}

/* Select */
select.input {
  webkit-appearance: none;
  appearance: none;
  padding-right: var(--spacing-8);
  cursor: pointer;
  background-position: right var(--spacing-2) center;
  background-repeat: no-repeat;
  background-size: var(--spacing-5);
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%231d4d41' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
}
select.input-sm {
  padding-right: var(--spacing-5);
  background-position: right 0.125rem center;

  @media (min-width: 30rem) {
    background-position: right 0.25rem center;
  }
}
[type="checkbox"] {
  cursor: pointer;
  width: var(--spacing-4);
  height: var(--spacing-4);
  text-align: center;
  padding: 0;
  background-color: var(--color-white);
  border-color: var(--color-seaweed-400);
  border-radius: var(--radius-sm);
  color: var(--color-seaweed-700);
  accent-color: var(--color-seaweed-700);

  &:focus {
    outline: 2px solid rgba(var(--color-seaweed-700), 0.5);
  }
  &:checked {
    background-color: var(--color-seaweed-700);
  }
}

/* Text highlight (used in search results) */
strong.highlight {
  @apply font-regular bg-seafoam-300;
}

/* this will always be included in your compiled CSS */
@layer utilities {
  /* Workable job listing */
  .whr-date {
    @apply hidden;
  }
  ul.whr-items {
    @apply p-0 list-none;
  }
  ul.whr-items .whr-item {
    @apply py-6 px-6 sm:px-8 leading-normal mx-0 mt-0 mb-6 border border-seaweed-400 rounded-md;
  }
  ul.whr-items .whr-item h3 {
    @apply m-0 relative;
  }
  ul.whr-items .whr-item h3::before {
    @apply absolute top-1/2 right-2 w-4 h-0.5 bg-seaweed-500 block content-[''] rotate-45;
  }
  ul.whr-items .whr-item h3::after {
    @apply absolute top-1/2 -right-0.5 w-4 h-0.5 bg-seaweed-500 block content-[''] -rotate-45;
  }
  ul.whr-items .whr-item h3 a {
    @apply text-lg border-0 block w-full font-book tracking-wide leading-snug pr-6;
  }
  ul.whr-items .whr-item h3 a::before {
    @apply content-none;
  }
  ul.whr-items .whr-item .whr-info {
    @apply m-0 list-none max-h-0 p-0 overflow-hidden transition-all;
  }
  ul.whr-items .whr-item .whr-more-detail {
    @apply mb-0;
  }
  ul.whr-items .whr-item.active .whr-info {
    @apply max-h-[200px] pt-8 px-0 pb-2;
  }
  ul.whr-items .whr-item.active h3::before {
    @apply -rotate-45;
  }
  ul.whr-items .whr-item.active h3::after {
    @apply rotate-45;
  }
}
/* this will always be included in your compiled CSS */
/* Okendo */
div.oke-sr {
  display: flex;
  align-items: center;
  margin-left: var(--spacing-1);
  height: var(--spacing-4);
}
div.oke-sr > div {
  display: flex;
  align-items: center;
  height: var(--spacing-4);
}
.oke-sr .oke-sr-stars {
  margin-right: var(--spacing-0-5);
}
.oke-sr .oke-sr-count {
  align-items: center;
  font-size: var(--text-xs);
  text-transform: lowercase;
}
.pdp .oke-sr .oke-sr-count {
  text-decoration: underline;
  text-underline-offset: var(--spacing-0-5);
}
.compact .oke-sr .oke-sr-label-text,
.hide-count .oke-sr .oke-count {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Catch pay */
#catch-callout-cart {
  justify-content: center;
  margin-top: var(--spacing-2);
}
@media (min-width: var(--breakpoint-md)) {
  #catch-callout-cart {
    justify-content: flex-end;
  }
}
#catch-callout-minicart {
  margin-block: var(--spacing-2);
  justify-content: center;
}
#catch-claim-button {
  height: auto;
  border-radius: 5px;
  line-height: var(--spacing-6);
}

/* Klaviyo - Footer Form */
.klaviyo-footer-form form.klaviyo-form label {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
.klaviyo-footer-form form.klaviyo-form [data-testid="form-row"] {
  display: flex;
  gap: var(--spacing-1);
}
.klaviyo-footer-form form.klaviyo-form button:not([role="combobox"]) {
  font-family: var(--font-sans) !important;
  width: var(--spacing-20);
  box-sizing: border-box;
}
.klaviyo-footer-form button[aria-label="Search Countries"] {
  width: var(--spacing-12) !important;
}
.klaviyo-footer-form button[aria-label="Search Countries"] svg {
  width: var(--spacing-4);
  height: var(--spacing-4);
}

/* Klaviyo - Back in Stock PDP button */
.pdp .klaviyo-bis-trigger.button {
  background-color: var(--color-neon-green);
  border-color: var(--color-neon-green);
  color: var(--color-seaweed-800);
  height: var(--spacing-11);
  position: absolute;
  bottom: 0;
  width: calc(50% - 4px) !important;
  display: flex;
  align-items: center;
}
.pdp .klaviyo-bis-trigger.button.hidden {
  display: none;
}

/* Postscript - Back in Stock PDP button */
#ps__bis_container_root {
  position: absolute;
  bottom: 0;
  right: 0;
  width: calc(50% - 4px) !important;
  z-index: 10 !important;
}
#ps__bis_container_root #ps-bis-widget__button.ps-bis-button {
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-width: 1px;
  padding-inline: var(--spacing-4);
  padding-block: var(--spacing-1);
  font-size: var(--text-sm);
  border-radius: var(--radius-md);
  font-weight: var(--font-weight-bold);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  white-space: nowrap;
  text-align: center;
  background-color: var(--color-neon-green);
  border-color: var(--color-neon-green);
  color: var(--color-seaweed-800);
  height: var(--spacing-11);
  width: 100%;
  line-height: var(--leading-tight);
}

/* Shop promise */
delivery-promise-wc {
  --p-surface-light-subdued: rgba(241, 245, 244, 0.8);
  --p-surface-light-hover: rgba(241, 245, 244, 1);
}

/* Loop Bundles */
[id^="CartBundleItem"] {
  width: 100%;
  display: flex;
  margin-block: var(--spacing-6);
}
[id^="CartBundleItem"] .product-option {
  font-size: var(--text-xs);
  flex-grow: 0;
  max-width: 11rem;
}
@media (min-width: var(--breakpoint-xs)) {
  [id^="CartBundleItem"] .product-option {
    max-width: 100%;
  }
}
[id^="CartBundleItem"] .product-option p span {
  display: block;
  height: var(--spacing-4);
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
[id^="CartBundleItem"] .cart-item__media {
  flex-shrink: 0;
}
[id^="CartBundleItem"] .cart-item__image {
  width: 60px;
  flex-shrink: 0;
}
[id^="CartBundleItem"] .cart-item__quantity {
  display: none;
}
[id^="CartBundleItem"] .right {
  margin-left: auto;
}
[id^="CartBundleItem"] .right button {
  display: flex;
  align-items: center;
  gap: var(--spacing-1);
}
[id^="CartBundleItem"] .cart-item__price-wrapper {
  gap: var(--spacing-1) !important;
}
[id^="CartBundleItem"] .cart-item__price-wrapper .price {
  font-family: var(--font-book) !important;
}
[id^="CartBundleItem"] .cart-item__price-wrapper .price:first-of-type {
  color: var(--color-seaweed-500);
}
[id^="CartBundleItem"] .right > button p {
  margin-top: var(--spacing-0-5) !important;
  font-size: var(--text-sm);
}
[id^="CartBundleItem"] .right > div svg {
  stroke-width: 0.25px;
  stroke: var(--color-seaweed-700);
}

tr#bud {
  grid-template-areas:
    "image name name name name name price"
    "image size size size size size quant"
    "image size size size size size quant";
}
tr#bud cart-remove-button {
  display: block;
  margin-left: auto;
  margin-top: var(--spacing-0-5);
}
tr#bud quantity-input {
  display: none;
}
tr#bud .cart-item__price-wrapper:not(:last-of-type) {
  color: var(--color-wave-600);
}

/* Gorgias chat widget */
#chat-button[class*="gorgias-chat-key"],
#chat-input[class*="gorgias-chat-key"] {
  bottom: var(--sticky-atc-height) !important;
  transition: bottom 0.2s;
}
#chat-window[class*="gorgias-chat-key"] {
  bottom: calc(var(--sticky-atc-height) + 68px) !important;
  transition: bottom 0.2s;
}

/* OWC Takeover */
.pdp-ocean-wave-cleanser #MainContent {
  background: rgba(245, 255, 137, 0.1);
  background: linear-gradient(135deg, rgba(245, 255, 137, 0.05) 0%, rgba(245, 255, 137, 0.75) 100%);
}
.pdp-ocean-wave-cleanser #oke-star-filled > path {
  fill: var(--color-owc-blue2);
}
.pdp-ocean-wave-cleanser #MainContent h2,
.pdp-ocean-wave-cleanser #MainContent h3 {
  color: var(--color-owc-blue);
}
.pdp-ocean-wave-cleanser .oke-w-breakdownModule-distribution-bar-fill,
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-reviewerRecommendation--yes:before {
  background-color: var(--color-owc-blue2) !important;
}
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container].oke-w,
.pdp-ocean-wave-cleanser .okeReviews .oke-w-ratingAverageModule-count,
.pdp-ocean-wave-cleanser .okeReviews .oke-w-recommendsModule-text,
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-reviews-count,
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-reviewer-verified,
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-reviewer-verified-icon:before,
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-reviewContent-date,
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-helpful,
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-helpful-vote-button,
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-helpful-vote-button:before {
  color: var(--color-owc-blue) !important;
}
.pdp-ocean-wave-cleanser .okeReviews .oke-w-reviews-head button,
.pdp-ocean-wave-cleanser .okeReviews .oke-w-reviews-head a {
  background-color: var(--color-owc-blue2);
  border-color: var(--color-owc-blue2);
}
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-review-side {
  border-right: 0;
  border-top: 0;
  border-left: 0;
  border-color: var(--color-owc-blue2);
}
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-is-large .oke-w-review-main {
  padding-block: var(--spacing-6);
  padding-right: var(--spacing-6);
}
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-reviews-main--nav-divider {
  border: none;
}
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-is-medium .oke-w-review-main {
  padding-right: var(--spacing-4);
}
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-review {
  background-color: var(--color-white);
  border: 1px solid var(--color-owc-blue2);
  border-radius: var(--radius-lg);
  overflow: hidden;
}
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-review-main {
  padding: 0 12px 12px;
}
.pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-reviews-list-item {
  border-bottom: 0;
  padding: 0 0 16px;
}
.pdp-ocean-wave-cleanser delivery-promise-wc {
  --p-surface-light-subdued: rgba(233, 243, 252, 0.8);
  --p-surface-light-hover: rgba(233, 243, 252, 1);
  color: var(--color-owc-blue);
}
@media (min-width: 48rem) {
  .pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-review-side {
    border-bottom: 0;
  }
  .pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-is-medium .oke-w-review-main {
    padding-block: var(--spacing-4);
  }
}
@media (min-width: 64rem) {
  .pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-review-side {
    border-right: 1px solid;
  }
  .pdp-ocean-wave-cleanser .okeReviews[data-oke-container] .oke-w-review-main {
    padding-inline: var(--spacing-4);
    padding-bottom: var(--spacing-4);
  }
  .pdp-ocean-wave-cleanser .okeReviews[data-oke-container] li.oke-w-reviews-list-item {
    border: none;
    padding: 0 0 24px;
  }
}
